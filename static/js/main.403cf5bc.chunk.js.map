{"version":3,"sources":["utils/auth.ts","utils/redux/user/index.ts","utils/remote.ts","utils/redux/ui/index.ts","utils/redux/config/index.ts","utils/redux/global/index.ts","utils/redux/index.ts","features/components/navigation/Footer/index.tsx","features/materials/Row/index.tsx","features/materials/utils/index.ts","features/materials/Materials/index.tsx","features/materials/List/index.tsx","features/materials/Accordions/index.tsx","features/components/general/FAIcon/index.tsx","features/shedules/activities/added/utils.ts","utils/ga/index.ts","features/components/general/Popover/index.tsx","features/components/navigation/Top/Refer/index.tsx","features/users/Create/Button/index.tsx","features/components/navigation/Top/Refer/Popover/index.tsx","features/shedules/activities/added/Button/index.tsx","features/materials/Tag/index.tsx","features/components/general/IconMenu/index.tsx","features/shedules/activities/added/Options/index.tsx","features/components/general/Slideshow/index.tsx","features/shedules/activities/preview/Images/index.tsx","features/components/general/Tour/Tooltip/index.tsx","features/components/general/Tour/index.tsx","features/components/general/Tour/Beacon/index.tsx","features/components/general/SheduleRow/Slot/Tour/index.tsx","utils/context/rowBlackbox/index.tsx","features/components/general/MyTooltip/index.tsx","features/components/general/SheduleRow/Slot/index.tsx","features/components/general/SheduleRow/Tags/index.tsx","features/components/general/SheduleRow/PortraitSlot/index.tsx","features/components/general/SheduleRow/SquareSlot/index.tsx","features/components/general/Scroll/Slides/index.tsx","utils/window/index.ts","features/components/general/Scroll/index.tsx","features/components/general/SheduleRow/ImageSlot/index.tsx","features/components/general/SheduleRow/index.tsx","features/pages/Overview/index.tsx","features/users/Create/index.tsx","features/sessions/Create/index.tsx","features/pages/Search/Row/index.tsx","features/pages/Search/index.tsx","features/pages/Dashboard/Config/DashboardTabForm/Slider/index.tsx","features/pages/Dashboard/Config/DashboardTabForm/index.tsx","features/pages/Dashboard/Config/index.tsx","features/components/general/Tabs/index.tsx","features/components/general/SheduleRow/ImageSlot/Tour/index.tsx","features/pages/Dashboard/NonSearchRow/index.tsx","features/pages/Dashboard/NonSearchPortraitRow/index.tsx","features/pages/Dashboard/NonSearchSquareRow/index.tsx","features/shedules/activities/Packs/Card/index.tsx","features/pages/Dashboard/NonSearchPackRow/index.tsx","features/pages/Dashboard/ListActivities/index.tsx","features/pages/Dashboard/index.tsx","features/shedules/activities/Show/index.tsx","features/shedules/activities/added/wrapper/index.tsx","features/materials/MasterList/index.tsx","features/shedules/activities/added/Collections/index.tsx","features/shedules/activities/added/Lineup/index.tsx","features/pages/Contact/index.tsx","features/pages/TermsOfUse/index.tsx","features/pages/Privacy/index.tsx","features/shedules/activities/Packs/Collection/index.tsx","features/components/routes/Main/index.tsx","features/components/navigation/Top/Profile/index.tsx","features/components/navigation/Top/index.tsx","features/components/general/BarChart/index.tsx","features/pages/affiliates/Dashboard/BarChart/index.tsx","features/pages/affiliates/Landing/index.tsx","features/pages/affiliates/Login/index.tsx","features/pages/affiliates/Signup/index.tsx","features/pages/affiliates/Dashboard/index.tsx","features/components/routes/Affiliate/index.tsx","features/components/routes/Root/index.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["setToken","token","localStorage","setItem","getToken","getItem","createUserAction","payload","type","userSelector","state","user","SERVER_ADDRESS","process","genDefaultHeaders","Authorization","post","url","options","headers","fetch","method","body","JSON","stringify","then","handleErrors","get","otherOptions","res","status","dispatch","json","customMerge","objValue","srcValue","isArray","undefined","useCustomSwr","apiKey","useState","page","setPage","defaultValue","data","setData","noMoreContent","setNoMoreContent","incrementPage","resetPage","useEffect","doNotFire","suffix","query","qs","arrayFormat","cache","lscache","Promise","resolve","parse","requestOptions","nextData","normalized","reduce","acc","d","nextD","Object","keys","mapping","key","target","map","id","push","set","length","concat","callback","deps","mutate","mergeResults","mergeWith","createUIAction","React","memo","props","uiSelector","ui","uiCreditsSelector","credits","createConfigAction","getState","meta","configSelector","config","dashboardTabsSelector","dashboardTabs","materialsSelector","materials","materialTypesSelector","materialTypes","addedActivitiesSelector","addedActivities","curr","addedActivitySelector","wontDoActivitySelector","wontDoActivities","completedActivitySelector","completedActivities","onboardingSelector","onboarding","fullOnboardingSelector","lineupActivitiesSelector","inSchedule","defaultState","snackbar","message","globalSelector","global","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","reducerDic","action","rawAddedActivities","rawWontDoActivities","rawCompletedActivities","rawMaterials","rawMaterialTypes","ages","subjects","ordinal","touched","uuid","v4","completed","step","skipped","getDefaultState","flush","nextState","put","jwt","decode","defaultObj","dashboard","tab","isEditing","count","hasNew","reducer","store","createStore","clear","useStyles","makeStyles","root","padding","ul","listStyleType","Footer","classes","Container","className","maxWidth","Grid","container","item","to","MaterialRow","checked","checkedClass","onChange","metaRequirement","FormControlLabel","control","Checkbox","name","raw","label","types","join","getMaterialId","req","materialTypeNotMaterial","materialTypeMatch","useStyle","typeMatch","color","Materials","render","activities","useSelector","useDispatch","handleChange","event","nextMaterials","nextMaterialTypes","activity","properties","metaRequirements","forEach","prepareMetaRequirement","MaterialsList","materialRowProps","FormGroup","rowProps","theme","margin","spacing","formLabel","paddingTop","useAccordionStyles","minHeight","content","Accordions","accordionClasses","FormControl","component","a","Accordion","defaultExpanded","AccordionSummary","expandIcon","ExpandMore","aria-controls","FormLabel","AccordionDetails","FAIcon","forwardRef","ref","outline","light","split","getType","getName","size","style","classnames","removeActivity","nextAddedActivities","blacklist","purgeActivities","addActivityToSchedule","highestOrdinal","values","randomColor","luminosity","callWhenReady","args","ga","getAll","tracker","send","setTimeout","sendEvent","gaProps","category","value","MyPopover","doNotClose","showImmediately","onShowPopup","disableHoverLeave","disablePopup","disableHover","popoverClasses","renderHoverableContent","renderOnHoverContent","popoverProps","debounced","mouseStopped","setMouseStopped","anchorEl","setAnchorEl","candidateAnchorEl","setCandidateAnchorEl","hoverableEl","useRef","doNotHide","setDoNotHide","debouncedSetMouseStopped","debounce","currentId","setCurrentId","showPopup","el","handleHide","current","override","hoverableContentProps","onClick","currentTarget","onMouseOver","onMouseMove","nextCurrentId","uniqueId","onMouseLeave","onClose","Popover","open","Boolean","disableRestoreFocus","icon","cursor","palette","primary","main","TopNavigationRefer","copied","setCopied","code","Tooltip","enterDelay","title","variant","Box","whiteSpace","Typography","m","Divider","xs","copy","textDecoration","SignupButton","location","useLocation","pathname","usePaperStyles","width","ReferPopover","paperClasses","Paper","AddActivityButtons","disabled","directToSchedule","spanRef","addedActivity","allowedBookmarks","allowMoreAddedActivities","addWrapper","comp","display","IconButton","tagContent","marginTop","perfectScore","secondary","closeScore","usePopoverStyles","paper","maxHeight","overflowY","MaterialsTag","score","Number","classNames","anchorOrigin","vertical","horizontal","transformOrigin","IconMenu","handleClose","Button","buttonComp","aria-haspopup","buttonProps","renderIcon","MoreVert","Menu","keepMounted","renderMenuItems","AddActivityOptions","MenuItem","addCompletedActivity","ListItemIcon","Check","fontSize","ListItemText","addDroppedActivity","Clear","hidden","Slideshow","images","prevArrow","nextArrow","autoplay","duration","pauseOnHover","infinite","easing","noop","img","height","backgroundSize","position","close","zIndex","right","top","ActivitiesPreviewImages","imgLinks","src","image","TourTooltip","done","index","steps","Card","tooltipProps","CardHeader","CardContent","showSkipButton","CardActions","onClickSkip","onClickNext","Tour","extraProps","onEnd","onSkip","joyrideProps","stepIndex","tooltipComponent","nextStepIndex","animation","backgroundColor","borderRadius","opacity","Beacon","SlotTour","bookmarkNav","setBookmarkNav","bookmarkSpan","setBookmarkSpan","listActivities","document","getElementsByClassName","querySelectorAll","continuous","run","scrollToFirstStep","showProgress","styles","nextStep","Popper","pointerEvents","marginLeft","placement","spotlightPadding","offset","context","ids","row","rowBlackboxContext","createContext","Provider","useRowBlackbox","useContext","MyTooltip","setOpen","spreadProps","useActivityButtonStyles","activityRoot","verticalAlign","marginRight","marginBottom","tagRoot","flexDirection","flexWrap","alignItems","justifyContent","alignContent","paddingBottom","overflow","tag","tagWidth","imageTag","activityTitle","sheduleTitle","fontWeight","sideContent","starSideContent","textAlign","activityImage","transform","headerRoot","borderBottom","SheduleSlot","shedule","wontDoActivity","completedActivity","isFirstActivityOnPage","SlotHeader","SlotTags","alt","activityButtonClasses","doNotHideAddedActivities","preview","hideSlotActions","rel","href","link","text","maxLine","ellipsis","basedOn","uniqueTags","_","uniqBy","tags","filter","indexOf","age","minAge","maxAge","rating","blue","starDimension","starSpacing","starRatedColor","amber","slice","i","description","direction","Tags","styleProps","Tag","tooltip","iconProps","children","PortraitSlot","CardMedia","find","SquareSlot","quotient","test","align","Slides","getWindowDimensions","innerWidth","innerHeight","Scroll","renderSlides","slideWidth","swiper","setSwiper","setOnEnd","onStart","setOnStart","replace","p","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","renderedSlides","buttonStyle","isMobile","sw","Swiper","slidesPerView","on","reachEnd","reachBeginning","slideNext","activeIndex","indexIncrementCount","Math","max","floor","getIncrementAmount","nextIndex","min","slideTo","indexDecrementCount","slidePrev","getWidth","imageType","image_type","card","useOnHoverStyles","SheduleImageSlot","visible","setVisible","onHoverClasses","conditionalActivityCardClass","showFirstActivity","onShowActivity","partialVisibility","nextVisible","wrap","overflowX","featuredPortrait","featuredSquare","renderSlots","Slot","ImageSlot","slots","useMastStyles","backgroundImage","backgroundPosition","backgroundRepeat","backgroundAttachment","left","signup","colors","teal","signupWrapper","login","useSubjectStyles","grey","boxes","useRequirementStyles","useAgeStyles","useMaterialStyles","Overview","isBiggerThanTiny","useMediaQuery","sampleSize","jsonActivities","Bx","justify","subjectClasses","mastClasses","ageClasses","materialClasses","requirementClasses","requirementsText","signupButton","fullWidth","disableGutters","md","s","UserCreate","parsed","search","redirectTo","redirect_to","history","useHistory","UserCreateCard","onSuccessCB","referralCode","referral_code","api","additionalInformation","validReferralCode","schema","yup","shape","termsofuse","oneOf","required","email","password","optional","UserCreateForm","useForm","resolver","yupResolver","handleSubmit","register","errors","apiErrors","setApiErrors","referralCodeError","setReferralCodeError","isValid","valid","onSubmit","catch","error","err","errorExists","TextField","inputRef","helperText","FormHelperText","SessionCreate","SessionCreateCard","SearchActivitiesRow","previousSizes","setPreviousSizes","searchTags","setSearchTags","searchText","setSearchText","onSearch","nextVal","clean","toLowerCase","v","partition","nextSeachTagsArr","nextSearchTextArr","nextSearchTags","nextSearchText","createFilterOptions","Autocomplete","freeSolo","multiple","popularTags","t","filterOptions","params","filtered","inputValue","selectOnFocus","clearOnBlur","handleHomeEndKeys","renderInput","placeholder","SearchActivities","valuetext","tagValue","numb","marks","ValueLabelComponent","enterTouchDelay","DiscreteSlider","n","parseInt","stateValue","setStateValue","nextValue","debouncedOnChange","mt","gutterBottom","Slider","aria-label","DashboardTabForm","dashboardTab","nextAges","Config","x","TabPanel","other","role","aria-labelledby","MyTabs","tabsProps","tabPropsArr","Tabs","e","newValue","indicatorColor","textColor","tabProps","Tab","ImageSlotTour","mobile","allMobileSteps","allSteps","finished","conditionCheck","noOnEnd","dashboardSteps","disableOverlayClose","disableCloseOnEsc","spotlightClicks","collectionSteps","mobileCollectionSteps","lineupSteps","lineupMobileSteps","collections","lineup","header","portraitFeatured","activitiesLoadedCallback","defaultTags","setOnShowActivity","reverse","image_types","OnboardingTripwire","take","SearchActivitiesNonSearchPortraitRow","SearchActivitiesNonSearchSquareRow","useGridStyles","createStyles","background","gridList","PacksCard","gridClasses","linkTo","pack","normalizedRating","averageStarRating","round","Rating","precision","readOnly","GridList","cellHeight","cols","GridListTile","rows","PackRow","subjectTags","mainTags","tagOrder","setTagOrder","nextTagOrder","uniq","shuffle","renderAll","minWidth","packRender","squareRender","portraitRender","rawDashboardTabs","sort","b","stopPropagation","spacer","requirements","cardTitle","cardTitleWrapper","ActivityShow","sheduleId","useParams","Helmet","charSet","property","lg","xl","Fragment","linkWrapper","Chip","humanizeDuration","source","useAccordionDetailsStyles","avatar","legendFormLabel","MasterList","accordionDetailsClasses","activitiesLineup","orderedMaterials","setOrderedMaterials","setActivities","ColoredCheckbox","defaultChecked","removeActivityFromSchedule","materialRowsProps","existingOrderedMaterialRowProps","nextOrderedMaterials","sortBy","getOrderedMaterials","materialRowProp","idsPerType","useCheckboxStyles","noActivities","Comp","OnboardingTripwire2","addedActivitiesWrapper","mounted","setMounted","onboardingcollections","bookmarkedActivities","biggerThanSmall","tour","Lineup","Contact","min-width","TermsOfUse","Privacy","PackCollection","showSuccessMessage","setShowSuccessMessage","addButton","MainRoutes","Snackbar","autoHideDuration","Close","exact","path","RouteWrapper","mustBeLoggedOut","mustBeLoggedIn","RegExp","cloneElement","Profile","flexGrow","menuButton","logo","titleLink","iconButtons","lightIconButtons","AppBar","Toolbar","Badge","badgeContent","BarChart","barChartProps","boxProps","canvas","setChart","ctx","getContext","Chart","DashboardBarChart","money","maintainAspectRatio","scales","yAxes","ticks","beginAtZero","suggestedMax","titleWrapper","subtitle","AffiliateLanding","labels","datasets","summary","AffiliateLogin","AffiliateSignup","AffiliateDashboard","activeReferrals","affiliateInformation","earningsData","earningsByDate","activeUsersData","activeUsersByDate","PageContainer","Top","affiliate","AffiliateRoutes","CoreApp","addColorToAddedActivities","configStore","addedColor","RootRoutes","newId","getUnauthenticatedId","configData","scrollTo","sendPageView","REACT_APP_AFFILIATE","createMuiTheme","App","Wrap","Router","HashRouter","fetcher","arg1","utils","DateFnsUtils","ThemeProvider","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.403cf5bc.chunk.js","sourcesContent":["\nexport const setToken = (token: string)=>{\n  localStorage.setItem('token', token);\n}\n\nexport const getToken = ()=>localStorage.getItem('token');\n","import jwt from 'jsonwebtoken';\nimport { getToken, setToken } from '../../auth';\n\nexport const DEFAULT_USER_TYPE = 'DEFAULT_USER_TYPE';\n\nconst getDefaultState = ()=>{\n  const token = getToken();\n  return token ? jwt.decode(token) : null\n}\n\nexport const reducer = (state: any, action: any)=>{\n  if(state === undefined){\n    state = getDefaultState();\n  }\n  if(action.type === DEFAULT_USER_TYPE){\n    setToken(action.payload);\n    if(!action.payload) return action.payload;\n    return jwt.decode(action.payload)\n  } \n  return state;\n}\n\nexport const createUserAction = (payload: any)=>{\n  return {\n    type: DEFAULT_USER_TYPE,\n    payload,\n  }\n}\n\n\n\nexport const userSelector = (state: any)=>state.user","import React from 'react';\nimport qs from 'query-string';\nimport { useEffect, useState } from 'react';\nimport { mergeWith, isArray } from 'lodash';\nimport { dispatch } from './redux';\nimport { getToken } from './auth';\nimport lscache from 'lscache';\nimport { createUserAction } from './redux/user';\n\nexport const SERVER_ADDRESS = process.env.REACT_APP_SERVER_ADDRESS || \"\";\nconst genDefaultHeaders = ()=>({\n  Authorization: getToken() ? `Bearer ${getToken()}` : '',\n  'Content-Type': 'application/json',\n});\n\n// lscache.flush();\nconst post = (url: string, options:any={headers: {}})=>fetch(url, {\n  method: 'POST',\n  headers: {\n    ...genDefaultHeaders(),\n    ...options.headers,\n  },\n  ...options,\n  body: JSON.stringify(options.body),\n}).then(handleErrors);\n\nconst put = (url: string, options: any={headers: {}})=>fetch(url, {\n  method: 'PUT',\n  headers: {\n    ...genDefaultHeaders(),\n    ...options.headers,\n  },\n  ...options,\n  body: JSON.stringify(options.body),\n}).then(handleErrors);\n\nconst del = (url: string, options: any={headers: {}})=>fetch(url, {\n  method: 'DELETE',\n  headers: {\n    ...genDefaultHeaders(),\n    ...options.headers,\n  },\n  ...options,\n}).then(handleErrors);\n\nconst get = (url: string, options: any={headers: {}})=>{\n  const {headers, ...otherOptions} = options;\n  return fetch(url, {\n    method: 'GET',\n    headers: {\n      ...genDefaultHeaders(),\n      ...headers,\n    },\n    ...otherOptions,\n  }).then(handleErrors);\n}\n\nconst handleErrors = (res: any)=>{\n  if(res.status === 401){\n    dispatch(createUserAction(null));\n  }\n  if(res.status >= 400){\n    throw res\n  }\n  return res.json();\n}\n\nconst customMerge = function (objValue: any, srcValue: any) {\n  if (isArray(objValue)){\n    return objValue;\n  }\n  if(objValue !== undefined){\n    return objValue\n  }\n}\n\nconst useCustomSwr = (apiKey: string, options:any={})=>{\n  const [ page, setPage ] = useState(0);\n  const [ data, setData ] = useState<any>(options.defaultValue || null);\n  const [ noMoreContent, setNoMoreContent ] = useState(false);\n  const incrementPage = ()=>setPage(page+1);\n  const resetPage = ()=>setPage(0);\n  \n  useEffect(()=>{\n    if(!options.doNotFire){\n      let suffix='';\n      if(options.query){\n        suffix=qs.stringify({\n          ...options.query,\n          ...(options.page ? {\n            page\n          } : {}),\n        }, {arrayFormat: 'bracket'})\n      }\n      const url = apiKey+(suffix ? '?' + suffix : suffix);\n      let dataRequest\n      if(options.cache && lscache.get(url)){\n        dataRequest = Promise.resolve(JSON.parse(lscache.get(url)));\n      } else {\n        dataRequest = get(url, options.requestOptions)\n      }\n      dataRequest.then((json)=>{\n        let nextData = json;\n        if(json?.normalized){\n          nextData = json.data.reduce((acc: any[], d: any)=>{\n            const nextD = Object.keys(json.mapping).reduce((acc, key)=>{\n              const target = json.mapping[key];\n              acc[target] = acc[key].map((id: string)=>json[target][id]);\n              return acc;\n            }, d)\n            acc.push(nextD)\n            return acc;\n          }, [])\n        }\n        if(options.cache){\n          lscache.set(url, JSON.stringify(json), 10);\n        }\n        return nextData;\n      }).then((res)=>{\n        if(page){\n          if(!res.length){\n            setNoMoreContent(true)\n          }\n          return setData(data.concat(res))\n        }\n        return setData(res);\n      }).then(()=>{\n        return options.callback && options.callback();\n      })\n    }\n    // eslint-disable-next-line\n  }, (options.deps || []).concat([page]));\n  const mutate = (nextData: any)=>{\n    const mergeResults = mergeWith({...nextData}, data, customMerge);\n    setData(mergeResults);\n  }\n  return { data, mutate, incrementPage, resetPage, page, noMoreContent }\n}\n\ninterface $props {\n  setData: any,\n  apiKey: string,\n  options?: any,\n}\n\nconst GetData = React.memo(function GetData(props: $props){\n  const { data } = useCustomSwr(props.apiKey, props.options);\n  props.setData(data);\n  return null;\n})\n\nexport {\n  get,\n  post,\n  put,\n  del,\n  useCustomSwr,\n  GetData,\n}","export const DEFAULT_UI_TYPE = 'DEFAULT_UI_TYPE';\n\nconst getDefaultState = ()=>{\n  const ui = localStorage.getItem('ui');\n\n  const defaultObj = {\n    dashboard: {\n      tab: 0,\n      isEditing: true\n    },\n    addedActivities: {\n      tab: 0,\n    },\n    credits: {\n      count: 0,\n      hasNew: false\n    }\n  };\n  return ui ? {\n    ...defaultObj,\n    ...JSON.parse(ui)\n  } : defaultObj;\n}\n\n\n\n\nexport const reducer = (state: any, action: any)=>{\n  if(state === undefined){\n    state = getDefaultState();\n  }\n  if(action.type === DEFAULT_UI_TYPE){\n    const nextState = Object.keys(action.payload).reduce((acc: any, key)=>{\n      acc[key]=action.payload[key];\n      return acc\n    }, {...state})\n    localStorage.setItem('ui', JSON.stringify(nextState))\n    return nextState\n  }\n  return state;\n}\n\nexport const createUIAction = (payload: any)=>{\n  return {\n    type: DEFAULT_UI_TYPE,\n    payload,\n  }\n}\n\nexport const uiSelector = (state: any)=>state.ui\nexport const uiCreditsSelector = (state: any)=>state.ui.credits","import {v4} from 'uuid';\nimport { SERVER_ADDRESS, put } from '../../remote';\n// import { createSelector } from 'reselect';\nimport { uiCreditsSelector } from '../ui';\nimport { userSelector } from '../user';\nexport const DEFAULT_CONFIG_TYPE = 'DEFAULT_CONFIG_TYPE';\n\n\nexport interface $configState {\n    addedActivities: {[id: string]: {\n      inSchedule?: Boolean,\n      ordinal: number,\n      color: string,\n    }},\n    wontDoActivities: {[id: string]: Boolean},\n    completedActivities: {[id: string]: Boolean},\n    materials: {[id: string]: Boolean},\n    materialTypes: {[id: string]: Boolean},\n    dashboardTabs: {\n      name?: string,\n      ages: string[],\n      subjects: string[],\n      ordinal: number,\n      touched: Boolean,\n      uuid: string,\n    }[],\n    onboarding: {\n      [index: string]: {\n        completed: Boolean,\n        step: number,\n        skipped?: Boolean,\n      }\n    }\n}\nconst getDefaultState = ()=>{\n  const rawAddedActivities = localStorage.getItem('addedActivities');\n  const rawWontDoActivities = localStorage.getItem('wontDoActivities');\n  const rawCompletedActivities = localStorage.getItem('completedActivities');\n  const rawMaterials = localStorage.getItem('materials');\n  const rawMaterialTypes = localStorage.getItem('materialTypes');\n  const dashboardTabs = localStorage.getItem('dashboardTabs');\n  const onboarding = localStorage.getItem('onboarding');\n\n\n  \n  const defaultState : $configState = {\n    addedActivities: rawAddedActivities ? JSON.parse(rawAddedActivities) : {},\n    wontDoActivities: rawWontDoActivities ? JSON.parse(rawWontDoActivities) : {},\n    completedActivities: rawCompletedActivities ? JSON.parse(rawCompletedActivities) : {},\n    materials: rawMaterials ? JSON.parse(rawMaterials) : {},\n    materialTypes: rawMaterialTypes ? JSON.parse(rawMaterialTypes) : {},\n    dashboardTabs: dashboardTabs ? JSON.parse(dashboardTabs) : [\n      {\n        ages: [],\n        subjects: [],\n        ordinal: 0,\n        touched: false,\n        uuid: v4()\n      }\n    ],\n    onboarding: onboarding ? JSON.parse(onboarding) : {\n      ...['dashboard', 'collections', 'lineup'].reduce((acc: any, key)=>{\n        acc[key] = {\n          completed: false,\n          step: 0,\n          skipped: false,\n        }\n        return acc;\n      }, {})\n    }\n  };\n  return defaultState;\n}\n\nconst cleanAddedActivities = (addedActivities: any)=>Object.keys(addedActivities).reduce((acc: any, curr)=>{\n  if(curr !== 'undefined'){\n    acc[curr] = addedActivities[curr];\n  }\n  return acc;\n}, {})\n\nexport const reducer = (state: $configState, action: any)=>{\n  if(state === undefined){\n    state = getDefaultState()\n  }\n  if(action.type === DEFAULT_CONFIG_TYPE){\n    if(action.payload.flush){\n      return action.payload.data\n    }\n    const nextState = Object.keys(action.payload).reduce((acc: any, curr: string)=>{\n      acc[curr] = action.payload[curr];\n      localStorage.setItem(curr, JSON.stringify(action.payload[curr]))\n      return acc;\n    }, {...state});\n    if(action?.meta?.user){\n      put(SERVER_ADDRESS+'/users/config', {\n        body: action.payload\n      });\n    }\n    return nextState;\n  }\n  return state;\n}\n\nexport const createConfigAction = (payload: any)=>(dispatch: any, getState: any)=>{\n  return dispatch({\n    type: DEFAULT_CONFIG_TYPE,\n    payload,\n    meta: {\n      user: userSelector(getState()),\n    }\n  });\n}\n\ninterface $globalState {\n  config: $configState\n}\n\n\nexport type $onboardingTypes = 'listActivities' | 'bookmarks' | 'dashboard' | 'collections' | 'lineup' | 'part4';\n\nconst BASE_ACTIVITIES_IN_LINEUP = 1;\n\nexport const configSelector = (state: $globalState)=>state.config\nexport const dashboardTabsSelector = (state: $globalState)=>state.config.dashboardTabs;\nexport const materialsSelector = (state: $globalState)=>state.config.materials;\nexport const materialTypesSelector = (state: $globalState)=>state.config.materialTypes;\nexport const addedActivitiesSelector = (state: $globalState)=>cleanAddedActivities(state.config.addedActivities);\nexport const wontDoActivitiesSelector = (state: $globalState)=>state.config.wontDoActivities;\nexport const completedActivitiesSelector = (state: $globalState)=>state.config.completedActivities;\nexport const addedActivitySelector = (id: string)=>(state: $globalState)=>state.config.addedActivities[id];\nexport const wontDoActivitySelector = (id: string)=>(state: $globalState)=>state.config.wontDoActivities[id];\nexport const completedActivitySelector = (id: string)=>(state: $globalState)=>state.config.completedActivities[id];\nexport const onboardingSelector = (type: $onboardingTypes)=>(state: $globalState)=>state.config.onboarding[type];\nexport const fullOnboardingSelector = (state: $globalState)=>state.config.onboarding;\n\nexport const lineupActivitiesSelector = (state: $globalState)=>{\n  const addedActivities = addedActivitiesSelector(state);\n  return Object.keys(addedActivities).reduce((acc: {[key: string]: any}, id)=>{\n    if(addedActivities[id].inSchedule){\n      acc[id] = addedActivities[id]\n    }\n    return acc;\n  }, {});\n}\n\n// createSelector(\n//   addedActivitiesSelector,\n//   (addedActivities)=>Object.keys(addedActivities).reduce((acc: {[key: string]: any}, id)=>{\n//   if(addedActivities[id].inSchedule){\n//     acc[id] = addedActivities[id]\n//   }\n//   return acc;\n// }, {}));\nexport const spaceLeftInLineupSelector = (state: $globalState)=>{\n  const user = userSelector(state);\n  const credits = uiCreditsSelector(state);\n  const lineupActivities = lineupActivitiesSelector(state);\n  return Math.max(0, (user ? 3 : 0) + BASE_ACTIVITIES_IN_LINEUP + credits.count-Object.keys(lineupActivities).length)\n}\n// createSelector(uiCreditsSelector, (state: $globalState)=>{\n//   console.log('isThisCalled');\n//   return lineupActivitiesSelector(state);\n// }, (credits, lineupActivities)=>Math.max(0, BASE_ACTIVITIES_IN_LINEUP + credits.count-Object.keys(lineupActivities).length))","export const DEFAULT_GLOBAL_TYPE = 'DEFAULT_GLOBAL_TYPE';\n\nconst defaultState = {\n  snackbar: {\n    message: '',\n    id: ''\n  },\n};\n\nexport const reducer = (state=defaultState, action: any)=>{\n    if(action.type === DEFAULT_GLOBAL_TYPE){\n      return Object.keys(action.payload).reduce((acc: any, key)=>{\n        acc[key]=action.payload[key];\n        return acc\n      }, {...state})\n    }\n    return state;\n}\n\nexport const createGlobalAction = (payload: any)=>{\n  return {\n    type: DEFAULT_GLOBAL_TYPE,\n    payload,\n  }\n}\n\n\n\nexport const globalSelector = (state: any)=>state.global","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk';\nimport { reducer as config } from './config';\nimport { reducer as user } from './user';\nimport { reducer as global } from './global';\nimport { reducer as ui } from './ui';\n\nconst composeEnhancers =\n  typeof window === 'object' &&\n  (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?   \n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n      // Specify extensions options like name, actionsBlacklist, actionsCreators, serialize...\n    }) : compose;\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(thunk),\n);\n\nconst reducerDic : any = {\n  config,\n  user,\n  global,\n  ui\n};\n\nconst reducer = (state: any = {}, action: any)=>{\n  return Object.keys(reducerDic).reduce((acc, key)=>{\n    acc[key] = reducerDic[key](state[key], action);\n    return acc;\n  }, state)\n}\n\nexport const storeGenerator = ()=>createStore((state, action)=>{\n  if(action.type === 'RESET'){\n    localStorage.clear();\n    return reducer(undefined, action);\n  }\n  return reducer(state, action);\n}, enhancer);\n\nexport const store = storeGenerator()\n\nexport const dispatch = store.dispatch","import React from 'react';\nimport { Grid, Container } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    padding: '2rem'\n  },\n  ul: {\n    listStyleType: 'none'\n  }\n})\n\nexport default function Footer(){\n  const classes = useStyles();\n  return <Container className={classes.root} maxWidth=\"sm\">\n    <Grid container>\n      <Grid item>\n        <ul className={classes.ul}>\n          <li><Link to=\"/contact\">Contact Us</Link></li>\n          <li><Link to=\"/termsofuse\">Terms of Use</Link></li>\n          <li><Link to=\"/privacy\">Privacy</Link></li>\n        </ul>\n      </Grid>\n    </Grid>\n  </Container>\n}","import React from 'react';\nimport { FormControlLabel } from '@material-ui/core';\nimport { $materialRowProps } from '..';\nimport { Checkbox } from '@material-ui/core';\n\nconst MaterialRow = React.memo(function MaterialRow({checked, checkedClass, onChange, metaRequirement}: $materialRowProps){\n  return <FormControlLabel\n      control={\n        <Checkbox\n          classes={{\n            checked: checkedClass,\n            root: 'checkbox-square'\n          }}\n          checked={checked}\n          onChange={onChange} \n          name={metaRequirement.raw} />\n        }\n      label={\n        metaRequirement.types.join(' or ')\n      }\n    />\n})\n\nexport default MaterialRow;","export const getMaterialId = (id: string, req: any)=>id+req.raw\n\nexport const materialTypeNotMaterial = (materials: any, materialTypes: any)=>(id: string, req: any)=>{\n  return !materials[getMaterialId(id, req)] && materialTypeMatch(materialTypes)(req.types)\n}\n\nexport const materialTypeMatch = (materialTypes: any)=>(types: any)=>types.reduce((acc: any, curr: any)=>{\n  if(acc) return acc;\n  return materialTypes[curr];\n}, false);","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getMaterialId, materialTypeNotMaterial, materialTypeMatch } from '../utils';\nimport { createConfigAction, materialsSelector, materialTypesSelector } from '../../../utils/redux/config';\nimport { makeStyles } from '@material-ui/core';\nimport { $activity, $metaRequirement } from '../../../../declarations/local/activity';\nimport { $materialRowProps } from '..';\n\nconst useStyle = makeStyles({\n  typeMatch: {\n    color: '#e0e0e0 !important',\n  }\n})\n\nconst  Materials = React.memo(function Materials({render, activities} : {render: Function, activities: $activity[]}){\n  const classes = useStyle();\n  const materials = useSelector(materialsSelector);\n  const materialTypes = useSelector(materialTypesSelector);\n  const dispatch = useDispatch();\n  const handleChange = (id: string, metaRequirement: $metaRequirement)=>(event: any)=>{\n    const checked = event.target.checked || materialTypeNotMaterial(materials, materialTypes)(id, metaRequirement);\n    const nextMaterials = {\n      ...materials,\n      [getMaterialId(id, metaRequirement)]: checked\n    }\n    const nextMaterialTypes = metaRequirement.types.reduce((acc: any, curr: string)=>{\n      acc[curr] = checked;\n      return acc\n    }, {...materialTypes});\n    dispatch(createConfigAction({\n      materials: nextMaterials,\n      materialTypes: nextMaterialTypes,\n    }));\n  }\n  const prepareMetaRequirement = (activity: $activity, metaRequirement: $metaRequirement)=>{\n    return {\n      id: activity.id,\n      checked: !!(materials[\n        getMaterialId(activity.id, metaRequirement)\n      ]) || \n      materialTypeMatch(materialTypes)(metaRequirement.types) || \n      false,\n      checkedClass: materialTypeNotMaterial(materials, materialTypes)(activity.id, metaRequirement) && classes.typeMatch,\n      onChange: handleChange(activity.id, metaRequirement),\n      metaRequirement,\n    }\n  }\n  const materialRowProps = activities.reduce((acc : $materialRowProps[], activity)=>{\n    (activity?.properties?.metaRequirements || []).forEach((metaRequirement: $metaRequirement)=>{\n      acc.push(prepareMetaRequirement(activity, metaRequirement));\n    });\n    return acc;\n  }, [])\n  return render(materialRowProps);\n});\n\nexport default Materials;","import React from 'react';\nimport { FormGroup } from '@material-ui/core';\n\nimport { $activity } from '../../../../declarations/local/activity';\nimport { $materialRowProps } from '..';\nimport MaterialRow from '../Row';\nimport Materials from '../Materials';\n\n\nexport default function MaterialsList({activity}: {activity: $activity}){\n  return <Materials activities={[activity]}\n    render={\n      (materialRowProps: $materialRowProps[])=><FormGroup>\n        {\n          materialRowProps.map((rowProps: $materialRowProps) => <MaterialRow key={rowProps.id + rowProps.metaRequirement.raw} {...rowProps} />)\n        }\n      </FormGroup>\n    }\n  />\n}","import React from 'react';\nimport { makeStyles, FormControl, FormLabel } from '@material-ui/core';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\n\nimport MaterialsList from '../List';\n\n\nimport { ExpandMore as ExpandMoreIcon } from '@material-ui/icons';\n\n\nconst useStyles = makeStyles(theme=>({\n  root: {\n    margin: theme.spacing(3),\n  },\n  formLabel: {\n    paddingTop: '0.5rem'\n  }\n}))\n\nconst useAccordionStyles = makeStyles({\n  root: {\n    minHeight: '30px !important'\n  },\n  content: {\n    margin: '0 !important'\n  },\n})\n\n\nexport default function Accordions({data}: {data: any[]}){\n  const classes = useStyles();\n  const accordionClasses = useAccordionStyles();\n  return <FormControl component=\"fieldset\" className={classes.root}> \n  {\n    data.map(a=>{\n      return <Accordion key={a.id} defaultExpanded>\n        <AccordionSummary\n          classes={accordionClasses}\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n        <FormLabel className={classes.formLabel} component=\"legend\">{a.name}</FormLabel>\n        </AccordionSummary>\n        <AccordionDetails>\n          <MaterialsList activity={a} />\n        </AccordionDetails>\n      </Accordion>\n    })\n  }\n</FormControl>\n}","import React from 'react'\nimport classnames from 'classnames'\n\ntype $props = {outline?: Boolean, light?: Boolean, raw?: string, className?: string, size?: string|number, type?: string, style?: Object}\n\nconst FAIcon = React.forwardRef(function FAIcon(props: $props, ref: any){\n  const type = getType(props);\n  const name = getName(props);\n  const size = props.size\n  return <i ref={ref} style={props.style || {}} className={classnames(props.className, type, name, size && 'la-'+size)} />\n});\n\nexport default FAIcon;\n\nfunction getType(props: $props){\n  if(props.outline) return 'lar';\n  if(props.light) return 'lal';\n  if(props.raw) return props.raw.split(' ')[0];\n  return 'las';\n}\n\nfunction getName(props: $props){\n  if(props.raw) return props.raw.split(' ')[1];\n  return `la-${props.type}`\n}","import blacklist from 'blacklist';\nimport { $activity } from '../../../../../declarations/local/activity';\nimport { createConfigAction, configSelector } from '../../../../utils/redux/config';\nimport randomColor from 'randomcolor';\n\n\n// const updateLocalAddedActivities = (addedActivities)=>{\n//   localStorage.setItem('addedActivities', JSON.stringify(addedActivities))\n// }\n\nexport const removeActivity = (activity: {id: string})=>(dispatch: Function, getState: Function)=>{\n  const nextAddedActivities = blacklist(configSelector(getState()).addedActivities, activity.id);\n  // updateLocalAddedActivities(nextAddedActivities);\n\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities,\n  }))\n}\n\nexport const addActivity = (activity: $activity)=>(dispatch: any, getState: any)=>{\n  const nextAddedActivities = {\n    ...configSelector(getState()).addedActivities,\n    [activity.id]: {\n      color: randomColor({luminosity: 'light'})\n    }\n  };\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }))\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const purgeActivities = (activities: $activity[])=>(dispatch: Function, getState: Function)=>{\n  const { addedActivities } = configSelector(getState());\n  const nextAddedActivities = activities.reduce((acc: any, curr: any)=>{\n    acc[curr.id] = addedActivities[curr.id]\n    return acc;\n  }, {});\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }))\n  // updateLocalAddedActivities(nextAddedActivities);  \n}\n\nexport const updateActivities = (activityRelationships: any)=>(dispatch: Function, getState: Function)=>{\n  const nextAddedActivities = activityRelationships.reduce((acc: any, curr: any)=>{\n    acc[curr.id].ordinal=curr.ordinal\n    return acc;\n  }, {...configSelector(getState()).addedActivities});\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }));\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const addActivityToSchedule = (activity: $activity)=>(dispatch: Function, getState: Function)=>{\n  const { addedActivities } = configSelector(getState());\n  const highestOrdinal = Object.values(addedActivities).reduce((acc: number, curr: any)=>{\n    if(curr.inSchedule && curr.ordinal > acc){\n      return curr.ordinal\n    }\n    return acc\n  }, 0)\n  const nextAddedActivities = {\n    ...addedActivities,\n    [activity.id]: {\n      // @ts-ignore: never\n      color: randomColor({luminosity: 'light'}),\n      ...(addedActivities[activity.id] || {}),\n      inSchedule: true,\n      ordinal: highestOrdinal+1,\n      \n    }\n  };\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }));\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\n\nexport const removeActivityFromSchedule = (activity: {id: string})=>(dispatch: Function, getState: Function)=>{\n  const { addedActivities } = configSelector(getState());\n  const nextAddedActivities = {\n    ...addedActivities,\n    [activity.id]: {\n      ...addedActivities[activity.id],\n      inSchedule: false,\n    }\n  };\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }));\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const addCompletedActivity = (activity: $activity)=>(dispatch: Function, getState: Function)=>{\n  const completedActivities = {\n    ...configSelector(getState()).completedActivities,\n    [activity.id]: {\n      \n    }\n  };\n  const nextAddedActivities = blacklist(configSelector(getState()).addedActivities, activity.id);\n\n  // updateLocalAddedActivities(nextAddedActivities);\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities,\n    completedActivities\n  }));\n\n  // localStorage.setItem('completedActivities', JSON.stringify(completedActivities));\n}\n\nexport const addDroppedActivity = (activity: $activity)=>(dispatch: Function, getState: Function)=>{\n\n  const wontDoActivities = {\n    ...configSelector(getState()).wontDoActivities,\n    [activity.id]: {\n      \n    }\n  };\n  const nextAddedActivities = blacklist(configSelector(getState()).addedActivities, activity.id);\n  // updateLocalAddedActivities(nextAddedActivities);\n\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities,\n    wontDoActivities\n  }))\n  // localStorage.setItem('wontDoActivities', JSON.stringify(wontDoActivities));\n}","function callWhenReady(count: number, ...args: any){\n  if((window as any)?.ga?.getAll){\n    for(let tracker of (window as any).ga.getAll()){\n      tracker.send(...args);\n    }\n    return;\n  }\n  if(count < 50){\n    setTimeout(()=>callWhenReady(count+1, ...args), 500)\n  }\n}\n\nexport const ga = ()=>(...args: any)=>{\n  callWhenReady(0, ...args)\n}\n;\nexport default ga\nexport const sendEvent = (gaProps: $sendEventProps)=>{\n  ga()('event', gaProps.category, gaProps.action, gaProps.label, gaProps.value)\n};\nexport const sendPageView = (location: string)=>{\n  ga()('pageview', location);\n}\n\nexport type $sendEventProps = {\n  category: string,\n  action: string,\n  label: string,\n  value?: number\n}","import React from 'react';\nimport { Popover } from '@material-ui/core';\nimport { debounce, uniqueId } from 'lodash';\nimport { $sendEventProps, sendEvent } from '../../../../utils/ga';\n\ntype $props = {\n  disableHover?: Boolean,\n  disablePopup?: Boolean,\n  className?: string,\n  renderHoverableContent: Function,\n  renderOnHoverContent: Function,\n  popoverProps?: any,\n  popoverClasses?: Object,\n  ga?: $sendEventProps,\n  debounced?: number,\n  disableHoverLeave?: Boolean,\n  onShowPopup?: Function,\n  showImmediately?: Boolean,\n  doNotClose?: Boolean,\n}\n\n\nconst MyPopover = React.memo(function MyPopover({doNotClose, showImmediately, onShowPopup, disableHoverLeave, ga, disablePopup, disableHover, className, popoverClasses, renderHoverableContent, renderOnHoverContent, popoverProps={}, debounced=500} : $props){\n  const [mouseStopped, setMouseStopped] = React.useState<string|null>(null);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [candidateAnchorEl, setCandidateAnchorEl] = React.useState(null);\n  const hoverableEl = React.useRef(null);\n  const [doNotHide, setDoNotHide] = React.useState(false);\n  const debouncedSetMouseStopped = debounce((id: string)=>setMouseStopped(id), debounced);\n  const [currentId, setCurrentId] = React.useState<string|null>(null);\n  const showPopup = (el: any)=>{\n    setAnchorEl(el)\n    if(onShowPopup){\n      setDoNotHide(true);\n      onShowPopup(()=>{\n        setDoNotHide(false);\n        handleHide(true);\n      })\n    }\n  }\n  React.useEffect(()=>{\n    if(showImmediately && hoverableEl?.current){\n      setAnchorEl(hoverableEl.current)\n    }\n  // eslint-disable-next-line\n  }, [hoverableEl])\n  React.useEffect(()=>{\n    if(candidateAnchorEl && mouseStopped && mouseStopped === currentId){\n      if(ga){\n        sendEvent({\n          ...ga,\n          action: ga.action+':hover'\n        });\n      }\n      showPopup(candidateAnchorEl);\n    }\n  // eslint-disable-next-line\n  }, [candidateAnchorEl, mouseStopped])\n  \n  const handleHide = (override = false)=>{\n    if((!doNotHide || override) && !doNotClose){\n      setCandidateAnchorEl(null);\n      setAnchorEl(null);\n      setMouseStopped(null)\n    }\n  }\n  const hoverableContentProps = {\n    onClick(event: any){\n      if(ga){\n        sendEvent(ga);\n      }\n      showPopup(event.currentTarget)\n    },\n    onMouseOver(event: any){\n      if(!disableHover && !onShowPopup && event.currentTarget !== candidateAnchorEl) {\n        setCandidateAnchorEl(event.currentTarget)\n      }\n    },\n    onMouseMove(event: any){\n      if(!disableHover && !onShowPopup) {\n        const nextCurrentId = uniqueId()\n        setCurrentId(nextCurrentId)\n        debouncedSetMouseStopped(nextCurrentId)\n      }\n    },\n    onMouseLeave(event: any){\n      if((!disableHover && !disableHoverLeave) || !anchorEl) {\n        setCandidateAnchorEl(null)\n      }\n    },\n  }\n  const onClose = ()=>{\n    handleHide()\n    if(popoverProps.onClose) popoverProps.onClose();\n  }\n  if(disablePopup)\n    return <div className={className}>{renderHoverableContent()}</div>\n  return <><div ref={hoverableEl} className={className}\n        {...hoverableContentProps}\n    >\n      {\n        renderHoverableContent()\n      }\n    </div>\n    <Popover\n      classes={popoverClasses}\n      open={Boolean(anchorEl)}\n      anchorEl={anchorEl}\n      {...popoverProps}\n      onClose={onClose}\n      disableRestoreFocus\n    >\n      <div>\n        {\n          renderOnHoverContent({onClose})\n        }\n      </div>\n    </Popover>\n  </>\n});\n\nexport default MyPopover;","import { Button, Divider, Grid, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Box } from '@material-ui/core';\nimport copy from 'copy-to-clipboard';\nimport { userSelector } from '../../../../../utils/redux/user';\nimport FAIcon from '../../../general/FAIcon';\nimport MyPopover from '../../../general/Popover';\nimport { Tooltip } from '@material-ui/core';\nimport { uiCreditsSelector, createUIAction } from '../../../../../utils/redux/ui';\nimport { makeStyles } from '@material-ui/styles';\nimport { sendEvent } from '../../../../../utils/ga';\n\nconst useStyles = makeStyles((theme: any)=>({\n  icon: {\n    cursor: 'pointer',\n    color: theme.palette.primary.main\n  }\n}))\n\nexport default function TopNavigationRefer(){\n  const [copied, setCopied] = React.useState(false);\n  const classes = useStyles();\n  const user = useSelector(userSelector);\n  const credits = useSelector(uiCreditsSelector);\n  const dispatch = useDispatch();\n  const code = process.env.REACT_APP_CLIENT_URL + `/#/signup?referral_code=${user.id}`;\n  return <MyPopover\n    ga={{\n      category: 'refer',\n      action: 'click',\n      label: 'moreAddedActivities'\n    }}\n    disableHover\n    popoverProps={{onClose: ()=>{\n      setCopied(false)\n      dispatch(createUIAction({\n        credits: {\n          ...credits,\n          hasNew: false\n        }\n      }))\n    }}}\n  renderHoverableContent={()=><Tooltip enterDelay={0} title=\"How to earn more bookmark slots\"><Button variant=\"contained\" color={credits.hasNew ? \"secondary\" : \"primary\"}>Rewards</Button></Tooltip>}\n    renderOnHoverContent={()=><Box maxWidth=\"20rem\" whiteSpace=\"normal\" padding=\"1.5rem\">\n      {\n        <Typography variant=\"body2\">\n            <strong>Add 2 more</strong> slots to your bookmarks everytime someone signs up with your referral code.\n        </Typography>\n      }\n      <Box m=\"1rem\"><Divider /></Box>\n      <Box>\n        <Grid container>\n          <Grid item xs={3}>\n            {\n              copied ? \"Link copied to clipboard!\" : <Tooltip title=\"copy to clipboard\">\n              <span className={classes.icon} onClick={()=>{\n                sendEvent({category: 'reffer', action: 'click', label: 'copy'});\n                copy(code)\n                setCopied(true)\n              }}>\n                <FAIcon \n                type=\"clipboard\" size=\"2x\" />\n                <Typography>Copy Link</Typography>\n              </span>\n            </Tooltip>\n            }\n          </Grid>\n          \n          <Grid item xs={9}>\n            <Typography variant=\"body2\">{code}</Typography>\n          </Grid>\n        </Grid>\n        {\n          credits.count === 0 ? null : <Box m=\"1rem 0\">\n            <Divider />\n          </Box>\n        }\n        {\n          credits.count === 0 ? null : <Grid container><Grid item>\n            <Typography variant=\"body2\"><strong>Congratulations</strong><>, you have earned </><strong>{credits.count * 2}</strong><>{` extra bookmark slots`}</>\n            </Typography>\n          </Grid></Grid>\n        }\n      </Box>\n    </Box>\n    }\n  />\n}","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/styles';\nimport { Button } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  root: {\n    textDecoration: 'none'\n  }\n})\n\nconst SignupButton = React.memo(function SignupButton(){\n  const classes = useStyles();\n  const location = useLocation();\n  return <Link className={classes.root} to={`/signup?redirect_to=${location.pathname}`}><Button  color=\"secondary\" variant=\"contained\">Signup</Button></Link>\n});\n\nexport default SignupButton;","import { Box, Divider, Paper, Typography } from '@material-ui/core';\nimport React from 'react';\nimport TopNavigationRefer from '..';\nimport { useSelector } from 'react-redux';\nimport { userSelector } from '../../../../../../utils/redux/user';\nimport { makeStyles } from '@material-ui/styles';\nimport SignupButton from '../../../../../users/Create/Button';\n\nconst usePaperStyles = makeStyles({\n  root: {\n    width: '20rem',\n    padding: '2rem',\n  }\n})\n\n\nconst ReferPopover = React.memo(function ReferPopover(props: {message?: any}){\n  const paperClasses = usePaperStyles();\n  const user = useSelector(userSelector);\n  return <Paper classes={paperClasses}>{props.message || <Typography variant=\"body1\">You have the <strong>maximum</strong> number of activities in your bookmarks. To allow for more activities, remove activities from your bookmarks, or click the button below</Typography>}\n    <Box m=\"1rem 1rem\"><Divider /></Box>\n    {\n      user ? <TopNavigationRefer /> : <SignupButton />\n    }\n  </Paper>\n})\n\nexport default ReferPopover;","import React from 'react';\nimport {\n    removeActivity,\n    addActivityToSchedule,\n} from '../utils';\nimport FAIcon from '../../../../components/general/FAIcon';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n    addedActivitySelector,\n    addedActivitiesSelector,\n} from '../../../../../utils/redux/config';\nimport { IconButton } from '@material-ui/core';\nimport { sendEvent } from '../../../../../utils/ga';\nimport { uiCreditsSelector } from '../../../../../utils/redux/ui';\nimport MyPopover from '../../../../components/general/Popover';\n\nimport ReferPopover from '../../../../components/navigation/Top/Refer/Popover';\nimport { userSelector } from '../../../../../utils/redux/user';\n\n\ntype $props = any;\n\n\nconst BASE_BOOKMARKS = 3;\n\nexport default function AddActivityButtons({activity, classes, directToSchedule, disabled, spanRef}: $props){\n  const credits = useSelector(uiCreditsSelector);\n\n  const dispatch = useDispatch();\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const addedActivities = useSelector(addedActivitiesSelector);\n  const user = useSelector(userSelector);\n  const allowedBookmarks = (user ? 3 : 0) + BASE_BOOKMARKS + 2*credits.count;\n  const allowMoreAddedActivities = Object.keys(addedActivities).length < allowedBookmarks;\n  \n  const addWrapper = allowMoreAddedActivities ? (comp: JSX.Element)=>comp : (comp: JSX.Element)=><MyPopover renderHoverableContent={()=>comp} renderOnHoverContent={()=><ReferPopover />} />\n  function render(){\n    return addedActivity ? <IconButton classes={classes} onClick={()=>{\n      if(!disabled){\n        sendEvent({category: 'schedule', action: 'click', label: 'remove'});\n        dispatch(removeActivity(activity));\n      }\n    }} color=\"secondary\">\n      <FAIcon type=\"bookmark\" />\n    </IconButton> : \n    addWrapper(<IconButton disabled={!allowMoreAddedActivities} classes={classes} onClick={()=>{\n      if(!disabled){\n        sendEvent({category: 'schedule', action: 'click', label: 'add'});\n        dispatch(addActivityToSchedule(activity));\n      }\n    }} color=\"primary\"><FAIcon type=\"bookmark\" /></IconButton>)\n  }\n  // function render(){\n  //   if(directToSchedule){\n  //     return addedActivity?.inSchedule ? <span className=\"add-to-calendar\"><IconButton classes={classes} onClick={()=>{\n  //       if(!disabled){\n  //         sendEvent({category: 'schedule', action: 'click', label: 'remove'});\n  //         dispatch(removeActivityFromSchedule(activity));\n  //       }\n  //     }} color=\"secondary\">\n  //       <FAIcon type=\"bookmark\" />\n  //     </IconButton></span> : \n  //     <span className=\"add-to-calendar\"><IconButton classes={classes} onClick={()=>{\n  //       if(!disabled){\n  //         sendEvent({category: 'schedule', action: 'click', label: 'add'});\n  //         dispatch(addActivityToSchedule(activity));\n  //       }\n  //     }} color=\"primary\"><FAIcon type=\"bookmark\" /></IconButton></span>\n  //   }\n  //   return addedActivity ? <span className=\"add-to-bookmarks\"><IconButton classes={classes} onClick={()=>{\n  //     if(!disabled) {\n  //       sendEvent({category: 'bookmarks', action: 'click', label: 'remove'});\n  //       dispatch(removeActivity(activity))\n  //     }\n  //   }} color=\"secondary\">\n  //     <FAIcon type=\"bookmark\" />\n  //   </IconButton></span> : \n  //   <span className=\"add-to-bookmarks\"><IconButton classes={classes} onClick={()=>{\n  //     if(!disabled){\n  //       sendEvent({category: 'bookmarks', action: 'click', label: 'add'}); \n  //       dispatch(addActivity(activity))\n  //     }\n  //   }} color=\"primary\"><FAIcon type=\"bookmark\" /></IconButton></span>\n  // }\n  return <span style={{display: 'inline-block'}} className=\"add-to-bookmarks\" ref={spanRef}>\n    {render()}\n  </span>\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport classNames from 'classnames';\nimport { useSelector } from 'react-redux';\n\nimport { materialTypeMatch, getMaterialId } from '../utils';\nimport MaterialsList from '../List';\nimport FAIcon from '../../components/general/FAIcon';\n\nimport MyPopover from '../../components/general/Popover';\nimport { materialsSelector, materialTypesSelector } from '../../../utils/redux/config';\n\nconst useStyles = makeStyles(theme => ({\n  tagContent: {\n    width: 'fit-content',\n    margin: '0 auto',\n    marginTop: '7px',\n  },\n  perfectScore: {\n    color: theme.palette.secondary.main,\n  },\n  closeScore: {\n    color: theme.palette.primary.main,\n  }\n}));\n\n\nconst usePopoverStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(2),\n    width: '160px',\n    maxHeight: '200px',\n    overflowY: 'scroll',\n  },\n}))\nexport default function MaterialsTag({activity, className}: {activity: any, className: string}){\n  const materials = useSelector(materialsSelector);\n  const materialTypes = useSelector(materialTypesSelector);\n\n  const score = activity?.properties?.metaRequirements.reduce((acc: number, req: any)=>{\n    return acc + Number(!(materials[getMaterialId(activity.id, req)] || materialTypeMatch(materialTypes)(req.types) || false));\n  }, 0);\n  \n  \n  const classes = useStyles();\n  const popoverClasses = usePopoverStyles()\n  \n  return <MyPopover\n    ga={{\n      category: 'materials',\n      action: 'clickOrHover',\n      label: 'materials'\n    }}\n    className={className}\n    popoverClasses={popoverClasses}\n    renderHoverableContent={()=><div\n      className={classNames(classes.tagContent, 'materials-tag')}\n      >\n      <FAIcon className={classNames({\n        [classes.perfectScore]: !score,\n        [classes.closeScore]: score > 0 && score < 4\n      })} size=\"2x\" raw={classNames({\n        'las la-list-alt': !score,\n        'las la-list': score > 3,\n        'las la-tasks': score > 0 && score < 4\n      })} /></div>}\n    renderOnHoverContent={()=><MaterialsList activity={activity} />}\n    popoverProps={\n      {\n        anchorOrigin: {\n          vertical: 'bottom',\n          horizontal: 'left',\n        },\n        transformOrigin: {\n          vertical: 'bottom',\n          horizontal: 'left',\n        }\n      }\n    }\n  />\n}\n\n","import React from 'react';\nimport { v4 } from 'uuid';\nimport { MoreVert } from '@material-ui/icons';\nimport { Menu } from '@material-ui/core';\nimport { IconButton } from '@material-ui/core';\nimport { $sendEventProps, sendEvent } from '../../../../utils/ga';\n\ntype $props = {\n  renderIcon?: any,\n  renderMenuItems: (arg: Function)=>any,\n  buttonComp?: any,\n  buttonProps?: any,\n  id?: string,\n  ga?: $sendEventProps,\n}\n\nexport default function IconMenu(props: $props) {\n  const [anchorEl, setAnchorEl] = React.useState<HTMLElement|null>(null);\n  const [id] = React.useState(v4())\n\n  const handleClick = (event: any) => {\n    if(props.ga){\n      sendEvent(props.ga)\n    }\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const Button = props.buttonComp || IconButton;\n  return (\n    <div className=\"icon-menu\">\n      <Button aria-controls=\"menu\" aria-haspopup=\"true\" onClick={handleClick} {...(props.buttonProps || {})}>\n        {props.renderIcon || <MoreVert/> }\n      </Button>\n      <Menu\n        id={props.id || id}\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n      {\n        props.renderMenuItems(handleClose)\n      }\n      </Menu>\n    </div>\n  );\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Check } from '@material-ui/icons';\nimport { Clear } from '@material-ui/icons';\nimport { ListItemText } from '@material-ui/core';\nimport { ListItemIcon } from '@material-ui/core';\nimport { MenuItem } from '@material-ui/core';\n\n\nimport IconMenu from '../../../../components/general/IconMenu';\nimport {\n    addCompletedActivity,\n    addDroppedActivity,\n} from '../utils';\n\nimport { sendEvent } from '../../../../../utils/ga';\n\nconst AddActivityOptions = React.memo(function AddActivityOptions({activity, disabled}: {activity: any, disabled?: Boolean}){\n  const dispatch = useDispatch();\n  return <IconMenu\n    renderMenuItems={(handleClose)=>{\n      return [\n    <MenuItem key=\"done\" onClick={()=>{\n      if(!disabled){\n        sendEvent({category: 'scheduleOptions', action: 'click', label: 'finishedActivity'});\n        dispatch(addCompletedActivity(activity))\n      }\n      handleClose()\n    }}>\n        <ListItemIcon>\n          <Check color=\"primary\" fontSize=\"small\" />\n        </ListItemIcon>\n      <ListItemText primary=\"Done\" />\n      </MenuItem>,\n        <MenuItem key=\"remove\" onClick={()=>{\n          if(!disabled){\n            dispatch(addDroppedActivity(activity))\n            sendEvent({category: 'scheduleOptions', action: 'click', label: 'dropActivity'});\n          }\n          handleClose() \n        }}><ListItemIcon>\n            <Clear color=\"secondary\" fontSize=\"small\" />\n            </ListItemIcon>\n          <ListItemText primary=\"Remove\" />\n        </MenuItem>\n      ]\n    }}\n  />\n});\n\nexport default AddActivityOptions;","import React from 'react';\nimport { Fade } from 'react-slideshow-image';\nimport 'react-slideshow-image/dist/styles.css'\n\nconst hidden = <div style={{display: 'none'}}/>\n\ntype $props = {\n  images: any[]\n}\n\nexport default function Slideshow({images}: $props){\n    return (\n      <Fade \n      prevArrow={hidden}\n      nextArrow={hidden}\n      autoplay\n      duration={500}\n      pauseOnHover={false}\n      infinite\n      easing=\"ease\"\n      >\n      {\n        images//.map((img, i) => <div className=\"each-slide\" key={i}>{img}</div>)\n      }\n      </Fade>\n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport Slideshow from '../../../../components/general/Slideshow';\n\nconst noop = ()=>{}\nconst useStyles = makeStyles(theme => ({\n  img: {\n    width: '100%',\n    height: '19rem',\n    backgroundSize: 'cover !important',\n    position: 'relative'\n    // overflowY: 'hidden',\n  },\n  close: {\n    position: 'absolute',\n    zIndex: 2,\n    right: 0,\n    top: 0,\n    cursor: 'pointer',\n    fontSize: '1.5rem',\n    padding: '0.5rem',\n  }\n}));\n\nexport default function ActivitiesPreviewImages({onClick, activity, className, onClose}: {onClick?: any, onClose?: any, activity: any, className?: string}){\n  const classes = useStyles();\n  return <span onClick={onClick} onMouseLeave={onClose || noop}>\n      <Slideshow images={(!activity.properties.imgLinks.length ? [{src: activity.image}] : activity.properties.imgLinks).map((img: any) => <div key={img.src} className={classes.img} style={{'background': `url(${img.src}) no-repeat center center`}}>\n      {\n        !onClose ? null : <span onClick={onClose} className={classes.close}>x</span>\n      }\n    </div>)}/>\n  </span>\n}\n\n","import { Button, Card, CardActions, CardContent } from '@material-ui/core';\n\nimport React from 'react';\nimport { TooltipRenderProps } from 'react-joyride';\nimport { CardHeader } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '20rem'\n  }\n})\n\ninterface $extraProps {\n  onClickSkip: any,\n  onClickNext: any,\n  steps: any[],\n}\n\nexport function TourTooltip(props: TooltipRenderProps & $extraProps){\n  const classes = useStyles();\n  const done = props.index === (props.steps.length - 1);\n  return <Card {...props.tooltipProps} className={classes.root}>\n    {\n      !props.step.title ? null : <CardHeader title={props.step.title}/>\n    }\n    {\n     !props.step.content ? null : <CardContent>\n        {props.step.content}\n      </CardContent>\n    }\n    {\n      props.step.showSkipButton ? null :<CardActions>\n        {\n          !done && <Button onClick={props.onClickSkip}>\n            Skip\n          </Button>\n        }\n        <Button onClick={props.onClickNext}>{\n          done ? 'Done' : 'Next'\n        }</Button>\n      </CardActions>\n    }\n  </Card>\n}\n\nexport default function tourToolipWrapper(extraProps: $extraProps){\n  return (props: TooltipRenderProps)=>{\n    return <TourTooltip {...props} {...extraProps} />\n  }\n}","import React from 'react';\nimport ReactJoyride from 'react-joyride';\nimport tourTooltipWrapper from './Tooltip';\n\ninterface $props {\n  onEnd?: Function;\n  onChange?: Function;\n  joyrideProps: any;\n  step?: number;\n  onSkip?: Function;\n}\n\nexport default function Tour({onChange, onEnd, onSkip, joyrideProps, step}: $props){\n  \n  const onClickSkip = ()=>{\n    const nextStepIndex = joyrideProps.steps.length;\n    if(onSkip){\n      onSkip(nextStepIndex);\n    } else if(onEnd){\n      onEnd(nextStepIndex);\n    } else {\n      onChange && onChange(nextStepIndex);\n    }\n  }\n  const onClickNext = ()=>{\n    const nextStepIndex = (step || 0) + 1;\n    if(nextStepIndex === joyrideProps.steps.length && onEnd){\n      onEnd(nextStepIndex);\n    } else {\n      onChange && onChange(nextStepIndex);\n    }\n  }\n\n  return <ReactJoyride\n    {...joyrideProps}\n    stepIndex={step}\n    // callback={handleCallback}\n    tooltipComponent={tourTooltipWrapper({onClickSkip, onClickNext, steps: joyrideProps.steps})}\n  />\n}","import React from 'react';\nimport classNames from 'classnames';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    animation: '$pulse 1.75s ease-in-out infinite',\n    backgroundColor: 'rgba(255, 27, 14, 0.6)',\n    borderRadius: '50%',\n    display: 'inline-block',\n    height: '1rem',\n    width: '1rem',\n  },\n  \"@keyframes pulse\": {\n    \"0%\": {\n      opacity: 0,\n      // transform: \"translateY(-200%)\"\n    },\n    \"50%\": {\n      opacity: 1\n    },\n    \"100%\": {\n      opacity: 0,\n      // transform: \"translateY(0)\"\n    }\n  },\n})\n\n\n\nexport default function Beacon({style}: {style: any}){\n  const classes = useStyles();\n  return <span style={style} className={classNames(classes.root, 'beacon')} />\n}","import React from 'react';\nimport Tour from '../../../Tour';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    onboardingSelector,\n    createConfigAction,\n    addedActivitiesSelector\n} from '../../../../../../utils/redux/config';\nimport { Typography } from '@material-ui/core';\nimport Beacon from '../../../Tour/Beacon';\nimport { Popper } from '@material-ui/core';\n\n// const usePopoverStyles = makeStyles({\n//   paper: {\n//     background: 'none',\n//     boxShadow: 'none'\n//   },\n// })\n\nexport default function SlotTour(props: {steps?: any}){\n  const dispatch = useDispatch ();\n  const [bookmarkNav, setBookmarkNav] = React.useState<null|Element>(null);\n  const [bookmarkSpan, setBookmarkSpan] = React.useState<null|Element>(null);\n  // const popoverClasses = usePopoverStyles();\n  const { completed, step} = useSelector(onboardingSelector('listActivities'));\n  const addedActivities= useSelector(addedActivitiesSelector);\n  React.useEffect(()=>{\n    if(step === steps.length && Object.keys(addedActivities).length && !completed){\n      dispatch(createConfigAction({\n        onboarding: {\n          listActivities: {\n            completed: false,\n            step: step + 1,\n          }\n        }\n      }))\n    }\n  // eslint-disable-next-line\n  }, [addedActivities])\n  /**\n   * To be removed\n   */\n  React.useEffect(()=>{\n    dispatch(createConfigAction({\n      onboarding: {\n        listActivities: {\n          completed: false,\n          step: 0,\n        }\n      }\n    }))\n  // eslint-disable-next-line\n  }, [])\n  /**\n   * \n   */\n  React.useEffect(()=>{\n    setBookmarkNav(document.getElementsByClassName('go-to-bookmarks')[0]);\n    setBookmarkSpan(document.querySelectorAll('.activity-card .add-to-bookmarks')[0]);\n  }, [])\n  \n  return <>\n    {\n      (step >= steps.length || completed) ? null : <Tour\n      step={step}\n      joyrideProps={\n        {\n          continuous: true,\n          run: true,\n          scrollToFirstStep: true,\n          showProgress: true,\n          showSkipButton: false,\n          // disableOverlayClose: true\n          // disableCloseOnEsc: true,\n          styles: {\n            options: {\n              zIndex: 10000,\n            }\n          },\n          steps: props.steps || steps,\n        }\n      }\n      onChange={(nextStep: number)=>{\n        dispatch(createConfigAction({\n          onboarding: {\n            listActivities: {\n              completed: false,\n              step: nextStep,\n            }\n          }\n        }))\n      }}\n      onEnd={(nextStep: number)=>{\n        dispatch(\n          createConfigAction({\n            onboarding: {\n              listActivities: {\n                completed: false,\n                step: nextStep,\n              }\n            }\n          }))\n        }\n      }\n      />\n    }\n    {\n      // (completed || step < 6) ? null : <Tour\n      // step={step}\n      // joyrideProps={\n      //   {\n      //     continuous: true,\n      //     run: true,\n      //     scrollToFirstStep: true,\n      //     showProgress: false,\n      //     showSkipButton: false,\n      //     // disableOverlayClose: true\n      //     // disableCloseOnEsc: true,\n      //     styles: {\n      //       options: {\n      //         zIndex: 10000,\n      //       }\n      //     },\n      //     steps: bookmarkSteps,\n      //   }\n      // }\n      // onChange={(nextStep: number)=>{\n      //   dispatch(createConfigAction({\n      //     onboarding: {\n      //       listActivities: {\n      //         completed: false,\n      //         step: nextStep,\n      //       }\n      //     }\n      //   }))\n      // }}\n      // onEnd={(nextStep: number)=>{\n      //   dispatch(\n      //     createConfigAction({\n      //       onboarding: {\n      //         listActivities: {\n      //           completed: true,\n      //           step: nextStep,\n      //         }\n      //       }\n      //     }))\n      //   }\n      // }\n      // />\n    }\n    <Popper\n      open={Boolean(bookmarkSpan) && step === steps.length && !completed}\n      anchorEl={bookmarkSpan}\n      style={{ zIndex: 3, pointerEvents: 'none', marginTop: '-20px' }}\n    >\n      <Beacon style={{}} />\n    </Popper>\n    <Popper\n      open={Boolean(bookmarkNav) && step === (steps.length + 1) && !completed}\n      anchorEl={bookmarkNav}\n      style={{ zIndex: 10000, pointerEvents: 'none', marginLeft: '10px', marginTop: '-15px' }}\n    >\n      <Beacon style={{}} />\n    </Popper>\n  </>\n}\n\nexport const steps = [\n  {\n    title: 'Welcome to the activities dashboard',\n    content: 'This is a short walkthrough of the site',\n    placement: 'center',\n    target: 'body',\n  },\n  {\n    title: 'This is an activity',\n    content: 'This activity card represents an activity',\n    target: '.activity-card',\n  },\n  {\n    title: 'The age icon',\n    content: <Typography variant=\"body2\">Age range of the activity</Typography>,\n    spotlightPadding: 10,\n    target: '.activity-card .age-tag',\n  },\n  {\n    title: 'Materials checklist',\n    content: <Typography variant=\"body2\">Click this icon to see a list of materials for the activity</Typography>,\n    spotlightPadding: 10,\n    target: '.activity-card .materials-tag',\n  },\n  {\n    title: 'Activity category',\n    content: <Typography variant=\"body2\">These icons show the different categories the activity can fall into, ie, sensory, active, etc. Click on the icons to see their description</Typography>,\n    spotlightPadding: 10,\n    target: '.activity-card .subject-tag',\n  },\n  {\n    title: 'Preview the activity',\n    content: <Typography variant=\"body2\">Some of the activities are previewable. Click on the image to see a preview</Typography>,\n    spotlightPadding: 10,\n    target: '.activity-card .image-tag',\n  },\n  {\n    title: 'Bookmark for later',\n    content: <Typography variant=\"body2\">Click the bookmark icon to bookmark this activity.</Typography>,\n    spotlightPadding: 10,\n    offset: 10,\n    target: '.activity-card .add-to-bookmarks',\n    // spotlightClicks: true,\n    // disableOverlay: true,\n    // showProgress: false,\n    // locale: {next: 'Close'},\n    // run: false,\n    // continuous: false,\n  },\n  {\n    title: 'Access your bookmarks',\n    content: <Typography variant=\"body2\">Click here to see your bookmarks and your activity lineup.</Typography>,\n    // spotlightPadding: 10,\n    target: '.go-to-bookmarks',\n  },\n];\n\n","import React, { useContext } from 'react';\n\nconst ids = {};\nconst row = 0;\n\nexport type $rowBlackboxContext = {\n  ids : {[key: string]: number},\n  row: number,\n  imageType?: 'landscape' | 'portrait'\n  preview?: Boolean,\n  doNotHideAddedActivities?: Boolean,\n  wrap?: Boolean,\n  hideSlotActions?: Boolean,\n}\n\nexport const context : $rowBlackboxContext = {\n  ids,\n  row,\n}\n\nconst rowBlackboxContext = React.createContext(context);\n\nexport const Provider = rowBlackboxContext.Provider;\n\nexport const useRowBlackbox = ()=>useContext(rowBlackboxContext);\n\n","import { Tooltip } from '@material-ui/core';\nimport React, { useState } from 'react';\n// import { isMobile } from 'react-device-detect';\n\ntype $MyTooltipProps = {\n  title: string,\n  render: ({\n    setOpen\n  }: {\n    setOpen: Function,\n    spreadProps: {\n      onClick: (event: any)=>void,\n      onMouseOver: (event: any)=>void,\n    }\n  })=>JSX.Element\n}\n\nconst MyTooltip = React.memo(function MyTooltip({render, ...props}: $MyTooltipProps){\n  const [open, setOpen ] = useState(false);\n  const handleTooltipClose = ()=>setOpen(false);\n  const spreadProps = {\n    onClick: ()=>setOpen(true),\n    onMouseOver: ()=>setOpen(true),\n  }\n  return <Tooltip\n    {...props}\n    // PopperProps={{\n    //   disablePortal: true,\n    // }}\n    onClose={handleTooltipClose}\n    open={open}\n  >\n    {\n      render({setOpen, spreadProps})\n    }\n  </Tooltip>\n});\n\nexport default MyTooltip;","import React from 'react';\nimport {Typography, Tooltip, Card, CardHeader, makeStyles } from '@material-ui/core';\nimport _ from 'lodash';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport StarRatings from 'react-star-ratings';\nimport { useSelector } from 'react-redux';\nimport LinesEllipsis from 'react-lines-ellipsis'\nimport blue from '@material-ui/core/colors/blue';\nimport { amber } from '@material-ui/core/colors';\nimport { CardContent } from '@material-ui/core';\n\nimport FAIcon from '../../FAIcon';\nimport AddActivityButtons from '../../../../shedules/activities/added/Button';\nimport MaterialsTag from '../../../../materials/Tag';\nimport AddActivityOptions from '../../../../shedules/activities/added/Options';\nimport MyPopover from '../../Popover';\nimport ActivitiesPreviewImages from '../../../../shedules/activities/preview/Images';\nimport {\n    // addedActivitySelector,\n    wontDoActivitySelector,\n    completedActivitySelector,\n} from '../../../../../utils/redux/config';\nimport classNames from 'classnames';\nimport SlotTour from './Tour';\nimport { useRowBlackbox } from '../../../../../utils/context/rowBlackbox';\nimport MyTooltip from '../../MyTooltip';\n\nconst useActivityButtonStyles = makeStyles({\n  root: {\n    display: 'block',\n    padding: '5px',\n  }\n})\n\nconst useStyles = makeStyles((theme)=>({\n  activityRoot: {\n    display: \"inline-block\",\n    width: \"280px\",\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n    // '&:hover $addActivity': {\n    //   height: '50px'\n    // } \n\n  },\n  tagRoot: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '280px',\n    height: '150px',\n    flexWrap: 'wrap',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    alignContent: 'flex-start',\n    padding: 0,\n    paddingBottom: '0 !important',\n    \n    overflow: 'hidden',\n  },\n  tag: {\n    display: 'inline-block',\n    width: (props: $props)=>props.tagWidth || '78px',\n    height: '48px',\n    marginRight: '2px',\n    marginBottom: '2px',\n    cursor: 'pointer',\n  },\n  imageTag: {\n    position: 'relative',\n    overflow: 'hidden',\n    width: '120px',\n    height: '150px',\n    cursor: 'pointer',\n  },\n  activityTitle: {\n    whiteSpace: 'normal',\n    textDecoration: 'none',\n    height: '3rem',\n    // overflow: 'hidden',\n  },\n  sheduleTitle: {\n    fontSize: '1rem',\n    color: theme.palette.primary.main,\n    textDecoration: 'none',\n    fontWeight: 500,\n  },\n  sideContent: {\n    display: 'inline-block',\n    verticalAlign: 'super',\n  },\n  starSideContent: {\n    display: 'block',\n    textAlign: 'center',\n  },\n\n  tagContent: {\n    width: 'fit-content',\n    margin: '0 auto',\n    marginTop: '7px',\n  },\n  activityImage: {\n    top: '50%',\n    width: '100%',\n    position: 'relative',\n    transform: 'translateY(-50%)',\n  },\n  headerRoot: {\n    borderBottom: '#b4b0b0 solid 1px',\n  },\n\n}));\n\nconst usePopoverStyles = makeStyles(theme => ({\n  paper: {\n    width: '350px',\n    height: '300px',\n  }\n}));\n\ninterface $props {\n  shedule: any;\n  index?: number;\n  className?: string;\n  tagWidth?: string;\n  onShowActivity?: Function;\n  showFirstActivity?: Boolean;\n}\n\nconst SheduleSlot = React.memo(function SheduleSlot(props: $props){\n  const { row } = useRowBlackbox();\n  const activity = props.shedule;\n  // const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n  const classes = useStyles(props);\n  const popoverClasses = usePopoverStyles();\n  const isFirstActivityOnPage = row === 0 && !props.index;\n  if(completedActivity || wontDoActivity) return null;\n  // if(!props.doNotHideAddedActivities && addedActivity) return null;\n\n  return <>\n    {\n      (isFirstActivityOnPage) ? <SlotTour /> : null\n    }\n    <Card key={activity.id} className={classNames(props.className, classes.activityRoot, {\n      'activity-card': (activity?.properties?.metaRequirements || []).length\n    })}>\n    <SlotHeader {...props} />\n    <CardContent>\n      <SlotTags {...props} />\n        <MyPopover\n          ga={{\n            category: 'slot',\n            action: 'clickOrHover',\n            label: 'previewImages'\n          }}\n          debounced={800}\n          disablePopup={activity.properties.imgLinks.length < 2}\n          popoverClasses={popoverClasses}\n          popoverProps={{\n            anchorOrigin: {\n              vertical: 'bottom',\n              horizontal: 'right',\n            },\n            transformOrigin: {\n              vertical: 'bottom',\n              horizontal: 'right',\n            }\n          }}\n          renderOnHoverContent={\n            ({onClose}: any)=><ActivitiesPreviewImages onClose={onClose} activity={activity} />\n          }\n          renderHoverableContent={\n            ()=><div className={classNames(classes.imageTag, 'image-tag')} style={{\n              cursor: activity.properties.imgLinks.length < 2 ? 'default' : 'pointer'\n            }}>\n              <LazyLoadImage \n              height={150}\n              src={activity.image}\n              alt={activity.name}\n              className={classes.activityImage}\n              style={{\n                display: 'block',\n                marginLeft: 'auto',\n                marginRight: 'auto',\n\n              }}\n            />\n          </div>\n          }\n        />\n      </CardContent>\n    </Card>\n  </>\n});\n\n\nexport default SheduleSlot\n\nexport function SlotHeader(props: $props){\n  const activityButtonClasses = useActivityButtonStyles()\n  const activity = props.shedule;\n  const classes = useStyles(props);\n  const { doNotHideAddedActivities, preview, hideSlotActions } = useRowBlackbox();\n  return <CardHeader\n    classes={\n      {\n        root: classes.headerRoot\n      }\n    }\n    title={\n      <Tooltip title={activity.name}>\n        <div className={classNames(classes.activityTitle, 'activity-title')}>\n          <a rel=\"noopener noreferrer\" target=\"_blank\" href={activity?.properties?.link} className={classes.sheduleTitle}>\n            <Typography component=\"h3\" className={classes.sheduleTitle}>\n              <LinesEllipsis\n              text={activity.name}\n              maxLine='2'\n              ellipsis='...'\n              basedOn='letters'\n              />\n            </Typography>\n          </a>\n        </div>\n      </Tooltip>\n    }\n    action={hideSlotActions ? undefined : doNotHideAddedActivities ? <AddActivityOptions disabled={preview} activity={activity} />\n    : <AddActivityButtons disabled={preview} classes={activityButtonClasses} activity={activity} /> \n    }\n  />\n}\n\nexport function SlotTags(props: $props){\n  const activity = props.shedule;\n  const uniqueTags: any[] = _.uniqBy(activity.tags, 'id')\n  const tags: any[] = uniqueTags.filter((tag: any)=>(tag.name.indexOf('age') === -1));\n  const [minAge, maxAge] = uniqueTags.filter((tag: any)=>(tag.name.indexOf('age') > -1)).reduce((acc: any, curr: any)=>{\n    const age = Number(curr.name.split('-')[1]);\n    if(!acc[0]){\n      acc[0] = age;\n    } \n    if(acc[0] > age){\n      acc[0] = age;\n    }\n    if(!acc[1]){\n      acc[1] = age;\n    } \n    if(acc[1] < age){\n      acc[1] = age;\n    }\n    return acc;\n  }, [undefined, undefined])\n\n  \n  \n  const classes = useStyles(props);\n  return <>\n    {\n      activity.rating ? <div style={{color: blue[700] }}  className={classes.tag}>\n        \n      {\n\n        // <Tooltip title={`This activity has been shared on facebook twitter and pinterest a combined ${activity.rating} times`}>\n        <MyTooltip title={`This activity has a rating of ${activity.rating/10} out of 5`} \n          render={({spreadProps})=><div {...spreadProps} className={classes.tagContent}>\n          {\n            // <FAIcon size=\"2x\" outline type=\"star\" />\n            <span><StarRatings\n              rating={activity.rating/10}\n              starDimension=\"10px\"\n              starSpacing=\"2px\"\n              starRatedColor={amber[700]}\n            />\n            </span>\n          }\n          {\n            // <Typography className={classes.sideContent}>{numab(activity.rating, 1)}</Typography>\n          }\n          <Typography className={classes.starSideContent}>{activity.rating/10}</Typography>\n        </div>}\n        />\n      }\n      </div> : null\n    }\n      {\n        maxAge === undefined ? null : <div className={classNames(classes.tag, 'age-tag')}>\n          <MyTooltip title={`For kids ${minAge} to ${maxAge} years old`} render={({spreadProps})=>{\n            return <div {...spreadProps} className={classes.tagContent}\n            >\n              <FAIcon size=\"2x\" outline type=\"grin\" />\n              <Typography className={classes.sideContent}>{`${minAge}${minAge === maxAge ? '' : `:${maxAge}Y`}`}</Typography>\n            </div>\n          }}/>\n        </div>\n      }\n      {\n        (!activity.properties.metaRequirements || !activity.properties.metaRequirements.length) ? null : <MaterialsTag className={classes.tag} activity={activity}/>\n      }\n      {\n        tags.slice(0, 2 + (maxAge === undefined ? 0 : 1)).map((tag: any, i: number) => {      \n          return <div\n          //  style={{backgroundColor: tag.color}}\n            className={classNames(classes.tag, 'subject-tag')} key={tag.id + i}>\n            <MyTooltip title={`#${tag.name}: ${tag.description}`}\n              render={({spreadProps})=><div {...spreadProps} className={classes.tagContent}>\n                <FAIcon raw={tag.icon} size=\"2x\" />\n                {\n                  tag.sideContent && <Typography className={classes.sideContent}>{tag.sideContent}</Typography>\n                }\n              </div>}\n            />\n\n            \n          </div>\n        })    \n      }\n  </>\n}","import React from 'react';\nimport {Typography, makeStyles } from '@material-ui/core';\nimport _ from 'lodash';\nimport StarRatings from 'react-star-ratings';\n\nimport blue from '@material-ui/core/colors/blue';\nimport { amber } from '@material-ui/core/colors';\nimport { CardContent } from '@material-ui/core';\n\nimport FAIcon from '../../FAIcon';\nimport MaterialsTag from '../../../../materials/Tag';\nimport MyTooltip from '../../MyTooltip';\n\ntype $props = {\n  activity: any\n} & $styleProps;\n\ntype $styleProps = {\n  direction?: any,\n  width?: string,\n  height?: string,\n}\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: (props: $styleProps)=>props.direction || 'column',\n    width: (props: $styleProps)=>props.width || '280px' ,\n    height: (props: $styleProps)=>props.height || '150px',\n    flexWrap: 'wrap',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    alignContent: 'flex-start',\n    padding: 0,\n    paddingBottom: '0 !important',\n    overflow: 'hidden',\n  },\n  tag: {\n    display: 'inline-block',\n    width: '78px',\n    height: '48px',\n    marginRight: '2px',\n    marginBottom: '2px',\n    cursor: 'pointer',\n  },\n  sideContent: {\n    display: 'inline-block',\n    verticalAlign: 'super',\n  },\n  starSideContent: {\n    display: 'block',\n    textAlign: 'center',\n  },\n  tagContent: {\n    width: 'fit-content',\n    margin: '0 auto',\n    marginTop: '7px',\n  },\n});\n\nconst Tags = React.memo(function Tags({activity, ...styleProps}: $props){\n  const classes = useStyles(styleProps);\n  const uniqueTags : any[] = _.uniqBy(activity.tags, 'id')\n  const tags: any[] = uniqueTags.filter((tag: any)=>(tag.name.indexOf('age') === -1));\n  const [minAge, maxAge] = uniqueTags.filter(tag=>(tag.name.indexOf('age') > -1)).reduce((acc, curr)=>{\n    const age = curr.name.split('-')[1];\n    if(!acc[0]){\n      acc[0] = age;\n    } \n    if(acc[0] > age){\n      acc[0] = age;\n    }\n    if(!acc[1]){\n      acc[1] = age;\n    } \n    if(acc[1] < age){\n      acc[1] = age;\n    }\n    return acc;\n  }, [undefined, undefined])\n  return <CardContent className={classes.root}>\n    {\n      activity.rating ? <Tag style={{color: blue[700] }}  tooltip={`This activity has a rating of ${activity.rating/10} out of 5`}>\n        {\n          // <FAIcon size=\"2x\" outline type=\"star\" />\n          <span><StarRatings\n            rating={activity.rating/10}\n            starDimension=\"10px\"\n            starSpacing=\"2px\"\n            starRatedColor={amber[700]}\n          />\n          </span>\n        }\n        {\n          // <Typography className={classes.sideContent}>{numab(activity.rating, 1)}</Typography>\n        }\n        <Typography className={classes.starSideContent}>{activity.rating/10}</Typography>\n      </Tag>\n      : null\n    }\n    {\n      maxAge === undefined ? null : <Tag tooltip={`For kids ${minAge} to ${maxAge} years old`} iconProps={{outline: true, type: 'grin'}} sideContent={`${minAge}${minAge === maxAge ? '' : `:${maxAge}Y`}`} />\n    }\n    {\n      (!activity.properties.metaRequirements || !activity.properties.metaRequirements.length) ? null : <MaterialsTag className={classes.tag} activity={activity}/>\n    }\n    {\n      tags.slice(0, 2 + (maxAge === undefined ? 0 : 1)).map((tag, i) => {\n        return <Tag key={i} tooltip={`#${tag.name}: ${tag.description}`} iconProps={{raw: tag.icon}} sideContent={tag.sideContent} />\n      })    \n    }\n  </CardContent>  \n});\n\n\nexport default Tags\n\n\ntype $tagProps = {\n  style?: Object,\n  iconProps?: Object,\n  tooltip: string,\n  children?: any,\n  sideContent?: string\n}\n\nfunction Tag({style, tooltip, children, iconProps, sideContent}: $tagProps){\n  const classes = useStyles();\n  return <MyTooltip title={tooltip}\n    render={({spreadProps})=><div {...spreadProps} style={style} className={classes.tag}>\n    <div className={classes.tagContent}>\n    {\n      iconProps ? <FAIcon size=\"2x\" {...iconProps} /> : null\n    }\n    {\n      sideContent ? <Typography className={classes.sideContent}>{sideContent}</Typography> : null\n    }\n    {\n      children\n    }\n    </div>\n  </div>}\n  />\n}","import React from 'react';\nimport { Card, makeStyles, CardMedia } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport Tags from '../Tags';\nimport {\n    addedActivitySelector,\n    wontDoActivitySelector,\n    completedActivitySelector\n} from '../../../../../utils/redux/config';\nimport classNames from 'classnames';\nimport { useRowBlackbox } from '../../../../../utils/context/rowBlackbox';\n\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: \"inline-block\",\n    width: \"170px\",\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n  },\n  img: {\n    height: '350px'\n  }\n}));\n\ninterface $props {\n  shedule: any,\n  className?: string,\n  index?: number,\n  onShowActivity?: Function,\n  showFirstActivity?: Boolean,\n}\n\nconst PortraitSlot = React.memo(function PortraitSlot(props: $props){\n  const activity = props.shedule;\n  const { doNotHideAddedActivities, row } = useRowBlackbox();\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n  const {ids} = useRowBlackbox();\n  const classes = useStyles();\n  // const popoverClasses = usePopoverStyles();\n  if(completedActivity || wontDoActivity) return null;\n  if(!doNotHideAddedActivities && addedActivity) return null;\n  if(ids[activity.id] !== undefined && ids[activity.id] !== row) return null;\n  ids[activity.id] = row;\n  return <Card key={activity.id} className={classNames(props.className, classes.root)}>\n    <a href={activity?.properties?.link} target=\"_blank\" rel=\"noopener noreferrer\">\n      <CardMedia title={activity.name} className={classes.img} image={activity.properties.imgLinks.find((img: any) => (img.height / 1.75) > img.width).src}/>\n    </a>\n    <Tags activity={activity} />\n  </Card>     \n});\n\n\nexport default PortraitSlot","import React from 'react';\nimport { Card, makeStyles, CardMedia, Typography } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\n\nimport Tags from '../Tags';\nimport {     addedActivitySelector,\n  wontDoActivitySelector,\n  completedActivitySelector } from '../../../../../utils/redux/config';\nimport classNames from 'classnames';\nimport { useRowBlackbox } from '../../../../../utils/context/rowBlackbox';\n\ninterface $props {\n  shedule: any,\n  className?: string,\n  index?: number,\n  onShowActivity?: Function,\n  showFirstActivity?: Boolean,\n}\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: \"inline-block\",\n    width: \"400px\",\n    maxWidth: 'calc(100vw - 32px)',\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n  },\n  title: {\n    textDecoration: 'none',\n    color: theme.palette.primary.main\n  },\n  img: {\n    height: '400px'\n  }\n}));\n\nconst SquareSlot = React.memo(function SquareSlot(props: $props){\n  const activity = props.shedule;\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n  const { ids, doNotHideAddedActivities, row } = useRowBlackbox();\n  const classes = useStyles();\n  if(completedActivity || wontDoActivity) return null;\n  if(!doNotHideAddedActivities && addedActivity) return null;\n  if(ids[activity.id] !== undefined && ids[activity.id] !== row) return null;\n  ids[activity.id] = row;\n  const isSquareImg = (img: any) => {\n    const quotient = img.height / img.width;\n    return 0.85 < quotient && quotient < 1.15 && !/amazon/.test(img.src);\n  }\n\n  return <Card key={activity.id} className={classNames(props.className, classes.root)}>\n    <a href={activity?.properties.link} target=\"_blank\" rel=\"noopener noreferrer\">\n      <CardMedia title={activity.name} className={classes.img} image={activity.properties.imgLinks.find(isSquareImg).src}/>\n    </a>\n    <a href={activity?.properties.link} target=\"_blank\" rel=\"noopener noreferrer\">\n      <Typography align=\"center\">{activity.name}</Typography>\n    </a>\n    <Tags activity={activity} direction=\"row\" width=\"400px\" height=\"55px\"/>\n  </Card>\n});\n\n\nexport default SquareSlot","import React from 'react';\n\nexport default function Slides({children}: {children: JSX.Element[]}){\n  return <div className=\"swiper-wrapper\">{children}</div>\n}","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}","import React, { useEffect, useState } from 'react';\nimport {v4} from 'uuid';\nimport Swiper from 'swiper';\nimport 'swiper/swiper-bundle.css';\nimport \"./index.css\";\n\nimport Slides from './Slides';\nimport useWindowDimensions from '../../../../utils/window';\nimport classNames from 'classnames';\nimport { isMobile } from 'react-device-detect';\nimport { sendEvent } from '../../../../utils/ga';\n\ninterface $props {\n  renderSlides: ()=>JSX.Element[],\n  slideWidth?: number\n}\nconst letters = 'abcdefghijklmnop';\n\nconst getIncrementAmount = (width: number, slideWidth: number)=>Math.max(Math.floor(width/slideWidth),1)\n\nexport default function Scroll({renderSlides, slideWidth = 300}: $props){\n  const [swiper, setSwiper] = useState<any>(null);\n  const [onEnd, setOnEnd] = useState(false);\n  const [onStart, setOnStart] = useState(true);\n  const [id] = useState(v4().replace(/-/g, '0').replace(/(\\d)/g, (m, p)=>letters[Number(p)]));\n  const {width} = useWindowDimensions();\n  const renderedSlides = renderSlides();\n  const buttonStyle = isMobile ? {\n    opacity: 1\n  } :  {};\n  useEffect(()=>{\n    const sw = new Swiper('.'+id, {\n      slidesPerView: 'auto',\n      on: {\n        reachEnd: ()=>setOnEnd(true),\n        reachBeginning: ()=>setOnStart(true),\n      }\n    });\n    setSwiper(sw);\n  }, [id])\n  return <div className={classNames(\"swiper-container\", id)}>\n    <Slides>\n    {\n      renderSlides()//.map((slide, i) => <ScrollSlide key={i}>{}</ScrollSlide>)\n    }\n    </Slides>\n    {\n      onEnd ? null : \n      <div\n        style={buttonStyle}\n        onClick={()=>{\n          if(swiper && swiper.slideNext){\n            sendEvent({category: 'scroller', action: 'click', label: 'next', value: swiper.activeIndex});\n            if(width > 500){\n              const indexIncrementCount = getIncrementAmount(width, slideWidth);\n              const nextIndex = Math.min(swiper.activeIndex + indexIncrementCount, renderedSlides.length-1);\n              swiper.slideTo(nextIndex, 300)\n            } else {\n              swiper.slideNext(300);\n            }\n            setOnStart(false)\n          }\n          \n        }} className={classNames('swiper-button', \"swiper-button-next\")} />\n    }\n    {\n      onStart ? null : \n      <div\n      style={buttonStyle}\n      onClick={()=>{\n          if(swiper && swiper.slideNext){\n            sendEvent({category: 'scroller', action: 'click', label: 'prev', value: swiper.activeIndex});\n            if(width > 500){\n              const indexDecrementCount = Math.max(Math.floor(width/slideWidth),1);\n              const nextIndex = Math.max(swiper.activeIndex - indexDecrementCount, 0);\n              swiper.slideTo(nextIndex, 300)\n            } else {\n              swiper.slidePrev(300);\n            }\n            setOnEnd(false)\n          }\n      }} className={classNames('swiper-button', \"swiper-button-prev\")} />\n    }\n  </div>\n}","import React from 'react';\nimport { Card, makeStyles, CardMedia, CardContent, Typography } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport VisibilitySensor from 'react-visibility-sensor';\nimport {\n    addedActivitySelector,\n    wontDoActivitySelector,\n    completedActivitySelector,\n} from '../../../../../utils/redux/config';\nimport ActivitiesPreviewImages from '../../../../shedules/activities/preview/Images';\nimport MyPopover from '../../Popover';\nimport { SlotHeader, SlotTags } from '../Slot';\nimport { useRowBlackbox } from '../../../../../utils/context/rowBlackbox';\n\ninterface $props {\n  shedule: any,\n  className?: string,\n  index?: number,\n  onShowActivity?: Function,\n  showFirstActivity?: Boolean,\n}\nconst getWidth = (props: any)=>props.imageType === 'landscape' ? (props.shedule.image_type === 'squ' ? '175px' : '250px') : (props.shedule.image_type === 'squ' ? '250px' : '175px');\n\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: \"inline-block\",\n    width: getWidth,\n    maxWidth: '100vw',\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n  },\n  card: {\n    width: '100%',\n    height: (props: any)=>props.imageType === 'landscape' ? '175px' : '250px',\n  },\n  title: {\n    textDecoration: 'none',\n    color: theme.palette.primary.main\n  },\n  img: {\n    height: (props: any)=>props.imageType === 'landscape' ? (props.shedule.imageType === 'squ' ? '175px' : '150px') : (props.shedule.imageType === 'squ' ? '225px' : '250px'),\n  },\n  activityTitle: {\n    width: getWidth\n  }\n}));\n\nconst useOnHoverStyles = makeStyles({\n  root: {\n    width: '250px',\n    maxWidth: '100vw',\n    height: '500px'\n  }\n})\n\n\n\nconst SheduleImageSlot = React.memo(function SheduleImageSlot(props: $props){\n  \n\n  const activity = props.shedule;\n  const [visible, setVisible] = React.useState(false);\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n\n  const onHoverClasses = useOnHoverStyles()\n  const { ids, doNotHideAddedActivities, imageType, row } = useRowBlackbox();\n  const classes = useStyles({...props, imageType});\n  if(completedActivity || wontDoActivity) return null;\n  if(!doNotHideAddedActivities && addedActivity) return null;\n  if(ids[activity.id] !== undefined && ids[activity.id] !== row) return null;\n  ids[activity.id] = row;\n  const conditionalActivityCardClass = {\n    'activity-card': (activity?.properties?.metaRequirements || []).length\n  }\n  return <div className={classNames(props.className, classes.root)}>\n      <Card key={activity.id} className={classNames(classes.card, conditionalActivityCardClass)}>\n      <MyPopover\n        doNotClose={props.showFirstActivity}\n        showImmediately={props.showFirstActivity}\n        onShowPopup={props.onShowActivity}\n        ga={{\n          category: 'slot',\n          action: 'clickOrHover',\n          label: 'previewImages'\n        }}\n        debounced={600}\n        // popoverClasses={popoverClasses}\n        popoverProps={{\n          anchorOrigin: {\n            vertical: 'top',\n            horizontal: 'center',\n          },\n          transformOrigin: {\n            vertical: 'top',\n            horizontal: 'center',\n          }\n        }}\n        disableHoverLeave\n        renderOnHoverContent={\n          ({onClose}: any)=><div onMouseLeave={onClose}>\n            {/* <ImageSlotTour type=\"collections\" conditionCheck={(onboarding: any)=>onboarding?.dashboard?.step >= 2} /> */}\n            <Card className={classNames(onHoverClasses.root, conditionalActivityCardClass)}>\n              <SlotHeader {...props} />\n              <CardContent>\n                <SlotTags tagWidth=\"70px\" {...props} />\n              </CardContent>\n              <a href={activity?.properties?.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                <ActivitiesPreviewImages activity={activity} />\n              </a>\n            </Card>\n          </div>\n        }\n        renderHoverableContent={\n          ()=><div className={classNames(\n            // classes.imageTag, \n            'image-tag')} style={{\n            cursor: activity.properties.imgLinks.length < 2 ? 'default' : 'pointer'\n          }}>\n            <VisibilitySensor partialVisibility onChange={(nextVisible)=>setVisible(visible || nextVisible)}>\n              {\n                visible ? <CardMedia title={activity.name} className={classes.img} image={activity.image}/> :\n                <div className={classes.img} />\n              }\n              \n            </VisibilitySensor>\n            \n        </div>\n        }\n      />\n      \n    </Card>\n    <div className={classNames(classes.activityTitle, 'activity-title')}>\n      <a href={activity?.properties?.link} target=\"_blank\" rel=\"noreferrer noopener\">\n        <Typography align=\"center\" variant=\"body2\">\n          {\n            activity.name\n          }\n        </Typography>\n      </a>\n    </div>\n  </div>\n});\n\n\nexport default SheduleImageSlot","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport SheduleSlot from './Slot';\nimport PortraitSlot from './PortraitSlot';\nimport SquareSlot from './SquareSlot';\nimport Scroll from '../Scroll';\nimport ImageSlot from './ImageSlot';\nimport { useRowBlackbox } from '../../../../utils/context/rowBlackbox';\n\ntype $props = {\n  data: any[],\n  featuredPortrait?: Boolean,\n  featuredSquare?: Boolean,\n  renderSlots?: Function,\n  showSample?: Boolean,\n  onShowActivity?: Function,\n  showFirstActivity?: Boolean,\n  slideWidth?: number,\n  renderSlides?: ()=>JSX.Element[],\n}\nconst useStyles = makeStyles({\n  root: (props: {wrap: Boolean}) => ({\n    marginTop: '1rem',\n    whiteSpace: props.wrap ? 'normal' : 'nowrap',\n    // whiteSpace: 'normal',\n    overflowX: 'scroll',\n  }),\n});\n\nfunction SheduleRow({ renderSlides, slideWidth, showFirstActivity, onShowActivity, data, featuredPortrait, featuredSquare, renderSlots }: $props){  \n  \n  const { imageType, doNotHideAddedActivities, wrap } = useRowBlackbox();\n  const classes = useStyles({wrap: !!(doNotHideAddedActivities || wrap)});\n  const Slot = featuredPortrait ? PortraitSlot : featuredSquare ? SquareSlot : (imageType ? ImageSlot : SheduleSlot)\n  slideWidth = slideWidth || (featuredPortrait ? 170 : featuredSquare ? 400 : 280);\n  const slots = data.map((activity, i)=>{\n    return <Slot showFirstActivity={!i && showFirstActivity} onShowActivity={onShowActivity} index={i} key={activity.id} shedule={activity} className=\"swiper-slide\" />\n  });\n  if(renderSlots) return renderSlots(slots)\n  if(wrap || doNotHideAddedActivities) return <div className={classes.root}>\n    {\n      slots\n    }\n  </div>\n  return <Scroll slideWidth={slideWidth} renderSlides={renderSlides || (()=>slots)} />\n  }\n\nexport default React.memo(SheduleRow)","import React, { useState } from 'react';\nimport { colors, Button, Box } from '@material-ui/core';\nimport { Container, makeStyles, Typography, Grid } from '@material-ui/core';\nimport _ from 'lodash';\nimport Accordions from '../../materials/Accordions';\nimport { Link } from 'react-router-dom';\nimport SheduleRow from '../../components/general/SheduleRow';\nimport jsonActivities from './activities.json';\nimport FAIcon from '../../components/general/FAIcon';\nimport { useMediaQuery } from '@material-ui/core';\nimport { Provider } from '../../../utils/context/rowBlackbox';\n\n\nconst useMastStyles = makeStyles({\n  root: {\n    backgroundImage: \"url('https://images.unsplash.com/photo-1513542789411-b6a5d4f31634?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1267&q=80')\",\n    width: '100%',\n    height: '100vh',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundAttachment: 'scroll',\n    backgroundSize: 'cover',\n    position: 'relative'\n  },\n  title: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  signup: {\n    backgroundColor: colors.teal['A100'],\n  },\n  signupWrapper: {\n    width: '200px',\n    margin: '2rem auto',\n  },\n  login: {\n    backgroundColor: colors.teal['A100'],\n    position: 'absolute',\n    top: 20,\n    right: 10,\n    width: '150px',\n  }\n})\n\nconst useSubjectStyles = makeStyles((theme)=>({\n  root: {\n    padding: '5rem',\n    // backgroundColor: colors.teal['A100']\n    backgroundColor: colors.grey[50]\n  },\n  title: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  boxes: {\n    color: '#FFF',\n    backgroundSize: 'cover',\n    height: '200px',\n    width: '180px',\n    display: 'inline-block',\n    margin: '1rem',\n    borderRadius: '0.5rem'\n  },\n}))\n\nconst useRequirementStyles = makeStyles((theme)=>({\n  root: {\n    padding: '5rem 0',\n    // backgroundColor: colors.teal['A100']\n    backgroundColor: colors.grey[50]\n  },\n  title: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  boxes: {\n    color: '#FFF',\n    backgroundSize: 'cover',\n    height: '200px',\n    width: '180px',\n    display: 'inline-block',\n    margin: '1rem',\n    borderRadius: '0.5rem'\n  },\n  icon: {\n    color: theme.palette.primary.main,\n    padding: '0 2rem',\n  }\n}))\n\nconst useAgeStyles = makeStyles({\n  root: {\n    // padding: '5rem',\n    // backgroundColor: colors.teal['A100']\n    backgroundImage: \"url('https://images.unsplash.com/photo-1541710399304-4564edc17038?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80')\",\n    backgroundPosition: 'center',\n    backgroundSize: 'cover',\n    height: '400px',\n    width: '100%',\n  },\n  // img: {\n    \n  //   width: '400px',\n  //   height: '200px',\n  // }\n})\n\nconst useMaterialStyles = makeStyles({\n  root: {\n    padding: '5rem',\n    backgroundColor: colors.teal['A100']\n    // height: '400px',\n    // width: '100%',\n  },\n  // img: {\n    \n  //   width: '400px',\n  //   height: '200px',\n  // }\n})\n\n\n\n/**\n * Find activities by subject\n * Use age restrictions\n * Add activities to your schedule\n * Get the materials in each activity\n */\n\n\n \nexport default function Overview(){\n  const isBiggerThanTiny = useMediaQuery('(min-width:600px)');\n  const [activities] = useState(_.sampleSize(jsonActivities, 2))\n  const Bx = ({url, tag}: {url: string, tag: string})=><Grid container justify=\"center\" alignItems=\"flex-end\" className={subjectClasses.boxes}\n    style={{\n      backgroundImage: `url('${url}')`,\n    }}>\n    <Grid item>\n      <Typography>#{tag}</Typography>\n    </Grid>\n  </Grid>\n  const mastClasses = useMastStyles();\n  const subjectClasses = useSubjectStyles();\n  const ageClasses = useAgeStyles();\n  const materialClasses = useMaterialStyles();\n  const requirementClasses = useRequirementStyles();\n  const requirementsText = <Grid item>\n    <Box p=\"1rem\">\n      <Typography align=\"center\" variant=\"h6\">\n        <FAIcon className={requirementClasses.icon} type=\"tasks\" size=\"2x\" />\"Know before you go\" what supplies you need\n      </Typography>\n    </Box>\n  </Grid>\n  const signupButton = <div className={mastClasses.signupWrapper}><Link to=\"/signup\"><Button fullWidth className={mastClasses.signup}>Signup Now</Button></Link></div>\n  return <Container maxWidth={false} disableGutters>\n    <Grid className={mastClasses.root} container justify=\"center\" alignItems=\"center\">\n      <Grid item xs={12}>\n        <Typography align=\"center\" variant=\"h2\">Netflix meets kids activities</Typography>\n        {\n          signupButton\n        }\n      </Grid>\n      <Typography variant=\"h4\" component=\"h1\" className={mastClasses.title}>Goodplans</Typography>\n      <Link to=\"/login\"><Button className={mastClasses.login}>Login</Button></Link>\n    </Grid>\n    <Grid container className={subjectClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n        <Typography variant=\"h6\">Find Activities By Subject</Typography>\n      </Grid>\n      <Grid item>\n        <Grid container justify=\"center\">\n          <Grid item>\n            <Bx tag=\"stem\" url=\"https://images.unsplash.com/photo-1560961911-ba7ef651a56c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1334&q=60\" />\n          </Grid>\n          <Grid item>\n            <Bx tag=\"arts&crafts\" url=\"https://images.unsplash.com/photo-1596495718166-7ac739ca1bc4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </Grid>\n          <Grid item>\n            <Bx tag=\"active\" url=\"https://images.unsplash.com/photo-1489710437720-ebb67ec84dd2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </Grid>\n          <Grid>\n            <Bx tag=\"sensory\" url=\"https://images.unsplash.com/photo-1504484440176-4f89a392c862?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </Grid>\n        </Grid>\n        <Typography align=\"center\">And many more...</Typography>  \n      </Grid>\n    </Grid>\n    <Grid container className={ageClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n      <Typography variant=\"h6\">Find activities by age</Typography>\n      </Grid>\n    </Grid>\n    <Grid container className={requirementClasses.root} justify=\"center\" alignItems=\"center\">\n      {\n        isBiggerThanTiny ? null : requirementsText\n      }\n      <Grid item md={6} xs={12}>\n        <Provider value={{ids: {}, row: 0, preview: true, wrap: true, imageType: 'portrait'}}>\n          <SheduleRow\n            renderSlots={(slots: any)=><Grid container justify=\"center\">\n              {slots.map((s: any, i: number) => <Grid style={{\n                marginBottom: '1rem',\n                height: '240px',\n              }} item key={i}>{s}</Grid> )}\n              </Grid>}\n            data={activities}\n          />\n        </Provider>\n      </Grid>\n      {\n        isBiggerThanTiny ? requirementsText : null\n      }\n\n    </Grid>\n    <Grid container className={materialClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n        <Accordions data={[\n          {\n            id: '1',\n            name: 'Extreme paper airplanes',\n            properties: {\n              metaRequirements: [\n                {\n                  raw: 'paper',\n                  types: ['paper'],\n                },\n                {\n                  raw: 'scissor',\n                  types: ['scissors'],\n                },\n                {\n                  raw: 'glue',\n                  types: ['glue'],\n                }\n              ]\n            }\n          },\n          {\n            id: '2',\n            name: 'Watercolor tissue flowers',\n            properties: {\n              metaRequirements: [\n                {\n                  raw: 'tissue',\n                  types: ['tissue'],\n                },\n                {\n                  raw: 'watercolor paint',\n                  types: ['watercolor paint'],\n                },\n                {\n                  raw: 'pipe cleaners',\n                  types: ['pipe cleaners'],\n                }\n              ]\n            }\n          }\n        ]} />\n      </Grid>\n      <Grid item>\n      <Typography variant=\"h6\">A materials checklist for all of your activities in one place</Typography>\n      </Grid>\n    </Grid>\n    <Grid container className={subjectClasses.root} justify=\"center\" alignItems=\"center\">\n        <Grid item>\n          <Typography variant=\"h3\" align='center'>Make activities work for you</Typography>\n          {\n            signupButton\n          }\n        </Grid>\n    </Grid>\n  </Container>\n}","import React, { useEffect, useState } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { v4 } from 'uuid';\nimport * as yup from 'yup';\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles';\nimport { Card, CardActions, CardContent, CardHeader } from '@material-ui/core';\nimport qs from 'query-string';\nimport { Box } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { SERVER_ADDRESS, post } from '../../../utils/remote';\nimport { setToken } from '../../../utils/auth';\n\nimport { createUserAction } from '../../../utils/redux/user';\n\nimport { FormHelperText } from '@material-ui/core';\nimport { Checkbox } from '@material-ui/core';\nimport { FormControlLabel } from '@material-ui/core';\n\nexport const endpoint = SERVER_ADDRESS+'/privateUsers';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '300px',\n    margin: '0 auto',\n  },\n})\n\nexport default function UserCreate(){\n  const location = useLocation();\n  const parsed = qs.parse(location.search);\n  // @ts-ignore: Too many types\n  const redirectTo : string = parsed.redirect_to;\n  const history = useHistory();\n  return <UserCreateCard \n    onSuccessCB={()=>{\n      history.push(redirectTo || '/')\n    }}\n    referralCode={(parsed.referral_code as string) || ''}\n    api={endpoint}\n    additionalInformation={({validReferralCode}: {validReferralCode: string})=><CardContent>\n      {\n          <Typography variant=\"body1\"><Box m=\"1\">{`${validReferralCode ? 'Your referral code allows you to start with an additional bookmark and lineup activity slot. Enjoy' : 'Enjoy'}`}</Box></Typography>\n      }\n    </CardContent>}\n  />\n}\n\nexport function UserCreateCard(props: any) {\n  const classes = useStyles();\n  return (\n    <div>\n      <Card className={classes.root}>\n        <CardHeader title=\"Signup\"/>\n          <UserCreateForm\n            {...props}\n          />\n      </Card>\n    </div>\n  );\n}\n\nconst schema = yup.object().shape({\n  // username: yup.string().matches(/^[a-z0-9]+$/i, 'Only alphanumeric characters').required(),\n  termsofuse: yup.bool().oneOf([true], 'You must accept our Terms of Use').required(),\n  email: yup.string().email().required(),\n  password: yup.string().min(6).max(122).required(),\n  referralCode: yup.string().optional(),\n});\n\n\n\nconst UserCreateForm = ({referralCode, api, onSuccessCB, additionalInformation}: {additionalInformation?: (a: any)=>JSX.Element, referralCode?: string, api: string, onSuccessCB: Function})=>{\n  const { handleSubmit, register, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n  const [apiErrors, setApiErrors] = useState<string>(\"\");\n  const [referralCodeError, setReferralCodeError] = useState<string>(\"\");\n  const dispatch = useDispatch();\n  useEffect(()=>{\n    if(referralCode){\n      yup.string().uuid()\n      .isValid(referralCode).then((valid)=>{\n        if(!valid){\n          setReferralCodeError(\"Bad referral code. You may continue to signup, but the referral will not be counted towards possible credits\")\n        }\n      })\n    }\n  // eslint-disable-next-line\n  }, [])\n  const validReferralCode = referralCodeError ? \"\" : (referralCode || '');\n  const onSubmit = async (data: any) => {    \n    post(api, {\n      body:\n        {\n          id: v4(),\n          // username: data.username,\n          email: data.email,\n          password: data.password,\n          referralCode: data.referralCode\n        }\n    }).then(async (res)=>{\n      setToken(res.data);\n      dispatch(createUserAction(res.data));\n    }).then( async ()=>{\n      onSuccessCB()\n    })\n    .catch((error)=>{\n      error.json().then((err: any) => {\n        setApiErrors(err.message);\n      });\n    });\n  }\n  const errorExists = referralCodeError || apiErrors;\n  return <form\n      onSubmit={handleSubmit(onSubmit)}\n    >\n    <CardContent>\n      {\n        !errorExists ? null : <Typography variant=\"body2\" color=\"secondary\">{errorExists}</Typography>\n      }\n      <TextField\n        id=\"email\"\n        name=\"email\"\n        inputRef={register}\n        label=\"Email\"\n        fullWidth\n        error={!!errors.email}\n        helperText={errors.email?.message}\n      />\n      <TextField \n        fullWidth\n        inputRef={register}\n        id=\"password\"\n        name=\"password\"\n        label=\"Password\"\n        type=\"password\"\n        error={!!errors.password}\n        helperText={errors.password?.message}\n      />\n      <FormControlLabel\n        control={<Checkbox inputRef={register} name=\"termsofuse\" />}\n        label=\"Accept our Terms of Use\"\n      />\n      {\n        !errors.termsofuse ? null : <FormHelperText><Typography variant=\"body2\" color=\"secondary\">{errors.termsofuse?.message}</Typography></FormHelperText>\n      }\n      <FormHelperText><Link to=\"/termsofuse\">Terms of Use</Link></FormHelperText>\n      <input ref={register} name=\"referralCode\" hidden value={validReferralCode} />\n    </CardContent>\n    {\n      additionalInformation ? additionalInformation({validReferralCode}) : null\n    }\n    <CardActions>\n      <Button type=\"submit\">Signup</Button>\n    </CardActions>\n  </form>\n}","import React, { useState } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport * as yup from 'yup';\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/styles';\nimport { Card, CardContent } from '@material-ui/core';\n\nimport { SERVER_ADDRESS, post } from '../../../utils/remote';\nimport { setToken } from '../../../utils/auth';\nimport { dispatch } from '../../../utils/redux';\nimport { parse } from 'query-string';\nimport { createUserAction } from '../../../utils/redux/user';\n\nconst schema = yup.object().shape({\n  email: yup.string().email().required(),\n  password: yup.string().max(122).required(),\n});\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '300px',\n    margin: '0 auto',\n  }\n})\n\nexport default function SessionCreate(){\n  const history = useHistory();\n  const location = useLocation();\n  const redirectTo = parse(location.search).redirect_to || '/';\n  return <SessionCreateCard\n    onSuccessCB={()=>{\n      // @ts-ignore: Too many types\n      history.push(redirectTo);\n    }}\n    api={SERVER_ADDRESS+'/sessions'}\n    type=\"reg\"\n  />\n}\n\nexport function SessionCreateCard({type, api, onSuccessCB}: {type: string, api: string, onSuccessCB: Function}) {\n  const classes = useStyles();\n  const [apiErrors, setApiErrors] = useState<string|null>(null);\n  const { handleSubmit, register, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = (data: any) => {\n    post(api, {\n      body:\n        {\n          email: data.email,\n          password: data.password,\n          type\n        }\n    })\n    .then((res)=>{\n      setToken(res.data);\n      dispatch(createUserAction(res.data));\n    }).then(()=>onSuccessCB()).catch((error)=>{\n      setApiErrors('Incorrect email or password');\n    });\n  }\n  return (\n    <div>\n      <Card className={classes.root}>\n        <CardContent>\n        <Typography variant=\"h6\" component=\"h1\">Login</Typography>\n        {\n          !apiErrors ? null : <Typography variant=\"body2\" color=\"secondary\">{apiErrors}</Typography>\n        }\n        <form\n          onSubmit={handleSubmit(onSubmit)}\n        >\n          <div>\n            <TextField\n              name=\"email\"\n              inputRef={register}\n              label=\"Email\"\n              error={!!errors.email}\n              helperText={errors.email?.message}\n              fullWidth\n            />\n          </div>\n          <div>\n            <TextField \n              inputRef={register}\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              error={!!errors.password}\n              helperText={errors.password?.message}\n              fullWidth\n            />\n          </div>\n          <Button type=\"submit\">Login</Button>\n        </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { TextField } from '@material-ui/core';\nimport { debounce, partition } from 'lodash';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport Autocomplete, {createFilterOptions} from '@material-ui/lab/Autocomplete';\nimport { Provider } from '../../../../utils/context/rowBlackbox';\n\ntype $props = {\n  popularTags: any[],\n  wrap?: Boolean,\n}\n\nexport default function SearchActivitiesRow(props: $props){\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  const [searchTags, setSearchTags] = useState(localStorage.getItem('searchTags') || '');\n  const [searchText, setSearchText] = useState(localStorage.getItem('searchText') || '');\n  const { data, page, resetPage } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue: [],\n    page: true,\n    query: {\n      tags: searchTags,\n      text: searchText,\n    }, \n    deps: [searchTags, searchText],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  // eslint-disable-next-line\n  }, [data])\n  const onSearchFunc = (nextVal: string)=>{\n    const clean = nextVal.toLowerCase().split(' ').filter(v=>v);\n    const [nextSeachTagsArr, nextSearchTextArr] = partition(clean, (name)=>name[0] === '#')\n    const nextSearchTags = nextSeachTagsArr.join(' ');\n    const nextSearchText = nextSearchTextArr.join(' ');\n    localStorage.setItem('searchTags', nextSearchTags);\n    localStorage.setItem('searchText', nextSearchText);\n    setSearchTags(nextSearchTags);\n    setSearchText(nextSearchText);\n    resetPage();\n  }\n  const onSearch = debounce(onSearchFunc, 400);\n  const filter = createFilterOptions();\n\n  return <div>\n    <Autocomplete\n      fullWidth\n      freeSolo\n      multiple\n      id=\"tags-standard\"\n      options={(props.popularTags || []).map(t => '#'+t)\n        // .concat(searchText.split(' '))\n      }\n      defaultValue={searchTags ? searchTags.split(' ') : []}\n      onChange={(event, value: any[])=>{\n        onSearch(value.join(' '))\n      }}\n      filterOptions={(options, params) => {\n        const filtered : any = filter(options, params);\n        if (params.inputValue !== '') {\n          filtered.push(`${params.inputValue}`);\n        }\n        return filtered;\n      }}\n      selectOnFocus\n      clearOnBlur\n      handleHomeEndKeys\n      renderInput={(params: any) => (\n        <TextField\n          {...params}\n          variant=\"standard\"\n          label=\"Search\"\n          placeholder=\"#stem\"\n        />\n      )}\n    />\n    {\n      !data.length ? <p>No Results</p> : <Provider value={{ids: {}, row: 0, imageType: 'portrait', wrap: props.wrap}}><SheduleRow data={data} /></Provider>\n    }\n  </div>\n}\n\n\n","import React from 'react';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../utils/remote';\n\n\nimport SearchActivitiesRow from './Row';\n\n\nexport default function SearchActivities(){\n  const { data: popularTags } = useCustomSwr(SERVER_ADDRESS+'/tags/popular', {\n    cache: true\n  });\n  \n  \n  return <div>\n    {\n      <SearchActivitiesRow wrap popularTags={popularTags} />\n    }\n  </div>\n}","import React from 'react';\nimport { Box, Tooltip } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\nimport { debounce } from 'lodash';\n\ninterface $props {\n  values: string[];\n  onChange: Function;\n  color?: 'secondary'\n}\n\nconst useStyles = makeStyles({\n  root: {\n    width: 300,\n  },\n});\n\nfunction valuetext(value: number, tagValue=false) {\n  if(value < 4){\n    const numb = !value ? 1 : value * 3;\n    if(tagValue) return 'month-'+numb;\n    return `${numb} month old`\n  }\n  const numb = value-3;\n  if(tagValue) return 'age-'+numb;\n  return `${numb} year old`\n}\n\nconst marks = [\n  {\n    value: 0,\n    label: '1m',\n  },\n  {\n    value: 1,\n    label: '3m',\n  },\n  {\n    value: 2,\n    label: '6m',\n  },\n  {\n    value: 3,\n    label: '9m',\n  },\n  {\n    value: 4,\n    label: '1y',\n  },\n  {\n    value: 8,\n    label: '5y',\n  },\n  {\n    value: 13,\n    label: '10y',\n  },\n];\n\nfunction convertTagNameToValue(ages: string[]){\n  return ages.map((age)=>{\n    const [type, n] = age.split('-');\n    const numb = parseInt(n);\n    if(type === 'month'){\n      if(numb === 1) return 0\n      return numb / 3\n    }\n    return numb + 3\n  })\n}\n\nfunction ValueLabelComponent(props: {\n  children: React.ReactElement;\n  open: boolean;\n  value: number;\n}) {\n  const { children, open, value } = props;\n\n  return (\n    <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={valuetext(value)}>\n      {children}\n    </Tooltip>\n  );\n}\n\nconst defaultValue = [8, 9]\n\n\nexport default function DiscreteSlider({ onChange, values, color}: $props) {\n  const [stateValue, setStateValue] = React.useState<number[]>(values.length ? convertTagNameToValue(values) : defaultValue);\n  const [debouncedOnChange] = React.useState<Function>(()=>debounce(\n    (nextValue: number[])=>{\n      onChange(nextValue)\n    },\n    1000\n  ));\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Box mt={'1rem'}>\n        <Typography color={color} gutterBottom>\n          Select Your Child's Age Range\n        </Typography>\n      </Box>\n      <Slider\n        aria-label=\"Select your child's age range\"\n        value={stateValue}\n        step={1}\n        marks={marks}\n        min={0}\n        max={13}\n        ValueLabelComponent={ValueLabelComponent}\n        onChange={(event, nextValue)=>{\n          if(typeof nextValue === 'object'){\n            setStateValue(nextValue)\n            debouncedOnChange(nextValue.map((v)=>valuetext(v, true)))\n          }\n        }}\n      />\n      {\n        stateValue === defaultValue ? null : <Box mt={'1rem'}>\n          <Typography variant=\"body2\"><strong>Age Range: </strong>\n            {\n            stateValue[0] !== stateValue[1] ? `${valuetext(stateValue[0])} to ${valuetext(stateValue[1])}` : valuetext(stateValue[0])\n            }\n          </Typography>\n        </Box>\n      }\n      \n    </div>\n  );\n}","import React from 'react';\n\nimport { Divider, TextField } from '@material-ui/core';\nimport DiscreteSlider from './Slider';\n\n\nexport default function DashboardTabForm({ordinal, dashboardTab, debouncedOnChange, onChange}: any){\n  return <>\n    <TextField label=\"Tab Name\" placeholder={`Tab ${ordinal+1}`} defaultValue={dashboardTab.name} onChange={(event)=>{\n      debouncedOnChange(event.target.value)\n    }} />\n    <Divider variant=\"inset\"/>\n    <DiscreteSlider values={dashboardTab.ages} onChange={(nextAges: string[])=>onChange('ages', nextAges)} color={!dashboardTab.ages.length ? 'secondary' : undefined} />\n  </>\n}\n","import React from 'react';\nimport { debounce } from 'lodash';\nimport { Button } from '@material-ui/core';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { v4 } from 'uuid';\nimport {\n    createConfigAction,\n    dashboardTabsSelector\n} from '../../../../utils/redux/config';\n\nimport { createUIAction, uiSelector } from '../../../../utils/redux/ui';\nimport DashboardTabForm from './DashboardTabForm';\nimport { Box } from '@material-ui/core';\nimport { sendEvent } from '../../../../utils/ga';\n\n\ninterface $props {\n  ordinal: number,\n};\n\nexport default function Config({ordinal}: $props){\n  const dashboardTabs = useSelector(dashboardTabsSelector);\n  const { dashboard } = useSelector(uiSelector);\n  const dispatch = useDispatch();\n  const dashboardTab = dashboardTabs.find(x=>x.ordinal===ordinal);\n  const onChange = (key: string, value: any)=>{\n    dispatch(createConfigAction({dashboardTabs: [\n      {\n        ...dashboardTab,\n        [key]: value,\n        touched: true,\n      },\n     ...dashboardTabs.filter(x=>x.ordinal !== ordinal),\n     ...(dashboardTab && !dashboardTab.touched ? [{\n       ordinal: dashboardTabs.length,\n       ages: [],\n       subjects: [],\n       uuid: v4(),\n     }] : []),\n    ]}))\n  }\n  const debouncedOnChange = debounce((value)=>{\n    onChange('name', value)\n  }, 500)\n\n  if(!dashboardTab) return null;\n  return <div>\n    <DashboardTabForm\n      key={dashboardTab.uuid}\n      onChange={onChange}\n      ordinal={ordinal}\n      dashboardTab={dashboardTab}\n      debouncedOnChange={debouncedOnChange}\n    />\n    <Box m=\"1rem\">\n    {\n      !dashboardTab.ages.length ? null : <Button size=\"large\" variant=\"contained\"\n      color=\"primary\" onClick={()=>{\n        sendEvent({category: 'dashboard', action: 'click', label: 'showActivities'});\n        dispatch(createUIAction({\n          dashboard: {\n            ...dashboard,\n            isEditing: false\n          }\n        }))\n      }}>Show Activities</Button>\n    }\n    {\n      dashboardTabs.length === 1 || !dashboardTab.touched ? null : <Button onClick={()=>{\n        sendEvent({category: 'dashboard', action: 'click', label: 'deleteTab'});\n        dispatch(createConfigAction({\n          dashboardTabs: [\n            ...dashboardTabs.filter(x=>x.ordinal !== ordinal).map(x=>({...x, ordinal: x.ordinal > ordinal ? x.ordinal-1 : x.ordinal}))\n          ]\n        }))\n        dispatch(createUIAction({\n          dashboard: {\n            ...dashboard,\n            isEditing: false\n          }\n        }))\n      }}\n      color=\"secondary\" size=\"small\">Delete</Button>\n    }\n    </Box>\n  </div>\n}\n","import React from 'react';\nimport { Tabs, Tab } from '@material-ui/core';\n\nfunction a11yProps(index: any) {\n  return {\n    id: `tab-${index}`,\n    'aria-controls': `tabpanel-${index}`,\n  };\n}\n\nexport function TabPanel(props: any) {\n  const { children, value, index, ...other } = props;\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-${index}`}\n      aria-labelledby={`tab-${index}`}\n      {...other}\n    >\n      {value === index && children}\n    </div>\n  );\n}\n\ninterface $tabProps {\n  label: JSX.Element | string,\n  classes?: any\n}\n\ninterface $props {\n  value: number,\n  onChange: (a: number)=>void,\n  tabsProps?: any,\n  tabPropsArr: $tabProps[]\n}\n\nexport default function MyTabs({ value, onChange, tabsProps = {}, tabPropsArr = []} : $props){\n  return <Tabs \n    value={value}\n    onChange={(e, newValue)=>{\n      onChange(newValue)\n    }}\n    aria-label=\"Change dashboard view\"\n    indicatorColor=\"primary\"\n    textColor=\"primary\"\n    variant=\"fullWidth\"\n    {...tabsProps}\n  >\n  {\n    tabPropsArr.map((tabProps, i) => <Tab key={i} {...tabProps} {...a11yProps(i)} /> )\n  }\n  </Tabs>\n}\n","import React from 'react';\nimport Tour from '../../../Tour';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    createConfigAction,\n    fullOnboardingSelector\n} from '../../../../../../utils/redux/config';\nimport { Typography } from '@material-ui/core';\n\n\nexport default function ImageSlotTour(props: {mobile?: Boolean, noOnEnd?: Boolean, type: 'dashboard'|'collections'|'lineup', conditionCheck?: Function }){\n  const dispatch = useDispatch ();\n  const onboarding = useSelector(fullOnboardingSelector );\n  const {step, completed} = onboarding[props.type] || {step: 0, completed: false};\n  const steps = props.mobile ? allMobileSteps[props.type] : allSteps[props.type];\n  const finished = completed || step >= steps.length;\n  if(finished || (props.conditionCheck ? !props.conditionCheck(onboarding) : finished)) return null;\n  return <>\n    {\n      (step >= steps.length || completed) ? null : <Tour\n      step={step}\n      joyrideProps={\n        {\n          continuous: true,\n          run: true,\n          scrollToFirstStep: true,\n          showProgress: true,\n          showSkipButton: false,\n          // disableOverlayClose: true\n          // disableCloseOnEsc: true,\n          styles: {\n            options: {\n              zIndex: 10000,\n            }\n          },\n          steps,\n        }\n      }\n      onSkip={(nextStep: number)=>{\n        dispatch(createConfigAction({\n          onboarding: {\n            ...onboarding,\n            [props.type]: {\n              completed: false,\n              step: nextStep,\n              skipped: true,\n            }\n          }\n        }))\n      }}\n      onChange={(nextStep: number)=>{\n        dispatch(createConfigAction({\n          onboarding: {\n            ...onboarding,\n            [props.type]: {\n              completed: false,\n              step: nextStep,\n            }\n          }\n        }))\n      }}\n      onEnd={props.noOnEnd ? undefined : (nextStep: number)=>{\n        dispatch(\n          createConfigAction({\n            onboarding: {\n              ...onboarding,\n              [props.type]: {\n                completed: true,\n                step: nextStep,\n              }\n            },\n          }))\n        }\n      }\n      />\n    }\n  </>\n}\nexport const dashboardSteps = [\n  {\n    title: 'Welcome to the activities dashboard',\n    content: <Typography variant=\"body2\">This is a short walkthrough of the site</Typography>,\n    placement: 'center',\n    target: 'body',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'This is an activity card',\n    content: <Typography variant=\"body2\">Click or hover over the activity card to go to the next step</Typography>,\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n    spotlightClicks: true,\n    target: '.activity-card',\n    showSkipButton: true,\n  },\n  {\n    run: true,\n    continuous: true,\n    title: 'Link to the activity',\n    content: <Typography variant=\"body2\">Click the title to be taken to the activity</Typography>,\n    spotlightPadding: 10,\n    target: '.activity-card .activity-title',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    run: true,\n    continuous: true,\n    title: 'The age icon',\n    content: <Typography variant=\"body2\">Age range of the activity</Typography>,\n    spotlightPadding: 10,\n    target: '.age-tag',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'Materials checklist',\n    content: <Typography variant=\"body2\">Click this icon to see a list of materials for the activity.</Typography>,\n    spotlightPadding: 10,\n    target: '.activity-card .materials-tag',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'Activity category',\n    content: <Typography variant=\"body2\">These icons show the different categories the activity can fall into, ie, sensory, active, etc. Click on the icons to see their description</Typography>,\n    spotlightPadding: 10,\n    target: '.subject-tag',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'More activities',\n    content: <Typography variant=\"body2\">Click the chevron icon to see more activities</Typography>,\n    spotlightPadding: 10,\n    target: '.swiper-button-next',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'Bookmark for later',\n    content: <Typography variant=\"body2\">Click the bookmark icon to bookmark this activity.</Typography>,\n    spotlightPadding: 10,\n    offset: 10,\n    target: '.add-to-bookmarks',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'Access your bookmarks',\n    content: <Typography variant=\"body2\">Click here to see your bookmarks.</Typography>,\n    target: '.go-to-bookmarks',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n]\n\nexport const collectionSteps = [\n  {\n    continuous: true,\n    title: 'Welcome to the bookmarks page',\n    content: <Typography variant=\"body2\">Curate your bookmarked activities here</Typography>,\n    spotlightPadding: 10,\n    placement: 'center',\n    target: 'body',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'Activity options',\n    content: <Typography variant=\"body2\">Click here to add activities to or remove activities from your activity lineup</Typography>,\n    spotlightPadding: 10,\n    target: '.icon-menu',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'Go back to the dashboard',\n    content: <Typography variant=\"body2\">Find more activities!</Typography>,\n    spotlightPadding: 10,\n    target: '.go-to-dashboard',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n]\n\nexport const mobileCollectionSteps = [\n  {\n    continuous: true,\n    title: 'Welcome to the bookmarks page',\n    content: <Typography variant=\"body2\">Curate your bookmarked activities here</Typography>,\n    spotlightPadding: 10,\n    placement: 'center',\n    target: 'body',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'Activity options',\n    content: <Typography variant=\"body2\">Click here to add remove activities from your bookmarks</Typography>,\n    spotlightPadding: 10,\n    target: '.icon-menu',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'The Master Supplies List',\n    content: <Typography variant=\"body2\">This is where you can see all of the supplies needed to complete your bookmarked activities</Typography>,\n    target: '.supplies-tab',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'Toggle Supplies ',\n    content: <Typography variant=\"body2\">Toggling these checkbox will add/remove the supplies in the below list</Typography>,\n    target: '.master-supplies-list__legend-item',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'Go back to the dashboard',\n    content: <Typography variant=\"body2\">Find more activities!</Typography>,\n    spotlightPadding: 10,\n    target: '.go-to-dashboard',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n]\n\nexport const lineupSteps = [\n  {\n    continuous: true,\n    title: 'Welcome to the activities lineup page',\n    content: <Typography variant=\"body2\">This is where you can see the supply list for your upcoming activities</Typography>,\n    spotlightPadding: 10,\n    placement: 'center',\n    target: 'body',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    continuous: true,\n    title: 'Reorder Lineup',\n    content: <Typography variant=\"body2\">Click and drag to reorder activities</Typography>,\n    spotlightPadding: 10,\n    target: '.activity-slot',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    run: true,\n    continuous: true,\n    title: 'Remove activities',\n    content: <Typography variant=\"body2\">Click the icon to remove activities from your lineup</Typography>,\n    spotlightPadding: 10,\n    target: '.icon-menu',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n]\n\nexport const lineupMobileSteps = [\n  {\n    continuous: true,\n    title: 'Welcome to the activities lineup page',\n    content: <Typography variant=\"body2\">This is where you can see the supply list for your upcoming activities</Typography>,\n    spotlightPadding: 10,\n    placement: 'center',\n    target: 'body',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    title: 'The lineup tab',\n    content: <Typography variant=\"body2\">Click LINEUP to go to the next step</Typography>,\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n    spotlightClicks: true,\n    target: '.lineup-tab',\n    showSkipButton: true,\n  },\n  {\n    continuous: true,\n    title: 'Reorder Lineup',\n    content: <Typography variant=\"body2\">Click and drag to reorder activities</Typography>,\n    spotlightPadding: 10,\n    target: '.activity-slot',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n  {\n    run: true,\n    continuous: true,\n    title: 'Remove activities',\n    content: <Typography variant=\"body2\">Click the icon to remove activities from your lineup</Typography>,\n    spotlightPadding: 10,\n    target: '.icon-menu',\n    disableOverlayClose: true,\n    disableCloseOnEsc: true,\n  },\n]\n\n\n// const part4Steps = [\n//   {\n//     run: true,\n//     continuous: true,\n//     title: 'Back to the activity dashboard',\n//     content: <Typography variant=\"body2\">Go back to the activity dashboard</Typography>,\n//     spotlightPadding: 10,\n//     target: '.go-to-dashboard',\n//   },\n// ]\n\nconst allSteps = {\n  dashboard: dashboardSteps,\n  collections: collectionSteps,\n  lineup: lineupSteps\n}\n\nconst allMobileSteps = {\n  dashboard: dashboardSteps,\n  collections: mobileCollectionSteps,\n  lineup: lineupMobileSteps\n}\n\n","import React, { useState, useEffect } from 'react';\nimport { Typography, Divider, makeStyles } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { blue } from '@material-ui/core/colors';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport ImageSlotTour, {\n    dashboardSteps\n} from '../../../components/general/SheduleRow/ImageSlot/Tour';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n    fullOnboardingSelector,\n    createConfigAction,\n} from '../../../../utils/redux/config';\nimport { useHistory } from 'react-router';\nimport { addActivityToSchedule } from '../../../shedules/activities/added/utils';\nimport { take } from 'lodash';\nimport { useRowBlackbox } from '../../../../utils/context/rowBlackbox';\n\nconst useStyles = makeStyles({\n  header: {\n    marginTop: '1rem',\n    color: blue[700]\n  }\n})\n\ninterface $props {\n  tag: string;\n  ages: string[];\n  portraitFeatured?: Boolean;\n  activitiesLoadedCallback?: Function;\n}\n\nconst defaultValue: any[] = [];\n\nexport default React.memo(function SearchActivitiesNonSearchRow({tag, ages, portraitFeatured = false, activitiesLoadedCallback}: $props){\n  const classes = useStyles();\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  const defaultTags =  ages;\n  const [ onShowActivity, setOnShowActivity ] = useState<any>(null);\n  const { imageType, row } = useRowBlackbox();\n  const tags = defaultTags.concat([tag]).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data, page } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue,\n    page: true,\n    query: {\n      tags,\n      portraitFeatured,\n      image_types: imageType === 'landscape' ? ['squ', 'lan'] : ['squ', 'por']\n    }, \n    deps: [],\n    cache: true,\n    callback: activitiesLoadedCallback\n  });\n  const onboarding = useSelector(fullOnboardingSelector);\n  const dispatch = useDispatch();\n  useEffect(()=>{\n    if(onboarding.dashboard.step === 1){\n      setOnShowActivity(()=>()=>{\n        setTimeout(()=>dispatch(createConfigAction ({\n          onboarding: {\n            ...onboarding,\n            dashboard: {\n              completed: false,\n              step: onboarding.dashboard.step + 1\n            }\n          }\n        })), 0)\n      });\n    }\n  // eslint-disable-next-line\n  }, [onboarding?.dashboard?.step])\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  // eslint-disable-next-line\n  }, [data]);\n  return <div>\n    {\n      row === 0 ? <OnboardingTripwire data={data} /> : null\n    }\n    <Typography align=\"center\" variant=\"h6\" component=\"h3\" className={classnames(classes.header, 'shedule-row-title')}>{'#'+tag}</Typography>\n    {\n      (!data.length || row !== 0 ) ? null : <ImageSlotTour noOnEnd type=\"dashboard\" />\n    }\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow onShowActivity={onShowActivity} data={data} />\n    }\n    <Divider variant=\"inset\" />\n  </div>\n});\n\nconst OnboardingTripwire = React.memo(function OnboardingTripwire({data}: {data: any[]}){\n  const onboarding = useSelector(fullOnboardingSelector );\n  const dispatch = useDispatch ();\n  const history = useHistory ();\n  useEffect(()=>{\n    if(data.length && onboarding?.dashboard?.step === dashboardSteps.length && !onboarding?.dashboard?.completed){\n      dispatch(createConfigAction ({\n        onboarding: {\n          ...onboarding,\n          dashboard: {\n            ...onboarding.dashboard,\n            completed: true,\n            step: onboarding.dashboard.step + 1,\n          }\n        }\n      }));\n      take(data, 3).forEach((activity)=>{\n        dispatch(addActivityToSchedule(activity))\n      });\n      history.push('/activities/added');\n    }\n  // eslint-disable-next-line\n  }, [onboarding, data])\n  return null\n});","import React, { useState, useEffect } from 'react';\nimport { Typography, Divider, makeStyles } from '@material-ui/core';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport { blue } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles({\n  header: {\n    marginTop: '1rem',\n    color: blue[700]\n  }\n})\n\nconst defaultValue : any[] = [];\n\nexport default function SearchActivitiesNonSearchPortraitRow({tag, ages}: {tag: string, ages: string[]}){\n  const classes = useStyles();\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  \n  const defaultTags =  ages;\n  const tags = defaultTags.concat([tag]).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data, page } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue,\n    page: true,\n    query: {\n      tags,\n      featuredPortrait: true\n    }, \n    deps: [],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  // eslint-disable-next-line\n  }, [data]);\n  \n  return !data.length && data !== defaultValue ? null : <div>\n    <Typography align=\"center\" variant=\"h6\" component=\"h3\" className={classes.header}>{'#'+tag}</Typography>\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow featuredPortrait data={data} />\n    }\n    <Divider variant=\"inset\" />\n  </div>\n}","import React, { useState, useEffect } from 'react';\nimport { Divider } from '@material-ui/core';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\n\nconst defaultValue : any[] = [];\n\nexport default function SearchActivitiesNonSearchSquareRow({tag, ages}: {tag: string, ages: string[]}){\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  const defaultTags =  ages;\n  \n  const tags = defaultTags.concat([tag]).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data, page } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue,\n    page: true,\n    query: {\n      tags,\n      featuredSquare: true\n    }, \n    deps: [],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  // eslint-disable-next-line    \n  }, [data]);\n  \n  return !data.length && data !== defaultValue ? null : <div>\n    {\n      // <Typography align=\"center\" variant=\"h6\" component=\"h3\" className={classes.header}>{'#'+tag}</Typography>\n    }\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow featuredSquare data={data}/>\n    }\n    <Divider variant=\"inset\" />\n  </div>\n}","import { Box, Card, CardContent, Typography } from '@material-ui/core';\nimport React from 'react';\nimport classNames from 'classnames';\nimport { GridListTile } from '@material-ui/core';\nimport { GridList } from '@material-ui/core';\nimport { createStyles } from '@material-ui/styles';\nimport { makeStyles } from '@material-ui/styles';\nimport { Link } from 'react-router-dom';\nimport qs from 'query-string';\nimport { Rating } from '@material-ui/lab';\nimport { round } from 'lodash';\nimport MyTooltip from '../../../../components/general/MyTooltip';\nexport type $pack = {\n  name: string,\n  averageStarRating: number,\n  images: {type: string, image: string, id: string}[]\n}\n\n\n\n\ninterface $props {\n  pack: $pack,\n  className?: string,\n  index?: number,\n  onShowActivity?: Function,\n  showFirstActivity?: Boolean,\n}\nconst useStyles = makeStyles((theme: any)=>({\n  root: {\n    display: \"inline-block\",\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n    maxWidth: '400px',\n  },\n  title: {\n    textDecoration: 'none',\n    color: theme.palette.primary.main\n  }\n}));\n\nconst useGridStyles = makeStyles((theme: any) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      justifyContent: 'space-around',\n      overflow: 'hidden',\n      backgroundColor: theme.palette.background.paper,\n    },\n    gridList: {\n      width: 400,\n      maxWidth: \"calc(100vh - 32px)\",\n      flexDirection: 'column',\n      height: 500,\n    },\n  }),\n);\n\ntype $image = {image: string, type: string};\n\nfunction combinedGridTiles(images: $image[]){\n  if(images.length >= 9) return images.slice(0, 9).map(({image}) => (\n    <GridListTile key={image} cols={1}>\n      <img src={image} alt={image} />\n    </GridListTile>\n  ))\n  if(images.length >= 7) return images.map(({image}, index) => (\n    <GridListTile key={image} rows={!index ? 3 : 1} cols={1}>\n      <img src={image} alt={image} />\n    </GridListTile>\n  ));\n  if(images.length >= 6) return images.map(({image}, index) => (\n    <GridListTile key={image} rows={(!index || index === 3 || index === 4) ? 2 : 1}>\n      <img src={image} alt={image} />\n    </GridListTile>\n  ));\n  return images.slice(0, 4).map(({image}, index) => (\n    <GridListTile key={image} rows={!index || index === (images.length - 1) ? 3 : 1} cols={!index ? 2 : 1}>\n      <img src={image} alt={image} />\n    </GridListTile>\n  ));\n \n}\n\n\nconst PacksCard = React.memo(function PacksCard(props: $props){\n  const classes = useStyles();\n  const gridClasses = useGridStyles();\n  const linkTo = `/shedules/activities/packs?${qs.stringify({\n    name: props.pack.name,\n    ids: props.pack.images.map(image => image.id)\n  })}`;\n  \n  const normalizedRating = props.pack.averageStarRating / 10;\n  return <Card key={props.pack.name} className={classNames(props.className, classes.root)}>\n    <CardContent>\n      <Typography align=\"center\" variant=\"body2\"><Link to={linkTo}>{props.pack.name}</Link></Typography>\n      <Box textAlign=\"center\"><MyTooltip title={`The average rating for this activity is ${round(normalizedRating, 2)} out of 5`} render={({spreadProps})=><span {...spreadProps}><Rating value={normalizedRating} size=\"small\" precision={0.1} readOnly /></span>}/></Box>\n    </CardContent>\n    <Link to={linkTo}><GridList cellHeight={160} className={gridClasses.gridList} cols={3}>\n        {\n          combinedGridTiles(props.pack.images)\n        }\n      </GridList>\n    </Link>\n  </Card>\n})\n\nexport default PacksCard;\n\n\n\n// import React from 'react';\n// import { Card, makeStyles, CardMedia, Typography } from '@material-ui/core';\n// import { useSelector } from 'react-redux';\n\n// import Tags from '../Tags';\n// import {     addedActivitySelector,\n//   wontDoActivitySelector,\n//   completedActivitySelector } from '../../../../../utils/redux/config';\n// import classNames from 'classnames';\n// import { useRowBlackbox } from '../../../../../utils/context/rowBlackbox';\n\n\n\n// const SquareSlot = React.memo(function SquareSlot(props: $props){\n//   const activity = props.shedule;\n//   const addedActivity = useSelector(addedActivitySelector(activity.id));\n//   const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n//   const completedActivity = useSelector(completedActivitySelector(activity.id));\n//   const { ids, doNotHideAddedActivities, row } = useRowBlackbox();\n//   const classes = useStyles();\n//   if(completedActivity || wontDoActivity) return null;\n//   if(!doNotHideAddedActivities && addedActivity) return null;\n//   if(ids[activity.id] !== undefined && ids[activity.id] !== row) return null;\n//   ids[activity.id] = row;\n//   const isSquareImg = (img: any) => {\n//     const quotient = img.height / img.width;\n//     return 0.85 < quotient && quotient < 1.15 && !/amazon/.test(img.src);\n//   }\n\n//   return <Card key={activity.id} className={classNames(props.className, classes.root)}>\n//     <a href={activity?.properties.link} target=\"_blank\" rel=\"noopener noreferrer\">\n//       <CardMedia title={activity.name} className={classes.img} image={activity.properties.imgLinks.find(isSquareImg).src}/>\n//     </a>\n//     <a href={activity?.properties.link} target=\"_blank\" rel=\"noopener noreferrer\">\n//       <Typography align=\"center\">{activity.name}</Typography>\n//     </a>\n//     <Tags activity={activity} direction=\"row\" width=\"400px\" height=\"55px\"/>\n//   </Card>\n// });\n\n\n// export default SquareSlot","import React from 'react';\nimport { Divider } from '@material-ui/core';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport PacksCard, { $pack } from '../../../shedules/activities/Packs/Card';\n\nconst defaultValue : any[] = [];\n\nconst PackRow = React.memo(function PackRow({subjectTags, ages}: {subjectTags: string[], ages: string[]}){  \n  const defaultTags =  ages;\n  const tags = defaultTags.concat(subjectTags).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public/packs`, { \n    defaultValue,\n    query: {\n      tags,\n    }, \n    deps: [],\n    // cache: true\n  });\n  \n  return !data.length && data !== defaultValue ? null : <div>\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow renderSlides={()=>data.map((pack: $pack) => <PacksCard key={pack.name} className=\"swiper-slide\" pack={pack} />)} data={data} />\n    }\n    <Divider variant=\"inset\" />\n  </div>\n});\n\nexport default PackRow;","import React, { useEffect, useState } from 'react';\nimport _ from 'lodash';\nimport LazyLoad from 'react-lazyload';\n\nimport SearchActivitiesNonSearchRow from '../NonSearchRow';\nimport SearchActivitiesNonSearchPortraitRow from '../NonSearchPortraitRow';\nimport SearchActivitiesNonSearchSquareRow from '../NonSearchSquareRow';\nimport lscache from 'lscache';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport { Provider, $rowBlackboxContext } from '../../../../utils/context/rowBlackbox';\nimport PackRow from '../NonSearchPackRow';\n\nconst LIST_ACTIVITIES_TAG_ORDER = 'listActivitiesTagOrder';\n\nconst mainTags = [/*'active',*/ 'stem', 'arts&crafts', 'indoor', 'outdoor', 'literacy', 'math', 'printable', 'winter'];\n\nexport default React.memo(function ListActivities({ages}: {subjects: string[], ages: string[]}){\n  const [tagOrder, setTagOrder] = useState<string[]>(JSON.parse(lscache.get(LIST_ACTIVITIES_TAG_ORDER) || '[]'));\n  const [ids] = useState({});\n  const { data: popularTags } : {data: string[]} = useCustomSwr(SERVER_ADDRESS+'/tags/popular', {\n    cache: true,\n    defaultValue: []\n  });\n  useEffect(()=>{\n    if(!tagOrder.length && popularTags.length){\n      const nextTagOrder = _.uniq((_.shuffle(mainTags)).concat(_.shuffle(popularTags||[]).filter((tag: string)=>(tag.indexOf('age') === -1))))\n      setTagOrder(nextTagOrder);\n      lscache.set(LIST_ACTIVITIES_TAG_ORDER, JSON.stringify(nextTagOrder), 15)\n    }\n  // eslint-disable-next-line\n  }, [ages, popularTags])\n\n  const squareRender = (tag: string)=>{\n    return <div style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={200} >\n      <SearchActivitiesNonSearchSquareRow tag={tag} ages={ages} />\n    </LazyLoad></div>;\n  }\n\n  const packRender = (tag: string)=>{\n    return <div style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={200} >\n      <PackRow subjectTags={[tag].concat(tagOrder.reverse().slice(0, 5))} ages={ages} />\n    </LazyLoad></div>;\n  }\n\n  const portraitRender = (tag: string)=>{\n    return <div style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={200} >\n      <SearchActivitiesNonSearchPortraitRow tag={tag} ages={ages} />\n    </LazyLoad></div>;\n  }\n  \n  const render = (tag: string)=>{\n    return <div style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={300}>\n      <SearchActivitiesNonSearchRow tag={tag} ages={ages} />\n    </LazyLoad></div>;\n  }\n\n  const renderAll = (tag: string, row: number)=>{\n    if(!tag) return null;\n    if(row === 1) return packRender(tag);\n    if(row === 8) return squareRender(tag)\n    if(row === 3 || row === 6 || row === 12) return portraitRender(tag)\n    return render(tag)\n  }\n\n  return <div>\n    {\n      // [tagOrder[0]]\n      tagOrder\n      .map((tag: string, row: number)=>{\n        const context : $rowBlackboxContext = {\n          ids,\n          row,\n          imageType: (row % 2 === 1) ? 'landscape' : 'portrait',\n        };\n        return <Provider key={tag} value={context}>{renderAll(tag, row)}</Provider>\n      })\n    }\n  </div>\n});","import React from 'react';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { dashboardTabsSelector } from '../../../utils/redux/config';\nimport { uiSelector, createUIAction } from '../../../utils/redux/ui';\nimport Config from './Config';\nimport MyTabs, { TabPanel } from '../../components/general/Tabs';\nimport ListActivities from './ListActivities';\nimport FAIcon from '../../components/general/FAIcon';\n\nimport {IconButton } from '@material-ui/core';\nimport { sendEvent } from '../../../utils/ga';\n\nexport default React.memo(function Dashboard(){\n  const rawDashboardTabs = useSelector(dashboardTabsSelector);\n  const dashboardTabs = [...rawDashboardTabs].sort((a,b)=>a.ordinal-b.ordinal)\n  const { dashboard } = useSelector(uiSelector);\n  const dispatch = useDispatch();\n  const onChange = (tab: number, isEditing?: Boolean)=>dispatch(createUIAction({\n    dashboard: {\n      tab,\n      isEditing: isEditing || false\n    }}))\n  return <div>\n    <MyTabs\n      tabsProps={{variant: \"standard\"}}\n      value={dashboard.tab}\n      onChange={(tab)=>onChange(tab)}\n      tabPropsArr={dashboardTabs.map(d=>({\n        label: <span>{d.name || d.ages.join(' & ') || `Tab ${d.ordinal+1}`}\n        <IconButton\n          onClick={(e)=>{\n            e.stopPropagation();\n            sendEvent({category: 'dashboard', action: 'click', label: 'ordinal', value: d.ordinal});\n            onChange(d.ordinal, true)\n          }}\n        >\n          <FAIcon type=\"pen\" size=\"1x\" />\n        </IconButton>\n      </span>\n      }))}\n    />\n    {\n      dashboardTabs.map((d, i)=><TabPanel key={d.ordinal} value={dashboard.tab} index={i}>\n        {\n          (!d.ages.length || dashboard.isEditing) ? <Config ordinal={d.ordinal} /> : <ListActivities ages={d.ages} subjects={d.subjects}/>\n        }\n        </TabPanel>)\n    }\n    \n\n  </div>\n});","import React from 'react';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\n\nimport { useParams } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport { Typography, makeStyles, Chip, Grid, Card, Box } from '@material-ui/core';\nimport ReactMarkdown from 'react-markdown';\n\nimport humanizeDuration from 'humanize-duration';\n\nimport AddActivityButtons from '../added/Button';\nimport ActivitiesPreviewImages from '../preview/Images';\nimport MaterialsList from '../../../materials/List';\n\nimport { FormLabel } from '@material-ui/core';\nimport { blue } from '@material-ui/core/colors';\n\n\nconst useStyle = makeStyles({\n  spacer: {\n    marginTop: '2rem',\n  },\n  // image: {\n  //   width: '100%',\n  //   display: 'block',\n  //   margin: '2rem auto'\n  // },\n  tags: {\n    margin: '1rem auto 0',\n    textAlign: 'center',\n  },\n  requirements: {\n    padding: '0 2rem',\n  },\n  card: {\n    minWidth: '20rem',\n    margin: 'auto'\n  },\n  cardTitle: {\n    color: blue[700],\n    textDecoration: 'none',\n  },\n  cardTitleWrapper: {\n    margin: '0 1rem'\n  },\n})\n\ninterface $shedulesParams {\n  sheduleId: string\n}\n\nexport default function ActivityShow(props: any){\n  const classes = useStyle();\n  const { sheduleId } = useParams<$shedulesParams>();\n  const { data } = useCustomSwr(SERVER_ADDRESS+'/shedules/activities/public/'+sheduleId);\n\n  \n  if(!data) return null;\n  const title = `Goodplans - ${data.name}`;\n  const linkWrapper = (children: JSX.Element)=>data?.properties?.link ? <a className={classes.cardTitle} href={data.properties.link} rel=\"noopener noreferrer\" target=\"_blank\" children={children}/> : <React.Fragment children={children}/>\n  return <div>\n    <Helmet>\n      <meta charSet=\"utf-8\" />\n      <title>{title}</title>\n      <meta property=\"og:image\"              content={`${data.image}`} />\n      <meta property=\"og:title\"              content={title} />\n    </Helmet>\n    <Typography align=\"center\" variant=\"caption\">Disclaimer: This website does not guarantee the quality or safety of the activity below, nor does it guarantee which ages the activity is appropriate for. Please use your own judegement.</Typography>\n    <Card className={classes.card}>\n      <Grid justify=\"flex-start\" container>\n        <Grid item xs={1}>\n          {\n            // <LikeShow sheduleId={sheduleId} />\n          }\n          <AddActivityButtons activity={data} />\n        </Grid>\n      </Grid>\n      <Grid container justify=\"center\">\n          <Grid item md={6} lg={6} xl={6}>\n            <div className={classes.cardTitleWrapper}>\n            {\n              linkWrapper(<Typography className={classes.cardTitle} align=\"center\" variant=\"h5\" component=\"h1\">{data.name}</Typography>)\n            }\n            </div>\n            <div className={classes.tags}>\n              {(data?.properties?.tags || '').split(' ').map((tag: string) => <Chip key={tag} label={tag}/>)}\n            </div>\n            <Box m=\"3rem auto\" maxWidth=\"30rem\">\n              <ActivitiesPreviewImages activity={data} />\n            </Box>\n            \n          </Grid>\n          <Grid item md={6} lg={6} xl={6}>\n          {\n            data?.properties?.duration && \n              <Typography align=\"center\"  variant=\"body1\">\n                {humanizeDuration(data.properties.duration)}\n              </Typography>\n          }\n          {\n            (data?.properties?.metaRequirements && data?.properties?.metaRequirements.length) ? <div className={classes.requirements}>\n              <FormLabel>Requirements</FormLabel>\n              <MaterialsList activity={data} />\n            </div> : null\n          }\n          </Grid>\n      </Grid>\n    </Card>\n    <ReactMarkdown\n      source={data.description}\n    />\n  </div>\n}","import React from 'react';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../../utils/remote';\n\nimport { useSelector, useDispatch } from 'react-redux';\n\n\nimport { purgeActivities } from '../utils';\n\nimport {\n    addedActivitiesSelector,\n} from '../../../../../utils/redux/config';\n\n\nconst defaultValue : any = []\n\nexport default function addedActivitiesWrapper(Comp: any){\n  return function AddedActivitiesWrapper(props: any){\n    const addedActivities = useSelector(addedActivitiesSelector);\n    const dispatch = useDispatch();\n  \n    const { data } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n      defaultValue,\n      query: {\n        ids: Object.keys(addedActivities)\n      },\n      doNotFire:  !Object.keys(addedActivities).length,\n      deps: [],\n    });\n    \n    React.useEffect(()=>{\n      if(data === defaultValue) return;\n      if(data.length !== Object.keys(addedActivities).length){\n        dispatch(purgeActivities(data))\n      }\n    // eslint-disable-next-line\n    }, [data]);\n    return <Comp {...props} data={data} />;\n  }\n}","import { Box, Paper } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { $activity } from '../../../../declarations/local/activity';\nimport { lineupActivitiesSelector, addedActivitiesSelector } from '../../../utils/redux/config';\nimport {\n    removeActivityFromSchedule,\n    addActivityToSchedule\n} from '../../shedules/activities/added/utils';\nimport { makeStyles } from '@material-ui/styles';\nimport { Checkbox } from '@material-ui/core';\nimport { FormControlLabel } from '@material-ui/core';\nimport { AccordionDetails } from '@material-ui/core';\nimport { FormLabel } from '@material-ui/core';\nimport { ExpandMore } from '@material-ui/icons';\nimport { AccordionSummary } from '@material-ui/core';\nimport { Accordion } from '@material-ui/core';\nimport { $materialRowProps } from '..';\nimport MaterialRow from '../Row';\nimport Materials from '../Materials';\nimport { sortBy, uniqBy } from 'lodash';\nimport classNames from 'classnames';\nimport MyTooltip from '../../components/general/MyTooltip';\n\nconst useAccordionDetailsStyles = makeStyles({\n  root: {\n    display: 'block'\n  }\n})\n\nconst useStyles = makeStyles({\n  avatar: {\n    width: '15px',\n    height: '15px',\n    borderRadius: '8px',\n    display: 'inline-block',\n    verticalAlign: 'middle',\n    marginRight: '2px',\n  },\n  legendFormLabel: {\n    display: 'inline-block'\n  },\n})\n\nconst MasterList = React.memo(function MasterList(props: {data: $activity[]}){\n  const accordionDetailsClasses = useAccordionDetailsStyles();\n  const activitiesLineup = useSelector(lineupActivitiesSelector);\n  const addedActivities =useSelector(addedActivitiesSelector);\n  const [ orderedMaterials , setOrderedMaterials ] = useState<null|$materialRowProps[]>(null);\n  const getOrderedMaterials = (materialRowsProps: $materialRowProps[])=>{\n    if(orderedMaterials) return orderedMaterials;\n    const nextOrderedMaterials = sortBy(materialRowsProps, (materialRowProps: $materialRowProps)=>materialRowProps.metaRequirement.types[0]);\n    setOrderedMaterials(nextOrderedMaterials);\n    return nextOrderedMaterials;\n  }\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const [ activities, setActivities ] = React.useState<{[key: string]: $activity}>({});\n  React.useEffect(()=>{\n    setActivities(props.data.reduce((acc: {[key: string]: $activity}, activity)=>{\n      acc[activity.id] = activity;\n      return acc;\n    }, {}));\n  }, [props.data]);\n  return <Paper>\n    <Accordion defaultExpanded>\n        <AccordionSummary\n          // classes={accordionClasses}\n          expandIcon={<ExpandMore />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n        <FormLabel\n          // className={classes.formLabel}\n          component=\"legend\">Master Supplies List</FormLabel>\n        </AccordionSummary>\n        <AccordionDetails classes={accordionDetailsClasses}>\n          {\n            props.data.filter(activity => addedActivities[activity.id]).map(activity => {\n              const checked = activitiesLineup[activity.id];\n              const onChange = ()=>dispatch(checked ? removeActivityFromSchedule(activity) : addActivityToSchedule(activity));\n              return <div>\n                <FormControlLabel\n              classes={{root: classNames(classes.legendFormLabel, 'master-supplies-list__legend-item')}}\n              control={\n                <ColoredCheckbox\n                  color={addedActivities[activity.id].color}\n                  defaultChecked={checked}\n                  onChange={onChange}\n                  name={activity.id} />\n                }\n              label={activity.name}\n            ></FormControlLabel>\n            \n            </div>\n            })\n          }\n        </AccordionDetails>\n      </Accordion>\n      <Box p=\"16px\">\n        {\n          Boolean(props.data.length) && <Materials\n            activities={props.data}\n            render={(materialRowsProps: $materialRowProps[])=>{\n              const orderedMaterialRowsProps = getOrderedMaterials(materialRowsProps);\n              const existingOrderedMaterialRowProps = orderedMaterialRowsProps.filter((materialRowProp)=>activitiesLineup[materialRowProp.id])\n              const idsPerType = existingOrderedMaterialRowProps.reduce((acc: {[key: string]: string[]}, curr)=>{\n                const type = curr.metaRequirement.types[0];\n                if(!acc[type]){\n                  acc[type] = []\n                }\n                acc[type].push(curr.id);\n                return acc;\n              }, {});\n              return uniqBy(existingOrderedMaterialRowProps, (materialRowProps)=>materialRowProps.metaRequirement.types[0])\n              .map((materialRowProp)=>{\n                return <div key={materialRowProp.id + materialRowProp.metaRequirement.types[0]}>\n                  <MaterialRow {...materialRowProp} />\n                  {\n                    idsPerType[materialRowProp.metaRequirement.types[0]].map((id)=><MyTooltip key={id} title={activities[id]?.name} render={({spreadProps})=><span {...spreadProps} className={classes.avatar} style={{backgroundColor: addedActivities[id].color}} />}/>)\n                  }\n                </div>;\n              })\n            }}\n          />\n        }\n      </Box>\n  </Paper>\n});\n\nexport default MasterList;\n\nconst useCheckboxStyles = makeStyles({\n  checked: ({color}: any)=>({\n    '& svg': {\n      color\n    }\n  })\n})\n\nconst ColoredCheckbox = React.memo(({color, ...props} : any)=>{\n  const classes = useCheckboxStyles({color});\n  return <Checkbox\n    {...props}\n    classes={classes}\n    />\n});\n\n","import React, { useEffect, useState } from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport SheduleRow from '../../../../components/general/SheduleRow';\nimport { Link, useHistory } from 'react-router-dom';\nimport FAIcon from '../../../../components/general/FAIcon';\nimport { useSelector, useDispatch } from 'react-redux';\n\n\n\n\nimport { purgeActivities } from '../utils';\n\n\nimport { uiSelector, createUIAction } from '../../../../../utils/redux/ui';\nimport { useMediaQuery } from '@material-ui/core';\nimport MyTabs, { TabPanel } from '../../../../components/general/Tabs';\n\n\nimport ImageSlotTour, {\n    collectionSteps,\n    mobileCollectionSteps\n} from '../../../../components/general/SheduleRow/ImageSlot/Tour';\n\n\n\nimport addedActivitiesWrapper from '../wrapper';\nimport {\n    onboardingSelector,\n    fullOnboardingSelector,\n    createConfigAction,\n    addedActivitiesSelector\n} from '../../../../../utils/redux/config';\nimport { removeActivity } from '../utils';\nimport { Provider } from '../../../../../utils/context/rowBlackbox';\nimport MasterList from '../../../../materials/MasterList';\nimport { $activity } from '../../../../../../declarations/local/activity';\n\nconst noActivities = <p>You have no bookmarked activities. To bookmark an activity, click on the <FAIcon type=\"bookmark\"/> icon of an activity card on your <Link to=\"/\">home page</Link></p>\n\nconst defaultValue : any = []\n\nfunction ActivityCollections({data}: {data: $activity[]}){  \n  const addedActivities = useSelector(addedActivitiesSelector);\n  const dispatch = useDispatch();\n  const ui = useSelector(uiSelector);\n  const tab = ui.addedActivities.tab || 0;\n  const onboarding = useSelector(fullOnboardingSelector);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(()=>{\n    setMounted(true);\n  }, [])\n  React.useEffect(()=>{\n    if(data !== defaultValue){\n      if(data.length !== Object.keys(addedActivities).length){\n        purgeActivities(data)\n      }\n    }\n  // eslint-disable-next-line\n  }, [data])\n  const onboardingcollections = useSelector(onboardingSelector('collections'));\n  const conditionCheck = (onboarding: any)=>onboarding?.dashboard?.completed;\n  const bookmarkedActivities = !data.length ? noActivities : \n  <Provider value={{ids: {}, row: 0, imageType: 'portrait', doNotHideAddedActivities: true}}>\n    <SheduleRow\n      showFirstActivity={conditionCheck(onboarding) && !onboardingcollections.completed}\n      data={data}\n    />\n  </Provider>;\n  \n  const biggerThanSmall = useMediaQuery('(min-width:1000px)');\n\n  const tour = <ImageSlotTour noOnEnd type=\"collections\" conditionCheck={conditionCheck} />\n  if(biggerThanSmall){\n    return <div>\n      {\n        onboarding?.dashboard?.completed && !onboarding?.collections?.completed && <OnboardingTripwire2 />\n      }\n      {\n        mounted && Boolean(data.length) && tour\n      }\n      <Typography align=\"center\" variant=\"h6\">\n        Bookmarks\n      </Typography>\n      <Grid container>\n        <Grid xs={7}>\n          {\n            bookmarkedActivities\n          }  \n        </Grid>  \n        <Grid xs={5}>\n          <MasterList data={data} />\n        </Grid>\n      </Grid>\n    </div>\n  }\n  return <div>\n    {\n      !onboarding?.collections?.completed && <><OnboardingTripwire /><OnboardingTripwire2 mobile /></>\n    }\n    <ImageSlotTour key={tab} noOnEnd type=\"collections\" mobile conditionCheck={(onboarding: any)=>onboarding?.dashboard?.completed}/>\n      <div>\n        <MyTabs\n          tabsProps={{variant: \"standard\"}}\n          value={tab}\n          onChange={(newValue: number)=>{\n            dispatch(createUIAction({\n              addedActivities: {\n                tab: newValue\n              }\n            }))\n          }}\n          tabPropsArr={\n            [\n              {\n                label: \"Bookmarks\"\n              },\n              {\n                label: \"Master Supplies List\",\n                classes: {\n                  root: 'supplies-tab'\n                }\n              },\n            ]\n          } />\n      </div>\n      <TabPanel value={tab} index={0}>\n        {\n          bookmarkedActivities\n        }\n      </TabPanel>\n      <TabPanel value={tab} index={1}>\n        {\n          <MasterList data={data} />\n        }\n      </TabPanel>\n    </div>\n}\n\nconst OnboardingTripwire = React.memo(function OnboardingTripwire(){\n  const dispatch = useDispatch();\n  const onboarding = useSelector(fullOnboardingSelector);\n  const ui = useSelector(uiSelector);\n  useEffect(()=>{\n    if(onboarding?.dashboard?.completed && !onboarding.collections?.completed && onboarding.collections?.step === 0){\n      dispatch(createUIAction({\n        addedActivities: {\n          ...ui.addedActivities,\n          tab: 0,\n        }\n      }));\n    }\n    // eslint-disable-next-line\n  }, [])\n  useEffect(()=>{\n    if(onboarding?.dashboard?.completed && !onboarding.collections?.completed && onboarding.collections.step === 3){\n      dispatch(createUIAction({\n        addedActivities: {\n          ...ui.addedActivities,\n          tab: 1,\n        }\n      }));\n    }\n    // eslint-disable-next-line\n  }, [onboarding.collections.step])\n  return null;\n})\n\nconst OnboardingTripwire2 = React.memo(function OnboardingTripwire2(props: {mobile?: Boolean}){\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const onboarding = useSelector(fullOnboardingSelector);\n  const addedActivities = useSelector(addedActivitiesSelector);\n  const steps = props.mobile ? mobileCollectionSteps : collectionSteps;\n  useEffect(()=>{\n    if(onboarding?.collections?.step === steps.length && !onboarding?.collections?.completed){\n      dispatch(createConfigAction({\n        onboarding: {\n          ...onboarding,\n          collections: {\n            ...onboarding.collections,\n            completed: true,\n            step: onboarding.collections.step + 1\n          }\n        }\n      }));\n      if(Object.keys(addedActivities).length === 3){\n        Object.keys(addedActivities).forEach( id =>{\n          dispatch(removeActivity({id}))\n        })\n      }\n      history.push('/');\n    }\n  // eslint-disable-next-line\n  }, [onboarding])\n  return null;\n})\n\nexport default addedActivitiesWrapper(ActivityCollections)","import React from 'react';\nimport { Redirect } from 'react-router-dom';\n\nexport default function Lineup(){\n  return <Redirect to=\"/activities/added\" />\n}","import React from 'react';\nimport { Typography, Card, CardContent, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '700px',\n    margin: '0 auto',\n  }\n})\n\nexport default function Contact(){\n  const classes = useStyles();\n  return <div>\n    <div>\n      <Card className={classes.root}>\n        <CardContent>\n            <Typography variant=\"h6\" component=\"h1\">Contact Us</Typography>\n            <Typography variant=\"body2\">Fill out the contact form, or for more immediate responses, email us at <strong><a href=\"mailto:hi@goodplans.app\">hi@goodplans.app</a></strong></Typography>\n            <iframe title=\"contact\" src=\"https://docs.google.com/forms/d/e/1FAIpQLScxg0UfktZjdRulfXcTGcbtAl5DirwLqp8U1FPMDIVe9kQrhg/viewform?embedded=true\" min-width=\"300\" width=\"100%\" height=\"900\">Loading</iframe>\n        </CardContent>\n      </Card>\n    \n    </div>\n  </div>\n}","import { Card, CardContent, Container } from '@material-ui/core';\nimport React from 'react';\nimport ReactMarkdown from 'react-markdown';\n\nconst text = `\n# ACTS Terms of Use\nACTS provides a personalized subscription service that allows our members to access activities (ACTS content) from certain Internet-connected TVs, computers and other devices (\"ACTS ready devices\").\n\nThese Terms of Use govern your use of our service. As used in these Terms of Use, \"ACTS service\", \"our service\" or \"the service\" means the personalized service provided by ACTS for discovering ACTS content, including all features and functionalities, recommendations and reviews, the website, and user interfaces, as well as all content and software associated with our service.\n\n## Membership\n\n1.1. Your ACTS membership will continue until terminated. To use the ACTS service you must have Internet access and an ACTS ready device.\n\n1.2. We may offer a number of membership plans, including special promotional plans or memberships offered by third parties in conjunction with the provision of their own products and services. We are not responsible for the products and services provided by such third parties. Some membership plans may have differing conditions and limitations, which will be disclosed at your sign-up or in other communications made available to you.\n\n1.3. Cancellation. You can cancel your ACTS membership at any time.\n\n## ACTS Service\n\n4.1. You must be 18 years of age, or the age of majority in your province, territory or country, to become a member of the ACTS service. Minors may only use the service under the supervision of an adult.\n\n4.2. The ACTS service and any content viewed through the service are for your personal and non-commercial use only and may not be shared with individuals beyond your household. During your ACTS membership we grant you a limited, non-exclusive, non-transferable right to access the ACTS service and view ACTS content. Except for the foregoing, no right, title or interest shall be transferred to you.\n\n4.3. You may view the ACTS content primarily within the country in which you have established your account and only in geographic locations where we offer our service. The content that may be available will vary by geographic location and will change from time to time. The number of devices on which you may simultaneously use depends on your chosen subscription plan and is specified on the \"Account\" page.\n\n4.4. You agree to use the ACTS service, including all features and functionalities associated therewith, in accordance with all applicable laws, rules and regulations, or other restrictions on use of the service or content therein. You agree not to archive, reproduce, distribute, modify, display, perform, publish, license, create derivative works from, offer for sale, or use (except as explicitly authorized in these Terms of Use) content and information contained on or obtained from or through the ACTS service. You also agree not to: circumvent, remove, alter, deactivate, degrade or thwart any of the content protections in the ACTS service; use any robot, spider, scraper or other automated means to access the ACTS service; decompile, reverse engineer or disassemble any software or other products or processes accessible through the ACTS service; insert any code or product or manipulate the content of the ACTS service in any way; or use any data mining, data gathering or extraction method. In addition, you agree not to upload, post, e-mail or otherwise send or transmit any material designed to interrupt, destroy or limit the functionality of any computer software or hardware or telecommunications equipment associated with the ACTS service, including any software viruses or any other computer code, files or programs. We may terminate or restrict your use of our service if you violate these Terms of Use or are engaged in illegal or fraudulent use of the service.\n\n4.5. ACTS software is developed by, or for, ACTS and is designed to enable viewing of ACTS content through ACTS ready devices. This software may vary by device and medium, and functionalities and features may also differ between devices. You acknowledge that the use of the service may require third party software that is subject to third party licenses. You agree that you may automatically receive updated versions of the ACTS and related third-party software.\n\n4.6. You may use the ACTS content so long as you use your best judgement about the activities that are posted on the ACTS website. ACTS does not guarantee the quality or safety of any activities listed on the ACTS website, and any auxiliary information ACTS provides about the activity, which may include which ages the activity is appropriate for, and what kind benefits can be derived from doing the activity, are simply estimations and not guaranteed to be accurate.\n\n## Passwords and Account Access.\n\nThe member who created the ACTS account and whose Payment Method is charged (the \"Account Owner\") has access and control over the ACTS account and the ACTS ready devices that are used to access our service and is responsible for any activity that occurs through the ACTS account. To maintain control over the account and to prevent anyone from accessing the account (which would include information on viewing history for the account), the Account Owner should maintain control over the ACTS ready devices that are used to access the service and not reveal the password or details of the Payment Method associated with the account to anyone. You are responsible for updating and maintaining the accuracy of the information you provide to us relating to your account. We can terminate your account or place your account on hold in order to protect you, ACTS or our partners from identity theft or other fraudulent activity.\nWarranties and Limitations on Liability. The ACTS service is provided \"as is\" and without warranty or condition. In particular, our service may not be uninterrupted or error-free. You waive all special, indirect and consequential damages against us. These terms will not limit any non-waivable warranties or consumer protection rights that you may be entitled to under the laws of your country of residence.\nClass Action Waiver. WHERE PERMITTED UNDER THE APPLICABLE LAW, YOU AND NETFLIX AGREE THAT EACH MAY BRING CLAIMS AGAINST THE OTHER ONLY IN YOUR OR ITS INDIVIDUAL CAPACITY, AND NOT AS A PLAINTIFF OR CLASS MEMBER IN ANY PURPORTED CLASS OR REPRESENTATIVE PROCEEDING. Further, where permitted under the applicable law, unless both you and ACTS agree otherwise, the court may not consolidate more than one person's claims with your claims, and may not otherwise preside over any form of a representative or class proceeding.\n\n## Miscellaneous\n\n8.1. Governing Law. These Terms of Use shall be governed by and construed in accordance with the laws of the Netherlands.\n\n8.2. Customer Support. To find more information about our service and its features or if you need assistance with your account, please visit the ACTS Help Center on our website. In certain instances, Customer Service may best be able to assist you by using a remote access support tool through which we have full access to your computer. If you do not want us to have this access, you should not consent to support through the remote access tool, and we will assist you through other means. In the event of any conflict between these Terms of Use and information provided by Customer Support or other portions of our website, these Terms of Use will control.\n\n8.3. Survival. If any provision or provisions of these Terms of Use shall be held to be invalid, illegal, or unenforceable, the validity, legality and enforceability of the remaining provisions shall remain in full force and effect.\n\n8.4. Changes to Terms of Use and Assignment. ACTS may, from time to time, change these Terms of Use. We will notify you at least 30 days before such changes apply to you. We may assign or transfer our agreement with you including our associated rights and obligations at any time and you agree to cooperate with us in connection with such an assignment or transfer.\n\n8.5. Electronic Communications. We will send you information relating to your account (e.g. payment authorizations, invoices, changes in password or Payment Method, confirmation messages, notices) in electronic form only, for example via emails to your email address provided during registration.\nLast Updated: Octover 20, 2020`\n\nexport default function TermsOfUse(){\n  return <Container>\n    <Card>\n      <CardContent>\n        <ReactMarkdown source={text} />\n      </CardContent>\n    </Card>\n  </Container>\n}\n\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\n\nexport default function Privacy(){\n  return <ReactMarkdown source={text} />\n}\n\nconst text = `\n# Privacy Statement\nThis Privacy Statement explains our practices, including your choices, regarding the collection, use, and disclosure of certain information, including your personal information, by the Actswebapp family of companies (\"Actswebapp\") in connection with the Actswebapp service.\n\n## Contacting Us\nIf you have general questions about your account or how to contact customer service for assistance, please visit our online help center at help.actswebapp.com. For questions specifically about this Privacy Statement, or our use of your personal information, cookies or similar technologies, please contact our Data Protection Officer/Privacy Office by email at privacy@actswebapp.com.\n\nThe data controller of your personal information is Actswebapp Inc. Please note that if you contact us to assist you, for your safety and ours we may need to authenticate your identity before fulfilling your request.\n\n## Collection of Information\nWe receive and store information about you such as:\n\n### Information you provide to us:\nWe collect information you provide to us which includes: your name, email address, address or postal code, payment method(s), and telephone number. In certain countries, we collect a government identification number for purposes such as billing and tax compliance. We collect this information in a number of ways, including when you enter it while using our service, interact with our customer service, or participate in surveys or marketing promotions;\ninformation when you choose to provide ratings, taste preferences, account settings (including preferences set in the \"Account\" section of our website), or otherwise provide information to us through our service or elsewhere.\n\n### Information we collect automatically: \nWe collect information about you and your use of our service, your interactions with us and our advertising, as well as information regarding your network, network devices, and your computer or other Actswebapp capable devices you might use to access our service (such as gaming systems, smart TVs, mobile devices, set top boxes, and other streaming media devices). This information includes:\nyour activity on the Actswebapp service, such as title selections, shows you have watched, and search queries;\nyour interactions with our emails and texts, and with our messages through push and online messaging channels;\ndetails of your interactions with our customer service, such as the date, time and reason for contacting us, transcripts of any chat conversations, and if you call us, your phone number and call recordings;\ndevice IDs or other unique identifiers, including for your network devices, and devices that are Actswebapp capable on your Wi-Fi network;\nresettable device identifiers (also known as advertising identifiers), such as those on mobile devices, tablets, and streaming media devices that include such identifiers (see the \"Cookies and Internet Advertising\" section below for more information);\ndevice and software characteristics (such as type and configuration), connection information including type (wifi, cellular), statistics on page views, referring source (for example, referral URLs), IP address (which may tell us your general location), browser and standard web server log information;\ninformation collected via the use of cookies, web beacons and other technologies, including ad data (such as information on the availability and delivery of ads, the site URL, as well as the date and time). (See our \"Cookies and Internet Advertising\" section for more details.)\n\n### Information from partners:\nWe collect information from other companies with whom you have a relationship (Partners). These Partners might include (depending on what services you use): your TV or internet service provider, or other streaming media device providers who make our service available on their device; mobile phone carriers or other companies who provide services to you and collect payment for the Actswebapp service for distribution to us or provide pre-paid promotions for the Actswebapp service; and voice assistant platform providers who enable interaction with our service through voice commands. The information Partners provide us varies depending on the nature of the Partner services, and may include:\nsearch queries and commands applicable to Actswebapp that you make through Partner devices or voice assistant platforms;\nservice activation information such as your email address or other contact information;\nIP addresses, device IDs or other unique identifiers, as well as associated pre-paid promotion, billing and user interface information, that support user authentication, the Actswebapp service registration experience, Partner payment processing, and the presentation of Actswebapp content to you through portions of the Partner user interface.\n\n### Information from other sources: We also obtain information from other sources. We protect this information according to the practices described in this Privacy Statement, plus any additional restrictions imposed by the source of the data. These sources vary over time, but could include:\nservice providers that help us determine a location based on your IP address in order to customize our service and for other uses consistent with this Privacy Statement;\nsecurity service providers who provide us with information to secure our systems, prevent fraud and help us protect the security of Actswebapp accounts;\npayment service providers who provide us with payment or balance information, or updates to that information, based on their relationship with you;\nonline and offline data providers, from which we obtain aggregated demographic, interest based and online advertising related data;\npublicly-available sources such as publicly available posts on social media platforms and information available through public databases associating IP addresses with internet service providers (ISPs).\n\n## Use of Information\nWe use information to provide, analyze, administer, enhance and personalize our services and marketing efforts, to manage member referrals, to process your registration, your orders and your payments, and to communicate with you on these and other topics. For example, we use such information to:\ndetermine your general geographic location, provide localized content, provide you with customized and personalized viewing recommendations for movies and TV shows we think will be of interest to you, determine your ISP to support network troubleshooting for you (we also use aggregated ISP information for operational and business purposes), and help us quickly and efficiently respond to inquiries and requests;\ncoordinate with Partners on making the Actswebapp service available to members and providing information to non members about the availability of the Actswebapp service, based on the specific relationship you have with the Partner;\nsecure our systems, prevent fraud and help us protect the security of Actswebapp accounts;\nprevent, detect and investigate potentially prohibited or illegal activities, including fraud, and to enforce our terms (such as determining whether and for which Actswebapp signup offers you are eligible and determining whether a particular device is permitted to use the account consistent with our Terms of Use);\nanalyze and understand our audience, improve our service (including our user interface experiences and service performance) and optimize content selection, recommendation algorithms and delivery;\ncommunicate with you concerning our service so that we can send you news about Actswebapp, details about new features and content available on Actswebapp, special offers, promotional announcements, consumer surveys, and to assist you with operational requests such as password reset requests. These communications may be by various methods, such as email, push notifications, text message, online messaging channels, and matched identifier communications (described below). Please see the \"Your Choices\" section of this Privacy Statement to learn how to set or change your communications preferences.\n\n## Disclosure of Information\nWe disclose your information for certain purposes and to third parties, as described below:\n\nThe Actswebapp family of companies: We share your information among the Actswebapp family of companies (help.actswebapp.com/legal/corpinfo) as needed for: data processing and storage; providing you with access to our services; providing customer support; making decisions about service improvements; content development; and for other purposes described in the Use of Information section of this Privacy Statement.\nService Providers: We use other companies, agents or contractors (\"Service Providers\") to perform services on our behalf or to assist us with the provision of services to you. For example, we engage Service Providers to provide marketing, advertising, communications, security, infrastructure and IT services, to customize, personalize and optimize our service, to provide bank account or balance information, to process credit card transactions or other payment methods, to provide customer service, to analyze and enhance data (including data about users' interactions with our service), and to process and administer consumer surveys. In the course of providing such services, these Service Providers may have access to your personal or other information. We do not authorize them to use or disclose your personal information except in connection with providing their services (which includes maintaining and improving their services).\nPartners: As described above, you may have a relationship with one or more of our Partners, in which case we may share certain information with them in order to coordinate with them on providing the Actswebapp service to members and providing information about the availability of the Actswebapp service. For example, depending on what Partner services you use, we may share information:\nin order to facilitate Partner pre-paid promotions or collection of payment for the Actswebapp service for distribution to us;\nwith Partners who operate voice assistant platforms that allow you to interact with our service using voice commands;\nso that content and features available in the Actswebapp service can be suggested to you in the Partners user interface. For members, these suggestions are part of the Actswebapp service and may include customized and personalized viewing recommendations.\nPromotional offers: We may offer joint promotions or programs that, in order for your participation, will require us to share your information with third parties. In fulfilling these types of promotions, we may share your name and other information in connection with fulfilling the incentive. Please note that these third parties are responsible for their own privacy practices.\nProtection of Actswebapp and others: Actswebapp and its Service Providers may disclose and otherwise use your personal and other information where we or they reasonably believe such disclosure is needed to (a) satisfy any applicable law, regulation, legal process, or governmental request, (b) enforce applicable terms of use, including investigation of potential violations thereof, (c) detect, prevent, or otherwise address illegal or suspected illegal activities (including payment fraud), security or technical issues, or (d) protect against harm to the rights, property or safety of Actswebapp, its users or the public, as required or permitted by law.\nBusiness transfers: In connection with any reorganization, restructuring, merger or sale, or other transfer of assets, we will transfer information, including personal information, provided that the receiving party agrees to respect your personal information in a manner that is consistent with our Privacy Statement.\nWhenever in the course of sharing information we transfer personal information to countries outside of the European Economic Area and other regions with comprehensive data protection laws, we will ensure that the information is transferred in accordance with this Privacy Statement and as permitted by the applicable laws on data protection.\n\nYou may also choose to disclose your information in the following ways:\n\ncertain portions of our service may contain a tool which gives you the option to share information by email, text message and social or other sharing applications, using the clients and applications on your smart device;\nsocial plugins and similar technologies allow you to share information.\nSocial plugins and social applications are operated by the social networks themselves, and are subject to their terms of use and privacy policies.\n\n## Access to Account and Profiles\nRemember me function: For ease of access to your account, you can use the \"Remember me on this device\" function when you log in to the website. This function uses technology that enables us to provide direct account access and to help administer the Actswebapp service without requiring reentry of any password or other user identification when your browser revisits the service. \nGiving others access to your account: If you share or otherwise allow others to have access to your account, they will be able to see shows you have watched, ratings, and account information (including your email address or other information in the \"Account\" area of our website). This remains true even if you use our profiles feature. You might have the option to use seamless account login through the Actswebapp mobile app, which enables login to the Actswebapp app on smart TVs, set top boxes, and other streaming media devices on the Wi-Fi network to which you are connected. If you use that feature, those devices will remain signed into your account unless you later log out of those devices. \nProfiles: Profiles allow users to have a distinct, personalized Actswebapp experience, built around the movies and shows of interest to them, as well as separate watch histories. Please note that profiles are available to everyone who uses your Actswebapp account, so that anyone with access to your Actswebapp account can navigate to and use, edit or delete profiles. You should explain this to others with access to your account, and if you do not wish them to use or change your profile, be sure to let them know. Profile users may be offered the opportunity to add an email address, phone number or other information to the profile and will be provided with notice of collection and use at the time such information is requested (the Profile Privacy Notice applies (help.actswebapp.com/legal/profileprivacy)). \nRemoving device access to your Actswebapp account: To remove access to your Actswebapp account from your devices: (a) visit the \"Account\" section of our website, choose \"Sign out of all devices,\" and follow the instructions to deactivate your devices (note, deactivation may not occur immediately) or (b) delete your Actswebapp settings from your device (steps vary by device and the option is not available on all devices). Where possible, users of public or shared devices should log out at the completion of each visit. If you sell or return a computer or Actswebapp ready device, you should log out and deactivate the device before doing so. If you do not maintain the security of your password or device, or fail to log out or deactivate your device, subsequent users may be able to access your account, including your personal information.\n\n## Your Choices\nEmail and Text Messages. If you no longer want to receive certain communications from us via email or text message, simply access the \"Communications Settings\" option in the \"Account\" section of our website and uncheck those items to unsubscribe. Alternatively, click the \"unsubscribe\" link in the email or reply STOP (or as otherwise instructed) to the text message. Please note that you cannot unsubscribe from service-related correspondence from us, such as messages relating to your account transactions.\n\nPush Notifications. You can choose to receive mobile push notifications from Actswebapp. On some device operating systems, you will be automatically enrolled in the notifications. If you subsequently decide you no longer wish to receive these notifications, you can use your mobile device's settings functionality to turn them off. We also offer push notifications on certain web browsers. If you agree to receive those notifications and subsequently decide you no longer wish to receive these notifications, you can use your browsers settings to turn them off.\n\nWhatsApp. If you have enabled WhatsApp messages in connection with your Actswebapp account or profile and no longer wish to receive them, you can use your WhatsApp app settings to block them.\n\nInterest-Based Ads. Interest-based ads are online ads that are tailored to your likely interests based on your use of various apps and websites across the Internet. If you are using a browser, then cookies and web beacons can be used to collect information to help determine your likely interests. If you are using a mobile device, tablet, or streaming media device that includes a resettable device identifier, then that identifier can be used to help determine your likely interests. For your choices about interest-based ads from Actswebapp, please see the \"Cookies and Internet Advertising\" section (below).\n\nMatched Identifier Communications. Some third party sites and apps allow us to reach our users with online promotions about our titles and services by sending a privacy protective identifier to the third party. A privacy protective identifier means we convert the original information (such as an email address or phone number) into a value to keep the original information from being revealed. The third party compares the privacy protective identifier to identifiers in its database and there will be a match only if you have used the same identifier (such as an email address) with Actswebapp and the third party. If there is a match, Actswebapp can then choose whether or not to send a given promotional communication to you on that third party site or app, and can optimize and better measure the effectiveness of online advertising. You can opt out in the Marketing Communications section of the Account section of our website.\n\n## Your Information and Rights\nYou can request access to your personal information, or correct or update out-of-date or inaccurate personal information we hold about you. You may also request that we delete personal information that we hold about you.\n`\n+\n\n// When you visit the \"Account\" portion of our website, you have the ability to access and update a broad range of information about your account, including your contact information, your Actswebapp payment information, and various related information about your account (such as the content you have viewed and rated). You must be signed in to access the \"Account\" section.\n\n// If you are the account owner, to download a copy of your personal information go to: www.actswebapp.com/account/getmyinfo (you must be signed in to access the \"Account\" section), and follow the instructions.\n\n`For other requests, or if you have a question regarding our privacy practices, please contact our Data Protection Officer/Privacy Office at privacy@actswebapp.com.\n\nWe may reject requests that are unreasonable or not required by law, including those that would be extremely impractical, could require disproportionate technical effort, or could expose us to operational risks. We may retain information as required or permitted by applicable laws and regulations, including to honor your choices, for our billing or records purposes and to fulfill the purposes described in this Privacy Statement. We take reasonable measures to destroy or de-identify personal information in a secure manner when it is no longer required.\n\n## Security\nWe use reasonable administrative, logical, physical and managerial measures to safeguard your personal information against loss, theft and unauthorized access, use and modification. These measures are designed to provide a level of security appropriate to the risks of processing your personal information.\n\n## Other Websites, Platforms and Applications\nThe Actswebapp service may be provided through and/or utilize features (such as voice controls) operated by third party platforms, or contain links to sites operated by third parties whose policies regarding the handling of information may differ from ours. For example, you may be able to access the Actswebapp service through platforms such as gaming systems, smart TVs, mobile devices, set top boxes and a number of other Internet connected devices. These websites and platforms have separate and independent privacy or data policies, privacy statements, notices and terms of use, which we recommend you read carefully. In addition, you may encounter third party applications that interact with the Actswebapp service.\n\n## Children\nYou must be 18 years of age or older to subscribe to the Actswebapp service. In certain jurisdictions, the age of majority may be older than 18, in which case, you must satisfy that age in order to become a member. While individuals under the age of 18 may utilize the service, they may do so only with the involvement, supervision, and approval of a parent or legal guardian.\n\n## Changes to This Privacy Statement\nWe will update this Privacy Statement from time to time in response to changing legal, regulatory or operational requirements. We will provide notice of any such changes (including when they will take effect) in accordance with law. Your continued use of the Actswebapp service after any such updates take effect will constitute acknowledgement and (as applicable) acceptance of those changes. If you do not wish to acknowledge or accept any updates to this Privacy Statement, you may cancel your use of the Actswebapp service. To see when this Privacy Statement was last updated, please see the \"Last Updated\" section below.\n\n## Cookies and Internet Advertising\nWe and our Service Providers use cookies and other technologies (such as web beacons), as well as resettable device identifiers, for various reasons. We want you to be informed about our use of these technologies, so this section explains the types of technologies we use, what they do, and your choices regarding their use. \n\nCookies and similar technologies, web beacons, and resettable device identifiers\n\nCookies are small data files that are commonly stored on your device when you browse and use websites and online services. We use other technologies such as browser storage and plugins (e.g., HTML5, IndexedDB, and WebSQL). Like cookies, these other technologies may store small amounts of data on your device. Web beacons (also known as clear gifs or pixel tags) often work in conjunction with cookies. In many cases, declining cookies will impair the effectiveness of web beacons associated with those cookies.\n\nIf you use the Actswebapp app on a mobile device, tablet, or streaming media device, we may collect a resettable device identifier from your device. Resettable device identifiers (also known as advertising identifiers) are similar to cookies and are found on many mobile devices and tablets (for example, the \"Identifier for Advertisers\" (or IDFA) on Apple iOS devices and the \"Google Advertising ID\" on Android devices), and certain streaming media devices. Like cookies, resettable device identifiers are used to make online advertising more relevant and for analytics and optimization purposes.   \n\n### Why does Actswebapp use these technologies?\n\nWe use these types of technologies for various reasons, like making it easy to access our services by remembering you when you return; to provide, analyze, understand and enhance the use of our services; to enforce our terms, prevent fraud; to improve site performance, monitor visitor traffic and actions on our site; and to deliver and tailor our marketing or advertising, and to understand interactions with our emails, marketing, and online ads on third party sites.  \n\nTo help you better understand how we use cookies and resettable device identifiers, please see the information below:\n\nEssential cookies: These cookies are strictly necessary to provide our website or online service. For example, we and our Service Providers may use these cookies to authenticate and identify our members when they use our websites and applications so we can provide our service to them. They also help us to enforce our Terms of Use, prevent fraud and maintain the security of our service. \nPerformance and functionality cookies: These cookies help us to customize and enhance your online experience with Actswebapp. For example, they help us to remember your preferences and prevent you from needing to re-enter information you previously provided (for example, during member sign up). We also use these cookies to collect information (such as popular pages, conversion rates, viewing patterns, click-through and other information) about our visitors' use of the Actswebapp service so that we can enhance and personalize our website and service and conduct market research. Deletion of these types of cookies may result in limited functionality of our service. \nAdvertising cookies and resettable device identifiers: These cookies and resettable device identifiers use information about your use of this and other websites and apps, your response to ads and emails, and to deliver ads that are more relevant to you and for analytics and optimization purposes. These types of ads are called \"interest-based advertising.\" The advertising cookies associated with our service belong to our Service Providers. \nIn connection with our use of these technologies, some of the websites and apps where we advertise, as well as advertising technology companies that we use to purchase, deliver, optimize, and/or measure our advertisements (collectively Advertising Partners), may receive limited information from us as part of our campaign targeting, measurement, and optimization (e.g., steps completed in sign-up and site visit or app open/install information).\n\nCommon uses of this type of information are to judge the effectiveness of and optimize ad campaigns, by allowing Advertising Partners to see when someone who saw an ad later signed up for our service.  Another common use is to make sure we do not serve ads trying to get individuals to sign up for the Actswebapp service if they are already a Actswebapp user.  \n\nActswebapp uses contractual and technical measures designed to prevent Advertising Partners from accessing information regarding specific title selections you make, URLs you land on, or shows you have watched on our service. We do not share information about title selections or your shows you have watched on our service.  \n\n### How can I exercise choice regarding these technologies? \n\n#### To exercise choice regarding cookies\n\nFor more information about cookies set through our website, as well as other types of online tracking (including the collection of information by third parties about your online activities over time and across third-party web sites or online services for online interest based advertising), and to exercise choices regarding them, click here. At this time, we do not respond to web browser \"do not track\" signals. \n\n#### To exercise choice regarding resettable device identifiers\n\nTo opt out of interest-based ads from Actswebapp in connection with a resettable device identifier on a mobile device, tablet, or streaming media devices, please configure the appropriate setting on your device (usually found under \"privacy\" or \"ads\" in your device's settings). You may still see Actswebapp ads on your device, but they will not be tailored to your likely interests. \n\n#### To exercise choice using self-regulatory program resources\n\nActswebapp supports the following self-regulatory programs, which provide additional privacy choices for interest-based advertising: \n\nIn the US: Digital Advertising Alliance (DAA) \nIn Europe: European Interactive Digital Advertising Alliance (EDAA) \nIn Canada: AdChoices: Digital Advertising Alliance of Canada (DAAC) / Choix de Pub: l'Alliance de la publicit numrique du Canada (DAAC)\nTo exercise choice regarding other technologies\n\nThere are a number of ways to exercise choice regarding technologies that are similar to cookies, such as browser storage and plugins (e.g., HTML5, IndexedDB, and WebSQL). For example, many popular browsers provide the ability to clear browser storage, commonly in the settings or preferences area; see your browser's help function or support area to learn more. Other technologies, such as Silverlight storage, may be cleared from within the application.\n\nUpdated: Oct 31, 2020`","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Provider } from '../../../../../utils/context/rowBlackbox';\nimport { SERVER_ADDRESS, useCustomSwr } from '../../../../../utils/remote';\nimport qs from 'query-string';\nimport { Button, Typography } from '@material-ui/core';\nimport SheduleRow from '../../../../components/general/SheduleRow';\nimport { addActivityToSchedule } from '../../added/utils';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userSelector } from '../../../../../utils/redux/user';\nimport MyPopover from '../../../../components/general/Popover';\nimport ReferPopover from '../../../../components/navigation/Top/Refer/Popover';\n\nconst defaultValue: any[] = [];\n\nexport default function PackCollection(){\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const user = useSelector(userSelector);\n  const [showSuccessMessage, setShowSuccessMessage] = React.useState(false);\n  const {ids, name} = qs.parse(location.search);\n  const { data } = useCustomSwr(SERVER_ADDRESS+'/shedules/activities/public', {\n    defaultValue,\n    query: {\n      ids,\n    },\n    deps: [],\n  })\n  const bulkDispatch = ()=>{\n    if(!user) return;\n    data.forEach((activity: any) => {\n      dispatch(addActivityToSchedule(activity))\n    });\n    setShowSuccessMessage(true);\n    setTimeout(()=>{\n      setShowSuccessMessage(false);\n    }, 2000)\n  }\n  const addButton = <Button color={showSuccessMessage ? \"secondary\" : \"primary\"} variant=\"contained\" onClick={bulkDispatch}>{\n    showSuccessMessage ? 'Success' : 'Add activities to bookmarks'\n  }</Button>\n  return <Provider value={{ids: {}, row: 0, wrap: true, imageType: 'portrait', hideSlotActions: true, doNotHideAddedActivities: true}}>\n    <div>\n      <Typography align=\"right\" variant=\"h6\" component=\"h1\">\n        {name}\n      </Typography>\n      {\n        user ? addButton : <MyPopover renderHoverableContent={()=>addButton} renderOnHoverContent={()=><ReferPopover message={<Typography variant=\"body1\">You can only add groups of activities if you are logged into your free account</Typography>} />} />\n      }\n      \n      \n      <SheduleRow data={data} />\n    </div>\n  </Provider>\n}","import React, { cloneElement } from 'react';\r\nimport { Snackbar, IconButton } from '@material-ui/core';\r\nimport { Close as CloseIcon } from '@material-ui/icons';\r\n\r\nimport UserCreate from '../../../users/Create';\r\nimport { Switch, Route, useHistory, useLocation } from 'react-router-dom';\r\nimport SessionCreate from '../../../sessions/Create';\r\nimport SearchActivities from '../../../pages/Search';\r\nimport Dashboard from '../../../pages/Dashboard';\r\nimport ActivityShow from '../../../shedules/activities/Show';\r\n\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport ActivityCollections from '../../../shedules/activities/added/Collections';\r\nimport ActivityLineup from '../../../shedules/activities/added/Lineup';\r\nimport Contact from '../../../pages/Contact';\r\nimport { userSelector } from '../../../../utils/redux/user';\r\nimport { globalSelector } from '../../../../utils/redux/global';\r\nimport TermsOfUse from '../../../pages/TermsOfUse';\r\nimport Privacy from '../../../pages/Privacy';\r\nimport PackCollection from '../../../shedules/activities/Packs/Collection';\r\n\r\nconst SHEDULES = '/shedules';\r\n\r\nexport default function MainRoutes() {\r\n  const dispatch = useDispatch();\r\n  const {id, message} = useSelector(globalSelector).snackbar\r\n  const handleClose = ()=>dispatch({\r\n    snackbar: ''\r\n  });\r\n  return <>\r\n    <Snackbar\r\n      key={id}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      }}\r\n      open={!!id}\r\n      autoHideDuration={6000}\r\n      onClose={handleClose}\r\n      action={\r\n        <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\r\n          <CloseIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      }\r\n      message={message}\r\n    />\r\n  <Switch>\r\n    \r\n    <Route exact path=\"/search\"><SearchActivities /></Route>\r\n    \r\n    <Route exact path=\"/contact\"><Contact/></Route>\r\n    <Route exact path=\"/\"><Dashboard /></Route>\r\n\r\n    <Route exact path={`${SHEDULES}/activities/packs`}><PackCollection /></Route>\r\n    <Route exact path={`/activities/lineup`}><ActivityLineup /></Route>\r\n    <Route exact path={`/activities/added`}><ActivityCollections /></Route>\r\n    <Route exact path={`${SHEDULES}/activities/:sheduleId`}><ActivityShow /></Route>\r\n\r\n    <Route exact path={`/signup`}><RouteWrapper mustBeLoggedOut><UserCreate/></RouteWrapper></Route>\r\n    <Route exact path={`/login`}><RouteWrapper mustBeLoggedOut><SessionCreate/></RouteWrapper></Route>\r\n\r\n    <Route exact path=\"/termsofuse\"><TermsOfUse /></Route>\r\n    <Route exact path=\"/privacy\"><Privacy /></Route>\r\n\r\n  </Switch>\r\n  </>\r\n};\r\n\r\n\r\nfunction RouteWrapper({children, mustBeLoggedIn, mustBeLoggedOut, ...props}: {children: JSX.Element, mustBeLoggedOut?: Boolean, mustBeLoggedIn?: Boolean}){\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const user = useSelector(userSelector);\r\n  if(mustBeLoggedOut){\r\n    if(new RegExp('^/(signup|login).*', 'i').test(location.pathname)){\r\n      if(user){\r\n        history.push('/')\r\n        return null;      \r\n      }\r\n    }\r\n  }\r\n  if(mustBeLoggedIn){\r\n    if(!user){\r\n      history.push('/overview')\r\n      return null;\r\n    }\r\n  }\r\n  return <>    \r\n    {\r\n      cloneElement(children, props)\r\n    }\r\n  </>\r\n}","import React, {useState} from 'react';\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles';\nimport { Tooltip } from '@material-ui/core';\nimport { sendEvent } from '../../../../../utils/ga';\n\nconst useStyles = makeStyles({\n  link: {\n    textDecoration: 'none',\n    color: 'inherit'\n  }\n})\n\nexport default function Profile({className, user}: {className: string, user?: any}){\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState<HTMLElement|null>(null);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n  const handleClose = ()=>{\n    setAnchorEl(null);\n  }\n  const handleClick = (event: any) => {\n    sendEvent({\n      category: 'account',\n      action: 'click',\n      label: 'none'\n    })\n    setAnchorEl(event.currentTarget);\n  };\n  return <>\n    <Tooltip enterDelay={0} title=\"Account\">\n      <IconButton className={className} color=\"inherit\" onClick={handleClick} aria-label=\"open profile menu\" component=\"span\">\n        <AccountCircle />\n      </IconButton>\n    </Tooltip>\n    <Menu\n      id=\"profile-menu\"\n      anchorEl={anchorEl}\n      keepMounted\n      open={Boolean(anchorEl)}\n      onClose={handleClose}\n    > \n      <MenuItem onClick={()=>{\n        handleClose()\n      }}>\n        <Link className={classes.link} to=\"/search\">Search</Link>\n      </MenuItem>\n      {\n        user ? <MenuItem onClick={()=>{\n          sendEvent({\n            category: 'account',\n            action: 'click',\n            label: 'logout'\n          })\n          handleClose()\n          dispatch({type: 'RESET'})\n          history.push('/')\n        }}>Logout</MenuItem> : <MenuItem onClick={()=>{\n          handleClose()\n        }}><Link className={classes.link} to={`/login?redirect_to=${location.pathname}`}>Login</Link>\n        </MenuItem>\n      }\n      <MenuItem onClick={()=>{\n        handleClose()\n      }}><Link className={classes.link} to=\"/contact\">Contact Us</Link>\n      </MenuItem>\n      <MenuItem onClick={()=>{\n        handleClose()\n      }}><Link className={classes.link} to=\"/privacy\">Privacy</Link>\n      </MenuItem>\n      <MenuItem onClick={()=>{\n        handleClose()\n      }}><Link className={classes.link} to=\"/termsofuse\">Terms of Use</Link>\n      </MenuItem>\n    </Menu>\n  </>\n}","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { IconButton } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport Profile from './Profile';\nimport FAIcon from '../../general/FAIcon';\nimport { userSelector } from '../../../../utils/redux/user';\nimport { addedActivitiesSelector } from '../../../../utils/redux/config';\n\nimport { blue } from '@material-ui/core/colors';\n\nimport TopNavigationRefer from './Refer';\nimport classNames from 'classnames';\nimport { Tooltip } from '@material-ui/core';\nimport SignupButton from '../../../users/Create/Button';\nimport { Badge } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    fontWeight: 300,\n    \n\n  },\n  logo: {\n    height: '3.5rem',\n  },\n  titleLink: {\n    flexGrow: 1,\n    textDecoration: 'none',\n    color: 'inherit',\n    // marginRight: '3.5rem'\n  },\n  iconButtons: {\n    // color: 'rgba(0,0,0,0.7)',\n    color: blue[700],\n    textDecoration: 'none'\n  },\n  lightIconButtons: {\n    color: 'rgba(0,0,0,0.7)',\n    // color: blue[700],\n    textDecoration: 'none'\n  }\n}));\n\nexport default (props: any)=>{\n  const classes = useStyles();\n  const user = useSelector(userSelector);\n  const addedActivities = useSelector(addedActivitiesSelector);\n\n  return <AppBar position=\"sticky\"\n    color=\"inherit\"\n  >\n    <Toolbar>\n      <Link className={classes.titleLink} to=\"/\">\n        <Typography variant=\"h6\" className={classNames(classes.title)}><span className=\"go-to-dashboard\">\n            {\n              props.logo || \"Goodplans\"\n            }\n        </span></Typography>\n      </Link>\n      <Tooltip enterDelay={0} title=\"Bookmarks\"><Link className={classNames(classes.iconButtons, 'go-to-bookmarks')} to=\"/activities/added\"><IconButton color=\"inherit\"><Badge color=\"primary\" badgeContent={Object.keys(addedActivities).length}><FAIcon size=\"md\" type=\"bookmark\"/></Badge></IconButton></Link></Tooltip>\n      <Profile user={user} className={user ? classes.iconButtons : classes.lightIconButtons} />\n      {\n        user ? <TopNavigationRefer /> : <SignupButton />\n      }\n    </Toolbar>\n  </AppBar>\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport Chart from 'chart.js';\nimport { Box } from '@material-ui/core';\n\nexport default function BarChart({barChartProps, boxProps}: any){\n  const canvas = useRef(null);\n  // eslint-disable-next-line\n  const [chart, setChart] = useState<any>(null);\n  useEffect(()=>{\n    if(canvas && canvas.current){\n      const ctx = (canvas.current as any).getContext('2d');\n      setChart(new Chart(ctx, {\n        type: 'bar',\n        ...barChartProps\n      }));\n    }\n    // eslint-disable-next-line\n  }, [canvas])\n  return <Box {...boxProps}><canvas ref={canvas} width=\"400\" height=\"400\" /></Box>\n}","import React from 'react';\nimport BarChart from '../../../../components/general/BarChart';\n\nexport default function DashboardBarChart({data, money}: any){\n  return <BarChart barChartProps={{\n    data,\n    options: {\n      maintainAspectRatio: false,\n      scales: {\n        yAxes: [{\n            ticks: {\n                beginAtZero: true,\n                suggestedMax: 100,\n                ...(!money ? {} : {\n                    callback: function(value: number) {\n                    return '$' + value;\n                  }\n                })\n            }\n        }]\n      }\n    }\n  }} boxProps={{position: 'relative', m: '2rem auto', height: '300px', maxWidth: '600px'}}/>\n}","import React from 'react';\nimport { colors, Button } from '@material-ui/core';\nimport { Container, makeStyles, Typography, Grid } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport DashboardBarChart from '../Dashboard/BarChart';\nimport { Box } from '@material-ui/core';\nimport { AccordionDetails } from '@material-ui/core';\nimport { FormLabel } from '@material-ui/core';\nimport { ExpandMore } from '@material-ui/icons';\nimport { AccordionSummary } from '@material-ui/core';\nimport { Accordion } from '@material-ui/core';\n\nconst useMastStyles = makeStyles({\n  root: {\n    color: '#fff',\n    backgroundImage: \"url('https://images.unsplash.com/photo-1502086223501-7ea6ecd79368?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1323&q=80')\",\n    width: '100%',\n    height: '100vh',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundAttachment: 'scroll',\n    backgroundSize: 'cover',\n    position: 'relative'\n  },\n  titleWrapper: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  title: {\n    display: 'inline-block',\n  },\n  subtitle: {\n    display: \"inline-block\",\n  },\n  signup: {\n    backgroundColor: colors.teal['A100'],\n  },\n  signupWrapper: {\n    width: '200px',\n    margin: '2rem auto',\n  },\n  login: {\n    backgroundColor: colors.teal['A100'],\n    position: 'absolute',\n    top: 20,\n    right: 10,\n    width: '150px',\n  }\n})\n\nconst useSubjectStyles = makeStyles({\n  root: {\n    padding: '5rem',\n    // backgroundColor: colors.teal['A100']\n    backgroundColor: colors.grey[50]\n  },\n  title: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  boxes: {\n    color: '#FFF',\n    backgroundSize: 'cover',\n    height: '200px',\n    width: '180px',\n    display: 'inline-block',\n    margin: '1rem',\n    borderRadius: '0.5rem'\n  }\n})\n\nconst useAgeStyles = makeStyles({\n  root: {\n    // padding: '5rem',\n    // backgroundColor: colors.teal['A100']\n    backgroundImage: \"url('https://images.unsplash.com/photo-1482235225574-c37692835cf3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1351&q=80')\",\n    backgroundPosition: 'center',\n    backgroundSize: 'cover',\n    height: '400px',\n    width: '100%',\n  },\n  // img: {\n    \n  //   width: '400px',\n  //   height: '200px',\n  // }\n})\n\nconst useMaterialStyles = makeStyles({\n  root: {\n    padding: '5rem',\n    backgroundColor: colors.teal['A100']\n    // height: '400px',\n    // width: '100%',\n  },\n  // img: {\n    \n  //   width: '400px',\n  //   height: '200px',\n  // }\n})\n\n\n\n/**\n * Find activities by subject\n * Use age restrictions\n * Add activities to your schedule\n * Get the materials in each activity\n */\n\n\n \nexport default function AffiliateLanding(){\n\n  const Bx = ({url, tag}: {url: string, tag: string})=><Grid container justify=\"center\" alignItems=\"flex-end\" className={subjectClasses.boxes}\n    style={{\n      backgroundImage: `url('${url}')`\n  }}>\n    <Grid item>\n      <Typography>#{tag}</Typography>\n    </Grid>\n  </Grid>\n  const mastClasses = useMastStyles();\n  const subjectClasses = useSubjectStyles();\n  const ageClasses = useAgeStyles();\n  const materialClasses = useMaterialStyles();\n  const signupButton = <div className={mastClasses.signupWrapper}><Link to=\"/signup\"><Button fullWidth className={mastClasses.signup}>Signup Now</Button></Link></div>\n  return <Container disableGutters>\n    <Grid className={mastClasses.root} container justify=\"center\" alignItems=\"center\">\n      <Grid item xs={12}>\n        <Typography align=\"center\" variant=\"h2\">Help parents make activities a breeze</Typography>\n        <Typography align=\"center\" variant=\"h4\">And earn recurring income in the process</Typography>\n\n        {\n          signupButton\n        }\n      </Grid>\n      <div className={mastClasses.titleWrapper}>\n        <Typography variant=\"h1\" className={mastClasses.title}>acts.</Typography>\n        <Typography variant=\"h5\" className={mastClasses.subtitle}>Affiliates Program</Typography>\n      </div>\n      <Link to=\"/login\"><Button className={mastClasses.login}>Login</Button></Link>\n    </Grid>\n    <Grid container className={subjectClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n        <Typography variant=\"h6\">Parents can choose activities by subject and age</Typography>\n      </Grid>\n      <Grid item>\n        <div>\n          <div>\n            <Bx tag=\"stem\" url=\"https://images.unsplash.com/photo-1560961911-ba7ef651a56c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1334&q=60\" />\n            <Bx tag=\"arts&crafts\" url=\"https://images.unsplash.com/photo-1596495718166-7ac739ca1bc4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </div>\n          <div>\n            <Bx tag=\"active\" url=\"https://images.unsplash.com/photo-1489710437720-ebb67ec84dd2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n            <Bx tag=\"sensory\" url=\"https://images.unsplash.com/photo-1504484440176-4f89a392c862?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </div>\n          <div>\n            <Typography align=\"center\">And many more...</Typography>\n          </div>\n        </div>\n      </Grid>\n    </Grid>\n    <Grid style={{\n      backgroundColor: colors.teal['A100']\n    }}container justify=\"center\" alignItems=\"center\">\n      <Grid className={ageClasses.root} xs={12} md={6} style={{\n        backgroundImage: \"url('https://images.unsplash.com/photo-1459257831348-f0cdd359235f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80')\"\n      }} item>\n        \n      </Grid>\n      <Grid className={materialClasses.root} xs={12} md={6}item>\n      <Typography variant=\"h6\">Earn 20% of all revenue generated from members you refer for 5 years</Typography>\n      <Typography align=\"center\" variant=\"body1\">(For a maximum earnings of {`(USD)$`}3,000,000.00)</Typography>\n      </Grid>\n    </Grid>\n    <Grid container className={ageClasses.root} justify=\"center\" alignItems=\"center\">\n    </Grid>\n    <Grid style={{\n      backgroundColor: colors.teal['A100']\n    }}container justify=\"center\" alignItems=\"center\">\n      <Grid style={{backgroundColor: colors.grey[50]}}  xs={12} md={6} item>\n        <DashboardBarChart money data={\n          {\n            labels: ['November 1', 'January 1', 'March 1'],\n            datasets: [{\n              label: 'Earnings (USD) during bi-monthly period',\n              data: [111.01, 67.55, 202.02]\n            }]\n          }\n        } />\n      </Grid>\n      <Grid className={materialClasses.root} xs={12} md={6}item>\n        <Typography align=\"center\" variant=\"h6\">We pay you bi-monthly</Typography>\n      </Grid>\n    </Grid>\n    <Grid container justify=\"center\">\n      <Grid item>\n        <Box p=\"3rem\" maxWidth=\"600px\">\n          <Typography align='center' variant=\"h6\">FAQ</Typography>\n            {\n              [\n                ['How is revenue calculated?','Anytime a member you referred makes a monthly payment, you earn 20% of that payment. So if a member pays $2.00, you earn $0.40 that month from that member.'],\n                ['How often are payments made?', 'Payments to affiliate members are paid on the first of every other month'],\n                ['What does a maximum of $3,000,000 mean?', 'If through this program your earnings reach $3,000,000, your earnings are capped, and you cannot earn anymore money with that account'], \n                ['What does over 5 years mean?', 'From the moment your account is created, you can earn money from that date to the same day of the same month, 5 years later.'],\n                ['Do you expect memberships to always be $2.00?', 'No, we expect the monthly fee to grow as the quality of the content improves'],\n              ].map(([summary, content], i)=><Accordion>\n                  <AccordionSummary\n                  // classes={accordionClasses}\n                  expandIcon={<ExpandMore />}\n                  aria-controls={\"panel\"+i+\"a-content\"}\n                  id={\"panel\"+i+\"a-header\"}\n                >\n                  <FormLabel component=\"legend\">{summary}</FormLabel>\n                </AccordionSummary>\n                <AccordionDetails>\n                  {content}\n                </AccordionDetails>\n              </Accordion>)\n            }\n        </Box>\n      </Grid>\n    </Grid>\n    <Grid className={ageClasses.root} style={{\n        backgroundImage: \"url('https://images.unsplash.com/photo-1517554558809-9b4971b38f39?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80')\"\n      }} item></Grid>\n            \n    <Grid container className={subjectClasses.root} justify=\"center\" alignItems=\"center\">\n        <Grid item>\n          <Typography variant=\"h3\" align='center'>Help change parents' lives</Typography>\n          {\n            signupButton\n          }\n        </Grid>\n    </Grid>\n  </Container>\n}","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { SERVER_ADDRESS } from '../../../../utils/remote';\nimport { SessionCreateCard } from '../../../sessions/Create';\n\nexport const endpoint = SERVER_ADDRESS + '/sessions';\n\n\nexport default function AffiliateLogin(){\n  const history = useHistory();\n  return <SessionCreateCard type=\"aff\" api={endpoint} onSuccessCB={()=>history.push('/')}/>;\n}","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {UserCreateCard} from '../../../users/Create';\nimport { SERVER_ADDRESS } from '../../../../utils/remote';\n\nexport const endpoint = SERVER_ADDRESS+'/users/affiliates';\n\nexport default function AffiliateSignup(){\n  const history = useHistory();\n  return <UserCreateCard\n    api={endpoint}\n    onSuccessCB={()=>{\n      history.push('/')\n    }}\n    type=\"aff\"\n  />\n}","import { Card, CardContent, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { SERVER_ADDRESS, useCustomSwr } from '../../../../utils/remote';\nimport { Box } from '@material-ui/core';\nimport DashboardBarChart from './BarChart';\n\nexport default function AffiliateDashboard(){\n  const { data: activeReferrals } = useCustomSwr(SERVER_ADDRESS+'/users/referrals')\n  const { data: affiliateInformation } = useCustomSwr(SERVER_ADDRESS+'/users/affiliates')\n  if(!affiliateInformation || !activeReferrals) return null\n  const earningsData = {\n    labels: Object.keys(affiliateInformation.history.earningsByDate),\n    datasets: [{\n      label: 'Earnings (USD) during bi-monthly period',\n      data: Object.values(affiliateInformation.history.earningsByDate).map((v: any) => (v*0.1)/100),\n    }]\n  }\n  const activeUsersData = {\n    labels: Object.keys(affiliateInformation.history.earningsByDate).concat(['Today']),\n    datasets: [{\n      label: 'Numbers of active users durning bi-monthly period',\n      data: Object.values(affiliateInformation.history.activeUsersByDate).concat([activeReferrals?.count]),\n    }]\n  }\n  return <div>\n    <Box m=\"1rem auto\" maxWidth=\"600px\">\n      <Card>\n        <CardContent>\n          <Typography variant=\"h6\" component=\"h2\">Number of active referred accounts: <strong>{activeReferrals?.count}</strong></Typography>\n        </CardContent>\n      </Card>\n    </Box>\n    <Box m=\"1rem auto\" maxWidth=\"600px\">\n      <Card>\n        <CardContent>\n          <DashboardBarChart data={earningsData} />\n        </CardContent>\n      </Card>\n    </Box>\n    <Box m=\"1rem auto\" maxWidth=\"600px\">\n      <Card>\n        <CardContent>\n          <DashboardBarChart data={activeUsersData} />\n        </CardContent>\n      </Card>\n    </Box>\n  </div>\n}","import React, { cloneElement } from 'react';\nimport { Route, useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { userSelector } from '../../../../utils/redux/user';\nimport AffiliateLanding from '../../../pages/affiliates/Landing';\nimport AffiliateLogin from '../../../pages/affiliates/Login';\nimport AffiliateSignup from '../../../pages/affiliates/Signup';\nimport AffiliateDashboard from '../../../pages/affiliates/Dashboard';\nimport { makeStyles } from '@material-ui/styles';\nimport { Container } from '@material-ui/core';\nimport Top from '../../navigation/Top';\n\nconst useStyle = makeStyles({\n  page: {\n    paddingTop: '1rem',\n    paddingBottom: '4rem',\n    backgroundColor: '#e6f1ff', //'#eaf5e6',//grey[100],\n    minHeight: '90vh',\n  }\n})\n\nfunction PageContainer(props: any){\n  const classes = useStyle();\n  return <>\n    <Top affiliate logo={'acts.Affiliates'}/>\n    <Container maxWidth={false} className={classes.page}>\n      {props.children}\n    </Container>\n  </>\n}\n\nexport default function AffiliateRoutes() {\n  return <>\n    <Route exact path=\"/login\"><PageContainer><AffiliateLogin /></PageContainer></Route>\n    <Route exact path=\"/signup\"><PageContainer><AffiliateSignup /></PageContainer></Route>\n    <Route exact path=\"/\"><RouteWrapper mustBeLoggedIn><PageContainer><AffiliateDashboard /></PageContainer></RouteWrapper></Route>\n    <Route exact path=\"/overview\"><AffiliateLanding /></Route>\n  </>\n};\n\n\n\nfunction RouteWrapper({children, mustBeLoggedIn, ...props}: {children: JSX.Element, mustBeLoggedIn?: Boolean}){\n  const history = useHistory();\n  const user = useSelector(userSelector);\n  if(mustBeLoggedIn){\n    if(!user || user.type !== 'aff'){\n      history.push('/overview')\n      return null;\n    }\n  }  \n  return <>    \n    {\n      cloneElement(children, props)\n    }\n  </>\n}","import React from 'react';\n\nimport { Switch, Route, useLocation } from 'react-router-dom';\nimport { makeStyles, Container } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport { v4 } from 'uuid';\nimport Footer from '../../navigation/Footer';\nimport Overview from '../../../pages/Overview';\nimport MainRoutes from '../Main';\nimport TopNavigation from '../../navigation/Top';\nimport { SERVER_ADDRESS, get } from '../../../../utils/remote';\nimport { createConfigAction, configSelector, $configState } from '../../../../utils/redux/config';\n\nimport { userSelector } from '../../../../utils/redux/user';\nimport { createUIAction, uiCreditsSelector } from '../../../../utils/redux/ui';\n\nimport AffiliateRoutes from '../Affiliate';\nimport { ga, sendPageView } from '../../../../utils/ga';\nimport randomColor from 'randomcolor';\n\n\nconst useStyle = makeStyles({\n  page: {\n    paddingTop: '1rem',\n    paddingBottom: '4rem',\n    backgroundColor: '#e6f1ff', //'#eaf5e6',//grey[100],\n    minHeight: '90vh',\n  }\n})\n\nconst CoreApp = ()=>{\n  const classes = useStyle()\n  return <>\n    <TopNavigation />\n    <Container className={classes.page} maxWidth={false}>\n      <MainRoutes />\n    </Container>\n  </>\n}\n\nconst addColorToAddedActivities = (configStore: $configState)=>{\n  let addedColor = false;\n  return [\n    {\n      ...configStore,\n      addedActivities: Object.keys(configStore.addedActivities).reduce((acc, id)=>{\n        if(id === 'undefined'){\n          delete acc[id];\n          return acc;\n        }\n        if(!acc[id].color){\n          addedColor=true;\n          acc[id].color = randomColor({luminosity: 'light'})\n        }\n        \n        return acc;\n      }, configStore.addedActivities)\n    },\n    addedColor\n  ]\n}\n\nconst getUnauthenticatedId = ()=>{\n  if(localStorage.getItem('unauthenticatedId')) return localStorage.getItem('unauthenticatedId');\n  const newId = v4();\n  localStorage.setItem('unauthenticatedId', newId);\n  return newId;\n}\n\nexport default function RootRoutes() {\n  const dispatch = useDispatch();\n  const config = useSelector(configSelector);\n  const user = useSelector(userSelector);\n  const credits = useSelector(uiCreditsSelector);\n  const location = useLocation();\n\n  React.useEffect(()=>{\n    ga()('set', 'userId', user ? user.id : getUnauthenticatedId());\n    // eslint-disable-next-line\n  }, [])\n  React.useEffect(()=>{\n    (async ()=>{\n      if(user){\n        ga()('set', 'userId', user.id);\n        const {data: count} = await get(SERVER_ADDRESS+'/credits/count');\n        const configData = await get(SERVER_ADDRESS+'/users/config');\n        const [nextData, addedColor] = addColorToAddedActivities({\n          ...config,\n          ...configData\n        });\n        dispatch(createConfigAction(\n          addedColor ? nextData : {\n          flush: true,\n          data: nextData\n        }))\n        dispatch(createUIAction({\n          credits: {\n            count: count || 0,\n            hasNew: credits.count < count,\n          }\n        }))\n      }\n    })();\n  // eslint-disable-next-line\n  },[user])\n  React.useEffect(() => {\n    window.scrollTo(0, 0);\n    sendPageView(location.pathname);\n\n  }, [location.pathname]);\n\n    /**\n   * To be removed\n   */\n  // React.useEffect(()=>{\n  //   dispatch(createConfigAction({\n  //     onboarding: {\n  //       dashboard: {\n  //         completed: false,\n  //         step: 0,\n  //       },\n  //       collections: {\n  //         completed: false,\n  //         step: 0\n  //       },\n  //       lineup: {\n  //         completed: false,\n  //         step: 0\n  //       },\n  //     }\n  //   }))\n  // // eslint-disable-next-line\n  // }, [])\n  /**\n   * \n   */\n\n  return <>\n      <Helmet>\n        <meta charSet=\"utf-8\" />\n        <meta property=\"og:url\"                content={window.location.pathname} />\n        \n      </Helmet>\n      {\n        process.env.REACT_APP_AFFILIATE ?  <Switch><AffiliateRoutes /></Switch> : <Switch>\n          <Route exact path=\"/overview\"><Overview/></Route>\n          <Route path=\"*\"><CoreApp /></Route>\n          </Switch>\n      }\n    <Footer />\n  </>\n};\n\n\n","import 'fontsource-roboto';\n\nimport React from 'react';\n// import { BrowserRouter } from 'react-router-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { SWRConfig } from 'swr';\nimport { Provider } from 'react-redux';\n\nimport { store } from './utils/redux';\nimport { get } from './utils/remote';\nimport RootRoutes from './features/components/routes/Root';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\n\nimport DateFnsUtils from '@date-io/date-fns';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { blue } from '@material-ui/core/colors';\n\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: blue[700],\n    },\n  },\n});\nfunction App() {\n  return <Wrap store={store}><RootRoutes /></Wrap>;\n}\n\nexport default App;\n\nconst Router = HashRouter;\n\nexport function Wrap({children, store}: { children: JSX.Element|JSX.Element[], store: any}){\n  return (<SWRConfig\n    value={{\n      // refreshInterval: 3000,\n      fetcher: (arg1, ...args)=>{\n        return get(arg1, ...args)\n      },\n    }}\n    >\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <ThemeProvider theme={theme}>\n        <Provider store={store}>\n          <div>\n            <Router>\n              {\n                children\n              }\n            </Router>\n          </div>\n        </Provider>\n      </ThemeProvider>\n    </MuiPickersUtilsProvider>\n  </SWRConfig>);\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}