{"version":3,"sources":["utils/auth.ts","utils/redux/user/index.ts","utils/remote.ts","utils/redux/config/index.ts","utils/redux/global/index.ts","utils/redux/ui/index.ts","utils/redux/index.ts","features/components/navigation/Footer/index.tsx","features/materials/utils/index.ts","features/materials/List/index.tsx","features/materials/Accordions/index.tsx","features/pages/Overview/index.tsx","utils/stripe/index.ts","features/users/Create/index.tsx","features/sessions/Create/index.tsx","features/components/general/FAIcon/index.tsx","features/shedules/activities/added/utils.ts","features/shedules/activities/added/Button/index.tsx","features/components/general/Popover/index.tsx","features/materials/Tag/index.tsx","features/components/general/IconMenu/index.tsx","features/shedules/activities/added/Options/index.tsx","features/components/general/Slideshow/index.tsx","features/shedules/activities/preview/Images/index.tsx","features/components/general/SheduleRow/Slot/index.tsx","features/components/general/SheduleRow/Tags/index.tsx","features/components/general/SheduleRow/PortraitSlot/index.tsx","features/components/general/SheduleRow/SquareSlot/index.tsx","features/components/general/SheduleRow/index.tsx","features/pages/Search/Row/index.tsx","features/pages/Search/index.tsx","features/pages/Dashboard/Config/index.tsx","features/components/general/Tabs/index.tsx","features/pages/Dashboard/NonSearchRow/index.tsx","features/pages/Dashboard/NonSearchPortraitRow/index.tsx","features/pages/Dashboard/NonSearchSquareRow/index.tsx","features/pages/Dashboard/ListActivities/index.tsx","features/pages/Dashboard/index.tsx","features/shedules/activities/Show/index.tsx","features/shedules/activities/added/Timeline/index.tsx","features/shedules/activities/added/ShowMany.tsx","features/pages/Contact/index.tsx","features/users/Create/Error/index.tsx","features/users/Create/Success/index.tsx","features/components/routes/Main/index.tsx","features/components/navigation/Top/Profile/index.tsx","features/components/navigation/Top/index.tsx","features/components/routes/Root/index.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["setToken","token","localStorage","setItem","getToken","getItem","defaultState","jwt","decode","createUserAction","payload","type","userSelector","state","user","SERVER_ADDRESS","process","genDefaultHeaders","Authorization","post","url","options","headers","fetch","method","body","JSON","stringify","then","handleErrors","put","get","otherOptions","res","status","dispatch","customMerge","objValue","srcValue","isArray","undefined","useCustomSwr","apiKey","useState","page","setPage","defaultValue","data","setData","noMoreContent","setNoMoreContent","incrementPage","resetPage","useEffect","suffix","query","qs","arrayFormat","cache","lscache","Promise","resolve","parse","requestOptions","json","set","length","concat","deps","mutate","nextData","mergeResults","mergeWith","rawAddedActivities","rawWontDoActivities","rawCompletedActivities","rawMaterials","rawMaterialTypes","dashboardTabs","addedActivities","wontDoActivities","completedActivities","materials","materialTypes","ages","subjects","ordinal","touched","uuid","v4","createConfigAction","configSelector","config","dashboardTabsSelector","materialsSelector","materialTypesSelector","addedActivitiesSelector","addedActivitySelector","id","wontDoActivitySelector","completedActivitySelector","snackbar","message","globalSelector","global","ui","dashboard","tab","isEditing","createUIAction","uiSelector","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","reducerDic","action","flush","nextState","Object","keys","reduce","acc","curr","key","reducer","store","createStore","useStyles","makeStyles","root","padding","ul","listStyleType","Footer","classes","Container","className","maxWidth","Grid","container","item","to","getMaterialId","req","raw","materialTypeNotMaterial","materialTypeMatch","types","useStyle","typeMatch","color","MaterialsList","activity","useSelector","useDispatch","handleChange","event","checked","target","nextMaterials","nextMaterialTypes","a","FormGroup","properties","metaRequirements","map","FormControlLabel","control","Checkbox","onChange","name","label","join","theme","margin","spacing","useAccordionStyles","height","minHeight","content","Accordions","accordionClasses","FormControl","component","Accordion","defaultExpanded","AccordionSummary","expandIcon","ExpandMore","aria-controls","FormLabel","AccordionDetails","useMastStyles","backgroundImage","width","backgroundPosition","backgroundRepeat","backgroundAttachment","backgroundSize","position","title","top","left","signup","backgroundColor","colors","teal","signupWrapper","login","right","useSubjectStyles","grey","boxes","display","borderRadius","useAgeStyles","useMaterialStyles","Overview","Bx","tag","justify","alignItems","subjectClasses","style","Typography","mastClasses","ageClasses","materialClasses","signupButton","Button","fullWidth","disableGutters","xs","align","variant","stripePromise","loadStripe","setupIntents","session","stripe","redirectToCheckout","sessionId","error","UserCreate","Card","CardHeader","schema","yup","shape","email","required","password","min","max","referralCode","optional","UserCreateForm","location","useLocation","parsed","search","useForm","resolver","yupResolver","handleSubmit","register","errors","useHistory","onSubmit","resp","CardContent","TextField","inputRef","helperText","ref","hidden","value","referral_code","Box","fontWeight","m","Divider","CardActions","SessionCreate","history","push","FAIcon","props","outline","light","split","getType","getName","size","classnames","updateActivities","activityRelationships","getState","nextAddedActivities","addActivityToSchedule","highestOrdinal","values","inSchedule","removeActivityFromSchedule","AddActivityButtons","directToSchedule","button","addedActivity","IconButton","onClick","blacklist","removeActivity","addActivity","MyPopover","disableHover","popoverClasses","renderHoverableContent","renderOnHoverContent","popoverProps","React","mouseStopped","setMouseStopped","anchorEl","setAnchorEl","candidateAnchorEl","setCandidateAnchorEl","debouncedSetMouseStopped","debounce","handleHide","onMouseEnter","currentTarget","onMouseMove","onMouseLeave","Popover","open","Boolean","onClose","disableRestoreFocus","tagContent","marginTop","perfectScore","palette","secondary","main","closeScore","primary","usePopoverStyles","paper","maxHeight","overflowY","MaterialsTag","score","Number","classNames","anchorOrigin","vertical","horizontal","transformOrigin","IconMenu","handleClose","aria-haspopup","renderIcon","MoreVert","Menu","keepMounted","renderMenuItems","AddActivityOptions","MenuItem","ListItemIcon","EventAvailableRounded","fontSize","ListItemText","addCompletedActivity","Check","addDroppedActivity","Clear","Slideshow","images","prevArrow","nextArrow","autoplay","duration","pauseOnHover","infinite","easing","img","ActivitiesPreviewImages","imgLinks","src","useActivityButtonStyles","activityRoot","verticalAlign","marginRight","marginBottom","tagRoot","flexDirection","flexWrap","justifyContent","alignContent","paddingBottom","overflow","cursor","imageTag","activityTitle","whiteSpace","textDecoration","sheduleTitle","sideContent","starSideContent","textAlign","activityImage","transform","headerRoot","borderBottom","SheduleSlot","memo","activityButtonClasses","shedule","wontDoActivity","completedActivity","addedActivityPage","uniqueTags","_","uniqBy","tags","filter","indexOf","age","minAge","maxAge","activityLinkTo","Tooltip","text","maxLine","ellipsis","basedOn","shares","blue","rating","starDimension","starSpacing","starRatedColor","amber","slice","i","description","icon","image","alt","marginLeft","direction","Tags","styleProps","Tag","tooltip","iconProps","children","PortraitSlot","CardMedia","find","SquareSlot","quotient","wrap","overflowX","SheduleRow","featuredPortrait","featuredSquare","Slot","SearchActivitiesRow","previousSizes","setPreviousSizes","reset","searchTags","setSearchTags","searchText","setSearchText","onSearch","nextVal","clean","toLowerCase","v","partition","nextSeachTagsArr","nextSearchTextArr","nextSearchTags","nextSearchText","createFilterOptions","Autocomplete","freeSolo","multiple","popularTags","t","filterOptions","params","filtered","inputValue","selectOnFocus","clearOnBlur","handleHomeEndKeys","renderInput","placeholder","SearchActivities","Config","dashboardTab","x","debouncedOnChange","PickAges","onSave","nextAges","PickSubjects","nextSubjects","PickDefault","selectStatement","modalTitle","defaultButton","range","defaultAges","selected","select","toggle","Modal","renderContent","handleClickOpen","renderDialogContent","isSelected","Tile","useTileStyles","tile","iconTextWrapper","tileHash","bottom","popover","pointerEvents","monogram","source","setOpen","e","stopPropagation","Dialog","fullScreen","AppBar","Toolbar","autoFocus","TabPanel","index","other","role","aria-labelledby","MyTabs","tabsProps","tabPropsArr","Tabs","newValue","aria-label","indicatorColor","textColor","tabProps","Tab","header","SearchActivitiesNonSearchRow","portraitFeatured","reverse","SearchActivitiesNonSearchPortraitRow","SearchActivitiesNonSearchSquareRow","ListActivities","tagOrder","setTagOrder","defaultSubjects","defaultSubjectHash","sampleSize","minWidth","squareRender","portraitRender","render","Dashboard","rawDashboardTabs","sort","b","d","spacer","requirements","card","cardTitle","cardTitleWrapper","ActivityShow","sheduleId","useParams","md","lg","xl","link","href","rel","Fragment","linkWrapper","Chip","humanizeDuration","DayTimeline","onDragEnd","result","destination","reorderOrdinals","droppableId","provided","snapshot","droppableProps","innerRef","Timeline","activityRel","draggableId","draggableProps","dragHandleProps","isDragging","draggableStyle","userSelect","grid","TimelineItem","TimelineOppositeContent","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","ShedulesAddedActivitiesShowMany","setTab","ids","biggerThanSmall","useMediaQuery","inScheduleActivities","schedule","scheduleTitle","sm","Contact","min-width","UserCreateError","CreateUserSuccess","creditApproved","MainRoutes","Snackbar","autoHideDuration","Close","exact","path","RouteWrapper","mustBeLoggedIn","pathname","cloneElement","Profile","flexGrow","menuButton","logo","titleLink","iconButtons","paddingTop","CoreApp","Top","RootRoutes","createMuiTheme","App","Wrap","Router","HashRouter","fetcher","arg1","args","utils","DateFnsUtils","ThemeProvider","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.302525ce.chunk.js","sourcesContent":["\nexport const setToken = (token: string)=>{\n  localStorage.setItem('token', token);\n}\n\nexport const getToken = ()=>localStorage.getItem('token');\n","import jwt from 'jsonwebtoken';\nimport { getToken, setToken } from '../../auth';\n\nexport const DEFAULT_USER_TYPE = 'DEFAULT_USER_TYPE';\n\nconst token = getToken();\n\nconst defaultState = token ? jwt.decode(token) : null\n\nexport const reducer = (state=defaultState, action: any)=>{\n    if(action.type === DEFAULT_USER_TYPE){\n      setToken(action.payload);\n      if(!action.payload) return action.payload;\n      return jwt.decode(action.payload)\n    } \n    return state;\n}\n\nexport const createUserAction = (payload: any)=>{\n  return {\n    type: DEFAULT_USER_TYPE,\n    payload,\n  }\n}\n\n\n\nexport const userSelector = (state: any)=>state.user","import qs from 'query-string';\nimport { useEffect, useState } from 'react';\nimport { mergeWith, isArray } from 'lodash';\nimport { dispatch } from './redux';\nimport { getToken } from './auth';\nimport lscache from 'lscache';\nimport { createUserAction } from './redux/user';\n\nexport const SERVER_ADDRESS = process.env.REACT_APP_SERVER_ADDRESS || \"\";\nconst genDefaultHeaders = ()=>({\n  Authorization: getToken() ? `Bearer ${getToken()}` : '',\n  'Content-Type': 'application/json',\n});\n\n// lscache.flush();\nconst post = (url: string, options:any={headers: {}})=>fetch(url, {\n  method: 'POST',\n  headers: {\n    ...genDefaultHeaders(),\n    ...options.headers,\n  },\n  ...options,\n  body: JSON.stringify(options.body),\n}).then(handleErrors);\n\nconst put = (url: string, options: any={headers: {}})=>fetch(url, {\n  method: 'PUT',\n  headers: {\n    ...genDefaultHeaders(),\n    ...options.headers,\n  },\n  ...options,\n  body: JSON.stringify(options.body),\n}).then(handleErrors);\n\nconst del = (url: string, options: any={headers: {}})=>fetch(url, {\n  method: 'DELETE',\n  headers: {\n    ...genDefaultHeaders(),\n    ...options.headers,\n  },\n  ...options,\n}).then(handleErrors);\n\nconst get = (url: string, options: any={headers: {}})=>{\n  const {headers, ...otherOptions} = options;\n  return fetch(url, {\n    method: 'GET',\n    headers: {\n      ...genDefaultHeaders(),\n      ...headers,\n    },\n    ...otherOptions,\n  }).then(handleErrors);\n}\n\nconst handleErrors = (res: any)=>{\n  if(res.status === 401){\n    dispatch(createUserAction(null));\n  }\n  if(res.status >= 400){\n    throw res\n  }\n  return res;\n}\n\nconst customMerge = function (objValue: any, srcValue: any) {\n  if (isArray(objValue)){\n    return objValue;\n  }\n  if(objValue !== undefined){\n    return objValue\n  }\n}\n\nconst useCustomSwr = (apiKey: string, options:any={})=>{\n  const [ page, setPage ] = useState(0);\n  const [ data, setData ] = useState<any>(options.defaultValue || null);\n  const [ noMoreContent, setNoMoreContent ] = useState(false);\n  const incrementPage = ()=>setPage(page+1);\n  const resetPage = ()=>setPage(0);\n  \n  useEffect(()=>{\n    let suffix='';\n    if(options.query){\n      suffix=qs.stringify({\n        ...options.query,\n        ...(options.page ? {\n          page\n        } : {}),\n      }, {arrayFormat: 'bracket'})\n    }\n    const url = apiKey+(suffix ? '?' + suffix : suffix);\n    let dataRequest\n    if(options.cache && lscache.get(url)){\n      dataRequest = Promise.resolve(JSON.parse(lscache.get(url)));\n    } else {\n      dataRequest = get(url, options.requestOptions)\n      .then((res)=>{\n        return res.json();\n      }).then((json)=>{\n        if(options.cache){\n          lscache.set(url, JSON.stringify(json), 10);\n        }\n        return json;\n      });\n    }\n    dataRequest.then((res)=>{\n      if(page){\n        if(!res.length){\n          setNoMoreContent(true)\n        }\n        return setData(data.concat(res))\n      }\n      return setData(res);\n    });\n  }, (options.deps || []).concat([page]));\n  const mutate = (nextData: any)=>{\n    const mergeResults = mergeWith({...nextData}, data, customMerge);\n    setData(mergeResults);\n  }\n  return { data, mutate, incrementPage, resetPage, page, noMoreContent }\n}\n\nexport {\n  get,\n  post,\n  put,\n  del,\n  useCustomSwr,\n}","import {v4} from 'uuid';\nimport { SERVER_ADDRESS, put } from '../../remote';\nexport const DEFAULT_CONFIG_TYPE = 'DEFAULT_CONFIG_TYPE';\n\ninterface $state {\n    addedActivities: {[id: string]: {\n      inSchedule?: Boolean,\n      ordinal: number,\n    }},\n    wontDoActivities: {[id: string]: Boolean},\n    completedActivities: {[id: string]: Boolean},\n    materials: {[id: string]: Boolean},\n    materialTypes: {[id: string]: Boolean},\n    dashboardTabs: {\n      name?: string,\n      ages: string[],\n      subjects: string[],\n      ordinal: number,\n      touched: Boolean,\n      uuid: string,\n    }[]\n}\n\nconst rawAddedActivities = localStorage.getItem('addedActivities');\nconst rawWontDoActivities = localStorage.getItem('wontDoActivities');\nconst rawCompletedActivities = localStorage.getItem('completedActivities');\nconst rawMaterials = localStorage.getItem('materials');\nconst rawMaterialTypes = localStorage.getItem('materialTypes');\nconst dashboardTabs = localStorage.getItem('dashboardTabs');\nconst defaultState : $state = {\n  addedActivities: rawAddedActivities ? JSON.parse(rawAddedActivities) : {},\n  wontDoActivities: rawWontDoActivities ? JSON.parse(rawWontDoActivities) : {},\n  completedActivities: rawCompletedActivities ? JSON.parse(rawCompletedActivities) : {},\n  materials: rawMaterials ? JSON.parse(rawMaterials) : {},\n  materialTypes: rawMaterialTypes ? JSON.parse(rawMaterialTypes) : {},\n  dashboardTabs: dashboardTabs ? JSON.parse(dashboardTabs) : [\n    {\n      ages: [],\n      subjects: [],\n      ordinal: 0,\n      touched: false,\n      uuid: v4()\n    }\n  ]\n};\n\nexport const reducer = (state=defaultState, action: any)=>{\n    if(action.type === DEFAULT_CONFIG_TYPE){\n      if(action.payload.flush){\n        return action.payload.data\n      }\n      const nextState = Object.keys(action.payload).reduce((acc: any, curr: string)=>{\n        acc[curr] = action.payload[curr];\n        localStorage.setItem(curr, JSON.stringify(action.payload[curr]))\n        return acc;\n      }, {...state});\n      put(SERVER_ADDRESS+'/users/config', {\n        body: action.payload\n      });\n      return nextState;\n    }\n    return state;\n}\n\nexport const createConfigAction = (payload: any)=>{\n  return {\n    type: DEFAULT_CONFIG_TYPE,\n    payload,\n  }\n}\n\ninterface $globalState {\n  config: $state\n}\n\nexport const configSelector = (state: $globalState)=>state.config\nexport const dashboardTabsSelector = (state: $globalState)=>state.config.dashboardTabs;\nexport const materialsSelector = (state: $globalState)=>state.config.materials;\nexport const materialTypesSelector = (state: $globalState)=>state.config.materialTypes;\nexport const addedActivitiesSelector = (state: $globalState)=>state.config.addedActivities;\nexport const wontDoActivitiesSelector = (state: $globalState)=>state.config.wontDoActivities;\nexport const completedActivitiesSelector = (state: $globalState)=>state.config.completedActivities;\nexport const addedActivitySelector = (id: string)=>(state: $globalState)=>state.config.addedActivities[id];\nexport const wontDoActivitySelector = (id: string)=>(state: $globalState)=>state.config.wontDoActivities[id];\nexport const completedActivitySelector = (id: string)=>(state: $globalState)=>state.config.completedActivities[id];\n","export const DEFAULT_GLOBAL_TYPE = 'DEFAULT_GLOBAL_TYPE';\n\nconst defaultState = {\n  snackbar: {\n    message: '',\n    id: ''\n  }\n};\n\nexport const reducer = (state=defaultState, action: any)=>{\n    if(action.type === DEFAULT_GLOBAL_TYPE){\n      return Object.keys(action.payload).reduce((acc: any, key)=>{\n        acc[key]=action.payload[key];\n        return acc\n      }, {...state})\n    }\n    return state;\n}\n\nexport const createGlobalAction = (payload: any)=>{\n  return {\n    type: DEFAULT_GLOBAL_TYPE,\n    payload,\n  }\n}\n\n\n\nexport const globalSelector = (state: any)=>state.global","export const DEFAULT_UI_TYPE = 'DEFAULT_UI_TYPE';\n\nconst ui = localStorage.getItem('ui');\n\nconst defaultState = ui ? JSON.parse(ui) : {\n  dashboard: {\n    tab: 0,\n    isEditing: true\n  },\n  addedActivities: {\n    tab: 0,\n  }\n};\n\n\n\nexport const reducer = (state=defaultState, action: any)=>{\n  if(action.type === DEFAULT_UI_TYPE){\n    const nextState = Object.keys(action.payload).reduce((acc: any, key)=>{\n      acc[key]=action.payload[key];\n      return acc\n    }, {...state})\n    localStorage.setItem('ui', JSON.stringify(nextState))\n    return nextState\n  }\n  return state;\n}\n\nexport const createUIAction = (payload: any)=>{\n  return {\n    type: DEFAULT_UI_TYPE,\n    payload,\n  }\n}\n\nexport const uiSelector = (state: any)=>state.ui","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk';\nimport { reducer as config } from './config';\nimport { reducer as user } from './user';\nimport { reducer as global } from './global';\nimport { reducer as ui } from './ui';\n\nconst composeEnhancers =\n  typeof window === 'object' &&\n  (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?   \n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n      // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\n    }) : compose;\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(thunk)\n);\n\nconst reducerDic : any = {\n  config,\n  user,\n  global,\n  ui\n};\n\nconst reducer = (state: any = {}, action: any)=>{\n  return Object.keys(reducerDic).reduce((acc, key)=>{\n    acc[key] = reducerDic[key](state[key], action);\n    return acc;\n  }, state)\n}\n\nexport const storeGenerator = ()=>createStore(reducer, enhancer);\n\nexport const store = storeGenerator()\n\nexport const dispatch = store.dispatch","import React from 'react';\nimport { Grid, Container } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    padding: '2rem'\n  },\n  ul: {\n    listStyleType: 'none'\n  }\n})\n\nexport default function Footer(){\n  const classes = useStyles();\n  return <Container className={classes.root} maxWidth=\"sm\">\n    <Grid container>\n      <Grid item>\n        <ul className={classes.ul}>\n          <li><Link to=\"/contact\">Contact Us</Link></li>\n        </ul>\n      </Grid>\n    </Grid>\n  </Container>\n}","export const getMaterialId = (id: string, req: any)=>id+req.raw\n\nexport const materialTypeNotMaterial = (materials: any, materialTypes: any)=>(id: string, req: any)=>{\n  return !materials[getMaterialId(id, req)] && materialTypeMatch(materialTypes)(req.types)\n}\n\nexport const materialTypeMatch = (materialTypes: any)=>(types: any)=>types.reduce((acc: any, curr: any)=>{\n  if(acc) return acc;\n  return materialTypes[curr];\n}, false);","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getMaterialId, materialTypeNotMaterial, materialTypeMatch } from '../utils';\nimport { createConfigAction, materialsSelector, materialTypesSelector } from '../../../utils/redux/config';\nimport { FormControlLabel, makeStyles } from '@material-ui/core';\nimport { FormGroup } from '@material-ui/core';\nimport { Checkbox } from '@material-ui/core';\n\nconst useStyle = makeStyles({\n  typeMatch: {\n    color: '#e0e0e0 !important',\n  }\n})\n\n\n\nexport default function MaterialsList({activity}: {activity: any}){\n  const classes = useStyle();\n  const materials = useSelector(materialsSelector);\n  const materialTypes = useSelector(materialTypesSelector);\n\n\n  const dispatch = useDispatch();\n  \n  const handleChange = (id: string, req: any)=>(event: any)=>{\n    const checked = event.target.checked || materialTypeNotMaterial(materials, materialTypes)(id, req);\n    const nextMaterials = {\n      ...materials,\n      [getMaterialId(id, req)]: checked\n    }\n    const nextMaterialTypes = req.types.reduce((acc: any, curr: string)=>{\n      acc[curr] = checked;\n      return acc\n    }, {...materialTypes});\n    dispatch(createConfigAction({\n      materials: nextMaterials,\n      materialTypes: nextMaterialTypes,\n    }));\n  }\n  const a = activity;\n  return  <FormGroup>\n  {\n    (a?.properties?.metaRequirements || []).map((req: any) => {\n      return <FormControlLabel\n        key={a.id+req.raw}\n        control={\n          <Checkbox\n            classes={{\n              checked: materialTypeNotMaterial(materials, materialTypes)(a.id, req) && classes.typeMatch\n            }}\n            checked={\n              !!(materials[\n                getMaterialId(a.id, req)\n              ]) || \n              materialTypeMatch(materialTypes)(req.types) || \n              false\n            }\n            onChange={handleChange(a.id, req)} \n            name={req.raw} />\n          }\n        label={\n          req.types.join(' or ')\n          // req.raw\n        }\n      />\n    })\n  }\n</FormGroup>\n}\n","import React from 'react';\nimport { makeStyles, FormControl, FormLabel } from '@material-ui/core';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\n\nimport MaterialsList from '../List';\n\n\nimport { ExpandMore as ExpandMoreIcon } from '@material-ui/icons';\n\n\nconst useStyles = makeStyles(theme=>({\n  root: {\n    margin: theme.spacing(3),\n  },\n}))\n\nconst useAccordionStyles = makeStyles({\n  root: {\n    height: '30px !important',\n    minHeight: '30px !important'\n  },\n  content: {\n    margin: '0 !important'\n  }\n})\n\n\nexport default function Accordions({data}: {data: any[]}){\n  const classes = useStyles();\n  const accordionClasses = useAccordionStyles();\n  return <FormControl component=\"fieldset\" className={classes.root}> \n  {\n    data.map(a=>{\n      return <Accordion defaultExpanded>\n        <AccordionSummary\n          classes={accordionClasses}\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n        <FormLabel component=\"legend\">{a.name}</FormLabel>\n        </AccordionSummary>\n        <AccordionDetails>\n          <MaterialsList activity={a} />\n        </AccordionDetails>\n      </Accordion>\n    })\n  }\n</FormControl>\n}","import React from 'react';\nimport { colors, Button } from '@material-ui/core';\nimport { Container, makeStyles, Typography, Grid } from '@material-ui/core';\nimport Accordions from '../../materials/Accordions';\nimport { Link } from 'react-router-dom';\n\nconst useMastStyles = makeStyles({\n  root: {\n    backgroundImage: \"url('https://images.unsplash.com/photo-1513542789411-b6a5d4f31634?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1267&q=80')\",\n    width: '100%',\n    height: '100vh',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundAttachment: 'scroll',\n    backgroundSize: 'cover',\n    position: 'relative'\n  },\n  title: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  signup: {\n    backgroundColor: colors.teal['A100'],\n  },\n  signupWrapper: {\n    width: '200px',\n    margin: '2rem auto',\n  },\n  login: {\n    backgroundColor: colors.teal['A100'],\n    position: 'absolute',\n    top: 20,\n    right: 10,\n    width: '150px',\n  }\n})\n\nconst useSubjectStyles = makeStyles({\n  root: {\n    padding: '5rem',\n    // backgroundColor: colors.teal['A100']\n    backgroundColor: colors.grey[50]\n  },\n  title: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  boxes: {\n    color: '#FFF',\n    backgroundSize: 'cover',\n    height: '200px',\n    width: '180px',\n    display: 'inline-block',\n    margin: '1rem',\n    borderRadius: '0.5rem'\n  }\n})\n\nconst useAgeStyles = makeStyles({\n  root: {\n    // padding: '5rem',\n    // backgroundColor: colors.teal['A100']\n    backgroundImage: \"url('https://images.unsplash.com/photo-1541710399304-4564edc17038?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80')\",\n    backgroundPosition: 'center',\n    backgroundSize: 'cover',\n    height: '400px',\n    width: '100%',\n  },\n  // img: {\n    \n  //   width: '400px',\n  //   height: '200px',\n  // }\n})\n\nconst useMaterialStyles = makeStyles({\n  root: {\n    padding: '5rem',\n    backgroundColor: colors.teal['A100']\n    // height: '400px',\n    // width: '100%',\n  },\n  // img: {\n    \n  //   width: '400px',\n  //   height: '200px',\n  // }\n})\n\n\n\n/**\n * Find activities by subject\n * Use age restrictions\n * Add activities to your schedule\n * Get the materials in each activity\n */\n\n\n \nexport default function Overview(){\n\n  const Bx = ({url, tag}: {url: string, tag: string})=><Grid container justify=\"center\" alignItems=\"flex-end\" className={subjectClasses.boxes}\n    style={{\n      backgroundImage: `url('${url}')`\n  }}>\n    <Grid item>\n      <Typography>#{tag}</Typography>\n    </Grid>\n  </Grid>\n  const mastClasses = useMastStyles();\n  const subjectClasses = useSubjectStyles();\n  const ageClasses = useAgeStyles();\n  const materialClasses = useMaterialStyles();\n  const signupButton = <div className={mastClasses.signupWrapper}><Link to=\"/signup\"><Button fullWidth className={mastClasses.signup}>Try for free</Button></Link></div>\n  return <Container disableGutters>\n    <Grid className={mastClasses.root} container justify=\"center\" alignItems=\"center\">\n      <Grid item xs={12}>\n        <Typography align=\"center\" variant=\"h2\">Activities for kids</Typography>\n        {\n          signupButton\n        }\n      </Grid>\n      <Typography variant=\"h1\" className={mastClasses.title}>acts</Typography>\n      <Link to=\"/login\"><Button className={mastClasses.login}>Login</Button></Link>\n    </Grid>\n    <Grid container className={subjectClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n        <Typography variant=\"h6\">Choose Activities By Subject</Typography>\n      </Grid>\n      <Grid item>\n        <div>\n          <div>\n            <Bx tag=\"stem\" url=\"https://images.unsplash.com/photo-1560961911-ba7ef651a56c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1334&q=60\" />\n            <Bx tag=\"arts&crafts\" url=\"https://images.unsplash.com/photo-1596495718166-7ac739ca1bc4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </div>\n          <div>\n            <Bx tag=\"active\" url=\"https://images.unsplash.com/photo-1489710437720-ebb67ec84dd2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n            <Bx tag=\"sensory\" url=\"https://images.unsplash.com/photo-1504484440176-4f89a392c862?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </div>\n          <div>\n            <Typography align=\"center\">And many more...</Typography>\n          </div>\n        </div>\n      </Grid>\n    </Grid>\n    <Grid container className={ageClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n      <Typography variant=\"h6\">Age appropriate activities</Typography>\n      </Grid>\n    </Grid>\n    <Grid container className={materialClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n        <Accordions data={[\n          {\n            id: '1',\n            name: 'Extreme paper airplanes',\n            properties: {\n              metaRequirements: [\n                {\n                  raw: 'paper',\n                  types: ['paper'],\n                },\n                {\n                  raw: 'scissor',\n                  types: ['scissors'],\n                },\n                {\n                  raw: 'glue',\n                  types: ['glue'],\n                }\n              ]\n            }\n          },\n          {\n            id: '2',\n            name: 'Watercolor tissue flowers',\n            properties: {\n              metaRequirements: [\n                {\n                  raw: 'tissue',\n                  types: ['tissue'],\n                },\n                {\n                  raw: 'watercolor paint',\n                  types: ['watercolor paint'],\n                },\n                {\n                  raw: 'pipe cleaners',\n                  types: ['pipe cleaners'],\n                }\n              ]\n            }\n          }\n        ]} />\n      </Grid>\n      <Grid item>\n      <Typography variant=\"h6\">A materials checklist for all of your scheduled activities in one place</Typography>\n      </Grid>\n    </Grid>\n    <Grid container className={subjectClasses.root} justify=\"center\" alignItems=\"center\">\n        <Grid item>\n          <Typography variant=\"h3\" align='center'>Make activities work for you</Typography>\n          {\n            signupButton\n          }\n        </Grid>\n    </Grid>\n  </Container>\n}","import { loadStripe } from '@stripe/stripe-js';\nimport { get, SERVER_ADDRESS } from '../remote';\n\nconst stripePromise = loadStripe((process.env.REACT_APP_STRIPE_PUBLIC_KEY as string));\n\nexport async function setupIntents(){\n  // Call your backend to create the Checkout session.\n  const session = await get(SERVER_ADDRESS+'/users/payments/sessions')\n  .then(res=>res.json());\n  // When the customer clicks on the button, redirect them to Checkout.\n  const stripe = await stripePromise;\n  if( stripe){\n    const { error } = await stripe.redirectToCheckout({\n      sessionId: session.id,\n    });\n  }\n}      \n      ","import React, { useState } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { v4 } from 'uuid';\nimport * as yup from 'yup';\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers';\n\nimport { SERVER_ADDRESS, post, get } from '../../../utils/remote';\nimport { setToken } from '../../../utils/auth';\n\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { createUserAction } from '../../../utils/redux/user';\nimport { makeStyles } from '@material-ui/styles';\nimport { Card, CardActions, CardContent, CardHeader, Divider } from '@material-ui/core';\nimport qs from 'query-string';\nimport { setupIntents } from '../../../utils/stripe';\nimport { Box } from '@material-ui/core';\nexport const endpoint = SERVER_ADDRESS+'/privateUsers';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '300px',\n    margin: '0 auto',\n  },\n})\n\nexport function UserCreate() {\n  const classes = useStyles();\n  \n  const [id, updateId] = useState(v4())\n  return (\n    <div>\n      <Card className={classes.root}>\n        <CardHeader title=\"Signup\"/>\n{\n        //  <Typography variant=\"h6\" component=\"h1\">Signup</Typography>\n} \n          <UserCreateForm\n            key={id}\n            id={id}\n            // reset={()=>updateId(v4())}\n          />\n      </Card>\n    </div>\n  );\n}\n\nconst schema = yup.object().shape({\n  // username: yup.string().matches(/^[a-z0-9]+$/i, 'Only alphanumeric characters').required(),\n  email: yup.string().email().required(),\n  password: yup.string().min(6).max(122).required(),\n  referralCode: yup.string().optional(),\n});\n\n\n\nconst UserCreateForm = ({id}: {id: string})=>{\n  const location = useLocation();\n  const parsed = qs.parse(location.search);\n  const { handleSubmit, register, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const onSubmit = async (data: any) => {    \n    post(endpoint, {\n      body:\n        {\n          id: v4(),\n          // username: data.username,\n          email: data.email,\n          password: data.password,\n        }\n    }).then((resp)=>{\n      return resp.json()\n    }).then(async (res)=>{\n      setToken(res.data);\n      dispatch(createUserAction(res.data));\n      setupIntents()\n    });\n  }\n  return <form\n      onSubmit={handleSubmit(onSubmit)}\n    >\n      {\n        // <div>\n        //   <TextField\n        //     inputRef={register}\n        //     label=\"Username\"\n        //     name='username'\n        //     error={!!errors.username}\n        //     helperText={errors.username?.message}\n        //   />\n        // </div>\n      }\n    <CardContent>\n      <TextField\n        id=\"email\"\n        name=\"email\"\n        inputRef={register}\n        label=\"Email\"\n        fullWidth\n        error={!!errors.email}\n        helperText={errors.email?.message}\n      />\n      <TextField \n        fullWidth\n        inputRef={register}\n        id=\"password\"\n        name=\"password\"\n        label=\"Password\"\n        type=\"password\"\n        error={!!errors.password}\n        helperText={errors.password?.message}\n      />\n      <input ref={register} name=\"referralCode\" hidden value={parsed.referral_code || \"\"} />\n    </CardContent>\n    <CardContent>\n      {\n          <Typography variant=\"body1\"><Box fontWeight=\"fontWeightBold\" m=\"1\">{`${parsed.referral_code ? 'First two months are free' : 'First month is free'}`}</Box></Typography>\n      }\n      <Divider/>\n      <Typography variant=\"body2\">Monthly price is $2.00(USD)/month</Typography>\n      <Typography variant=\"body2\">Cancel at anytime</Typography>\n    </CardContent>\n    <CardActions>\n      <Button type=\"submit\">Signup</Button>\n    </CardActions>\n  </form>\n}","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport * as yup from 'yup';\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers';\n\nimport { SERVER_ADDRESS, post } from '../../../utils/remote';\nimport { setToken } from '../../../utils/auth';\nimport { dispatch } from '../../../utils/redux';\nimport jwt from 'jsonwebtoken';\nimport { useHistory } from 'react-router-dom';\nimport { createUserAction } from '../../../utils/redux/user';\nimport { makeStyles } from '@material-ui/styles';\nimport { Card, CardContent } from '@material-ui/core';\n\nconst schema = yup.object().shape({\n  email: yup.string().email().required(),\n  password: yup.string().max(122).required(),\n});\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '300px',\n    margin: '0 auto',\n  }\n})\n\nexport function SessionCreate() {\n  const classes = useStyles();\n  const history = useHistory();\n  const { handleSubmit, register, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = (data: any) => {\n    post(SERVER_ADDRESS+'/sessions', {\n      body:\n        {\n          email: data.email,\n          password: data.password,\n        }\n    }).then((resp)=>{\n      return resp.json()\n    }).then((res)=>{\n      setToken(res.data);\n      dispatch(createUserAction(res.data));\n      history.push('/');\n    });\n  }\n  return (\n    <div>\n      <Card className={classes.root}>\n        <CardContent>\n        <Typography variant=\"h6\" component=\"h1\">Login</Typography>\n        <form\n          onSubmit={handleSubmit(onSubmit)}\n        >\n          <div>\n            <TextField\n              name=\"email\"\n              inputRef={register}\n              label=\"Email\"\n              error={!!errors.email}\n              helperText={errors.email?.message}\n              fullWidth\n            />\n          </div>\n          <div>\n            <TextField \n              inputRef={register}\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              error={!!errors.password}\n              helperText={errors.password?.message}\n              fullWidth\n            />\n          </div>\n          <Button type=\"submit\">Login</Button>\n        </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react'\nimport classnames from 'classnames'\n\ntype $props = {outline?: Boolean, light?: Boolean, raw?: string, className?: string, size?: string|number, type?: string, style?: Object}\n\nexport default function FAIcon(props: $props){\n  const type = getType(props);\n  const name = getName(props);\n  const size = props.size\n  return <i style={props.style || {}} className={classnames(props.className, type, name, size && 'la-'+size)} />\n}\n\nfunction getType(props: $props){\n  if(props.outline) return 'lar';\n  if(props.light) return 'lal';\n  if(props.raw) return props.raw.split(' ')[0];\n  return 'las';\n}\n\nfunction getName(props: $props){\n  if(props.raw) return props.raw.split(' ')[1];\n  return `la-${props.type}`\n}","import blacklist from 'blacklist';\nimport { Function0 } from 'lodash';\nimport { createConfigAction, configSelector } from '../../../../utils/redux/config';\n\n\n// const updateLocalAddedActivities = (addedActivities)=>{\n//   localStorage.setItem('addedActivities', JSON.stringify(addedActivities))\n// }\n\nexport const removeActivity = (activity: any)=>(dispatch: Function, getState: Function)=>{\n  const nextAddedActivities = blacklist(configSelector(getState()).addedActivities, activity.id);\n  // updateLocalAddedActivities(nextAddedActivities);\n\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities,\n  }))\n}\n\nexport const addActivity = (activity: any)=>(dispatch: any, getState: any)=>{\n  const nextAddedActivities = {\n    ...configSelector(getState()).addedActivities,\n    [activity.id]: {\n      \n    }\n  };\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }))\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const purgeActivities = (activities: any)=>(dispatch: Function, getState: Function)=>{\n  const { addedActivities } = configSelector(getState());\n  const nextAddedActivities = activities.reduce((acc: any, curr: any)=>{\n    acc[curr.id] = addedActivities[curr.id]\n    return acc;\n  }, {});\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }))\n  // updateLocalAddedActivities(nextAddedActivities);  \n}\n\nexport const updateActivities = (activityRelationships: any)=>(dispatch: Function, getState: Function)=>{\n  const nextAddedActivities = activityRelationships.reduce((acc: any, curr: any)=>{\n    acc[curr.id].ordinal=curr.ordinal\n    return acc;\n  }, {...configSelector(getState()).addedActivities});\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }));\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const addActivityToSchedule = (activity: any)=>(dispatch: Function, getState: Function)=>{\n  const { addedActivities } = configSelector(getState());\n  const highestOrdinal = Object.values(addedActivities).reduce((acc: number, curr: any)=>{\n    if(curr.inSchedule && curr.ordinal > acc){\n      return curr.ordinal\n    }\n    return acc\n  }, 0)\n  const nextAddedActivities = {\n    ...addedActivities,\n    [activity.id]: {\n      ...(addedActivities[activity.id] || {}),\n      inSchedule: true,\n      ordinal: highestOrdinal+1,\n    }\n  };\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }));\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const removeActivityFromSchedule = (activity: any)=>(dispatch: Function, getState: Function)=>{\n  const { addedActivities } = configSelector(getState());\n  const nextAddedActivities = {\n    ...addedActivities,\n    [activity.id]: {\n      ...addedActivities[activity.id],\n      inSchedule: false,\n    }\n  };\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }));\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const addCompletedActivity = (activity: any)=>(dispatch: Function, getState: Function)=>{\n  const completedActivities = {\n    ...configSelector(getState()).completedActivities,\n    [activity.id]: {\n      \n    }\n  };\n  const nextAddedActivities = blacklist(configSelector(getState()).addedActivities, activity.id);\n\n  // updateLocalAddedActivities(nextAddedActivities);\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities,\n    completedActivities\n  }));\n\n  // localStorage.setItem('completedActivities', JSON.stringify(completedActivities));\n}\n\nexport const addDroppedActivity = (activity: any)=>(dispatch: Function, getState: Function)=>{\n\n  const wontDoActivities = {\n    ...configSelector(getState()).wontDoActivities,\n    [activity.id]: {\n      \n    }\n  };\n  const nextAddedActivities = blacklist(configSelector(getState()).addedActivities, activity.id);\n  // updateLocalAddedActivities(nextAddedActivities);\n\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities,\n    wontDoActivities\n  }))\n  // localStorage.setItem('wontDoActivities', JSON.stringify(wontDoActivities));\n}","import React from 'react'\nimport {\n    addActivity,\n    removeActivity,\n    removeActivityFromSchedule,\n    addActivityToSchedule\n} from '../utils';\nimport FAIcon from '../../../../components/general/FAIcon';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addedActivitySelector } from '../../../../../utils/redux/config';\nimport { IconButton } from '@material-ui/core';\n\ntype $props = any;\n\nexport default function AddActivityButtons({activity, classes, directToSchedule, button}: $props){\n  const dispatch = useDispatch();\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  if(directToSchedule){\n    return addedActivity ? <IconButton classes={classes} onClick={()=>{\n      dispatch(removeActivityFromSchedule(activity));\n    }} color=\"primary\">\n      <FAIcon type=\"calendar-minus\" />\n    </IconButton> : \n    <IconButton classes={classes} onClick={()=>{\n      dispatch(addActivityToSchedule(activity));\n    }} color=\"primary\"><FAIcon type=\"calendar-plus\" /></IconButton>\n  }\n  return addedActivity ? <IconButton classes={classes} onClick={()=>{\n    dispatch(removeActivity(activity))\n  }} color=\"secondary\">\n    <FAIcon type=\"bookmark\" />\n  </IconButton> : \n  <IconButton classes={classes} onClick={()=>{\n    dispatch(addActivity(activity))\n  }} color=\"primary\"><FAIcon type=\"bookmark\" /></IconButton>\n}","import React from 'react';\nimport { Popover } from '@material-ui/core';\nimport { debounce } from 'lodash';\n\ntype $props = {\n  disableHover?: Boolean,\n  className?: string,\n  renderHoverableContent: Function,\n  renderOnHoverContent: Function,\n  popoverProps?: Object,\n  popoverClasses?: Object\n}\n\nexport default function MyPopover({disableHover, className, popoverClasses, renderHoverableContent, renderOnHoverContent, popoverProps={}} : $props){\n  const [mouseStopped, setMouseStopped] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [candidateAnchorEl, setCandidateAnchorEl] = React.useState(null);\n  const debouncedSetMouseStopped = debounce(()=>setMouseStopped(true), 500);\n  React.useEffect(()=>{\n    if(candidateAnchorEl && mouseStopped){\n      setAnchorEl(candidateAnchorEl);\n    }\n  }, [candidateAnchorEl, mouseStopped])\n  \n  const handleHide = ()=>{\n    setCandidateAnchorEl(null);\n    setAnchorEl(null);\n    setMouseStopped(false)\n  }\n  if(disableHover)\n    return <div className={className}>{renderHoverableContent()}</div>\n  return <div className={className}\n    onMouseEnter={(event: any)=>{\n      setCandidateAnchorEl(event.currentTarget)\n    }}\n    onMouseMove={()=>{\n      debouncedSetMouseStopped()\n    }}\n    onMouseLeave={handleHide}\n  >\n    {\n      renderHoverableContent()\n    }\n    <Popover\n        classes={popoverClasses}\n        open={Boolean(anchorEl)}\n        anchorEl={anchorEl}\n        {...popoverProps}\n        onClose={handleHide}\n        disableRestoreFocus\n      >\n        <div\n        onMouseLeave={handleHide}\n        >\n          {\n            renderOnHoverContent()\n          }\n        </div>\n      </Popover>\n  </div>\n}\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport MaterialsList from '../List';\nimport FAIcon from '../../components/general/FAIcon';\nimport { useSelector } from 'react-redux';\nimport { materialTypeMatch, getMaterialId } from '../utils';\nimport classNames from 'classnames';\nimport MyPopover from '../../components/general/Popover';\nimport { materialsSelector, materialTypesSelector } from '../../../utils/redux/config';\n\nconst useStyles = makeStyles(theme => ({\n  tagContent: {\n    width: 'fit-content',\n    margin: '0 auto',\n    marginTop: '7px',\n  },\n  perfectScore: {\n    color: theme.palette.secondary.main,\n  },\n  closeScore: {\n    color: theme.palette.primary.main,\n  }\n}));\n\nconst usePopoverStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(2),\n    width: '160px',\n    maxHeight: '200px',\n    overflowY: 'scroll',\n  },\n}))\nexport default function MaterialsTag({activity, className}: {activity: any, className: string}){\n  const materials = useSelector(materialsSelector);\n  const materialTypes = useSelector(materialTypesSelector);\n\n  const score = activity?.properties?.metaRequirements.reduce((acc: number, req: any)=>{\n    return acc + Number(!(materials[getMaterialId(activity.id, req)] || materialTypeMatch(materialTypes)(req.types) || false));\n  }, 0);\n  \n  \n  const classes = useStyles();\n  const popoverClasses = usePopoverStyles()\n  \n  return <MyPopover\n    className={className}\n    popoverClasses={popoverClasses}\n    renderHoverableContent={()=><div\n      className={classes.tagContent}\n      >\n      <FAIcon className={classNames({\n        [classes.perfectScore]: !score,\n        [classes.closeScore]: score > 0 && score < 4\n      })} size=\"2x\" raw={classNames({\n        'las la-list-alt': !score,\n        'las la-list': score > 3,\n        'las la-tasks': score > 0 && score < 4\n      })} /></div>}\n    renderOnHoverContent={()=><MaterialsList activity={activity} />}\n    popoverProps={\n      {\n        anchorOrigin: {\n          vertical: 'bottom',\n          horizontal: 'left',\n        },\n        transformOrigin: {\n          vertical: 'bottom',\n          horizontal: 'left',\n        }\n      }\n    }\n  />\n}\n\n","import React from 'react';\nimport { MoreVert } from '@material-ui/icons';\nimport { Menu } from '@material-ui/core';\nimport { IconButton } from '@material-ui/core';\n\ntype $props = {\n  renderIcon?: any,\n  renderMenuItems: (arg: Function)=>any\n}\n\nexport default function IconMenu(props: $props) {\n  const [anchorEl, setAnchorEl] = React.useState<HTMLElement|null>(null);\n\n  const handleClick = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div>\n      <IconButton aria-controls=\"menu\" aria-haspopup=\"true\" onClick={handleClick}>\n        {props.renderIcon || <MoreVert/> }\n      </IconButton>\n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n      {\n        props.renderMenuItems(handleClose)\n      }\n      </Menu>\n    </div>\n  );\n}","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Check } from '@material-ui/icons';\nimport { Clear } from '@material-ui/icons';\nimport { ListItemText } from '@material-ui/core';\nimport { ListItemIcon } from '@material-ui/core';\nimport { MenuItem } from '@material-ui/core';\nimport { EventAvailableRounded } from '@material-ui/icons';\n\n\nimport IconMenu from '../../../../components/general/IconMenu';\nimport {\n    addCompletedActivity,\n    addDroppedActivity,\n    addActivityToSchedule,\n    removeActivityFromSchedule\n} from '../utils';\nimport { addedActivitiesSelector } from '../../../../../utils/redux/config';\n\n\nexport default function AddActivityOptions({activity}: {activity: any}){\n  const addedActivities = useSelector(addedActivitiesSelector);\n  const dispatch = useDispatch();\n  return <IconMenu\n    renderMenuItems={(handleClose)=>{\n      return [\n        addedActivities[activity.id].inSchedule ? <MenuItem onClick={()=>{\n          dispatch(removeActivityFromSchedule(activity))\n          handleClose()\n        }}>\n        <ListItemIcon>\n          <EventAvailableRounded color=\"secondary\" fontSize=\"small\" />\n        </ListItemIcon>\n      <ListItemText primary=\"Remove From Schedule\" />\n    </MenuItem> : <MenuItem onClick={()=>{\n          dispatch(addActivityToSchedule(activity))\n          handleClose()\n        }}>\n        <ListItemIcon>\n          <EventAvailableRounded color=\"primary\" fontSize=\"small\" />\n        </ListItemIcon>\n      <ListItemText primary=\"Add To Schedule\" />\n    </MenuItem>,\n    <MenuItem onClick={()=>{\n      dispatch(addCompletedActivity(activity))\n      handleClose()\n    }}>\n        <ListItemIcon>\n          <Check color=\"primary\" fontSize=\"small\" />\n        </ListItemIcon>\n      <ListItemText primary=\"Done\" />\n      </MenuItem>,\n        <MenuItem onClick={()=>{\n          dispatch(addDroppedActivity(activity))\n          handleClose() \n        }}><ListItemIcon>\n            <Clear color=\"secondary\" fontSize=\"small\" />\n            </ListItemIcon>\n          <ListItemText primary=\"Remove\" />\n        </MenuItem>\n      ]\n    }}\n  />\n}","import React from 'react';\nimport { Fade } from 'react-slideshow-image';\nimport 'react-slideshow-image/dist/styles.css'\n\nconst hidden = <div style={{display: 'none'}}/>\n\ntype $props = {\n  images: any[]\n}\n\nexport default function Slideshow({images}: $props){\n    return (\n      <Fade \n      prevArrow={hidden}\n      nextArrow={hidden}\n      autoplay\n      duration={500}\n      pauseOnHover={false}\n      infinite\n      easing=\"ease\"\n      >\n      {\n        images//.map((img, i) => <div className=\"each-slide\" key={i}>{img}</div>)\n      }\n      </Fade>\n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport Slideshow from '../../../../components/general/Slideshow';\n\nconst useStyles = makeStyles(theme => ({\n  img: {\n    width: '100%',\n    height: '30rem',\n    backgroundSize: 'cover !important',\n  }\n}));\n\nexport default function ActivitiesPreviewImages({activity, className}: {activity: any, className?: string}){\n  const classes = useStyles();\n  return <Slideshow images={activity.properties.imgLinks.map((img: any) => <div className={classes.img} style={{'background': `url(${img.src}) no-repeat center center`}}></div>)}/>\n}\n\n","import React from 'react';\nimport {Typography, Tooltip, Card, CardHeader, makeStyles } from '@material-ui/core';\nimport _ from 'lodash';\nimport { Link } from 'react-router-dom';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport StarRatings from 'react-star-ratings';\nimport { useSelector } from 'react-redux';\nimport LinesEllipsis from 'react-lines-ellipsis'\nimport blue from '@material-ui/core/colors/blue';\nimport { amber } from '@material-ui/core/colors';\nimport { CardContent } from '@material-ui/core';\n\nimport FAIcon from '../../FAIcon';\nimport AddActivityButtons from '../../../../shedules/activities/added/Button';\nimport MaterialsTag from '../../../../materials/Tag';\nimport AddActivityOptions from '../../../../shedules/activities/added/Options';\nimport MyPopover from '../../Popover';\nimport ActivitiesPreviewImages from '../../../../shedules/activities/preview/Images';\nimport {     addedActivitySelector,\n  wontDoActivitySelector,\n  completedActivitySelector } from '../../../../../utils/redux/config';\n\nconst useActivityButtonStyles = makeStyles({\n  root: {\n    display: 'block',\n    padding: '5px',\n  }\n})\n\nconst useStyles = makeStyles((theme)=>({\n  activityRoot: {\n    display: \"inline-block\",\n    width: \"280px\",\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n    // '&:hover $addActivity': {\n    //   height: '50px'\n    // } \n\n  },\n  tagRoot: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '280px',\n    height: '150px',\n    flexWrap: 'wrap',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    alignContent: 'flex-start',\n    padding: 0,\n    paddingBottom: '0 !important',\n    \n    overflow: 'hidden',\n  },\n  tag: {\n    display: 'inline-block',\n    width: '78px',\n    height: '48px',\n    marginRight: '2px',\n    marginBottom: '2px',\n    cursor: 'pointer',\n  },\n  imageTag: {\n    position: 'relative',\n    overflow: 'hidden',\n    width: '120px',\n    height: '150px',\n  },\n  activityTitle: {\n    whiteSpace: 'normal',\n    textDecoration: 'none',\n    height: '3rem',\n    // overflow: 'hidden',\n  },\n  sheduleTitle: {\n    fontSize: '1rem',\n    color: 'rgba(0, 0, 0, 0.87)',\n    textDecoration: 'none',\n    fontWeight: 500,\n  },\n  sideContent: {\n    display: 'inline-block',\n    verticalAlign: 'super',\n  },\n  starSideContent: {\n    display: 'block',\n    textAlign: 'center',\n  },\n\n  tagContent: {\n    width: 'fit-content',\n    margin: '0 auto',\n    marginTop: '7px',\n  },\n  activityImage: {\n    top: '50%',\n    width: '100%',\n    position: 'relative',\n    transform: 'translateY(-50%)',\n  },\n  headerRoot: {\n    borderBottom: '#b4b0b0 solid 1px',\n  },\n\n}));\n\nconst usePopoverStyles = makeStyles(theme => ({\n  paper: {\n    width: '350px',\n    height: '300px',\n  }\n}));\n\ntype $props = any\n\nconst SheduleSlot = React.memo(function SheduleSlot(props: $props){\n  \n  const activityButtonClasses = useActivityButtonStyles()\n  const activity = props.shedule;\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n\n  const classes = useStyles();\n  const popoverClasses = usePopoverStyles();\n  if(completedActivity || wontDoActivity) return null;\n  if(!props.addedActivityPage && addedActivity) return null;\n  const uniqueTags: any[] = _.uniqBy(activity.tags, 'id')\n  const tags: any[] = uniqueTags.filter((tag: any)=>(tag.name.indexOf('age') === -1));\n  const [minAge, maxAge] = uniqueTags.filter((tag: any)=>(tag.name.indexOf('age') > -1)).reduce((acc: any, curr: any)=>{\n    const age = curr.name.split('-')[1];\n    if(!acc[0]){\n      acc[0] = age;\n    } \n    if(acc[0] > age){\n      acc[0] = age;\n    }\n    if(!acc[1]){\n      acc[1] = age;\n    } \n    if(acc[1] < age){\n      acc[1] = age;\n    }\n    return acc;\n  }, [undefined, undefined])\n\n  const activityLinkTo = \"/shedules/activities/\"+activity.id;\n\n  return <Card key={activity.id} className={classes.activityRoot}>\n    <CardHeader\n      classes={\n        {\n          root: classes.headerRoot\n        }\n      }\n      title={\n        <Tooltip title={activity.name}><div className={classes.activityTitle}>\n          <Link className={classes.sheduleTitle} to={activityLinkTo}>\n            <Typography component=\"h3\" className={classes.sheduleTitle}>\n              <LinesEllipsis\n              text={activity.name}\n              maxLine='2'\n              ellipsis='...'\n              basedOn='letters'\n              />\n            </Typography>\n          </Link>\n        </div>\n        </Tooltip>\n      }\n      action={props.addedActivityPage ? <AddActivityOptions activity={activity} />\n      : <>\n        <AddActivityButtons classes={activityButtonClasses} activity={activity} /> \n        <AddActivityButtons directToSchedule classes={activityButtonClasses} activity={activity} /> \n      </>\n      }\n    />\n    \n\n    <CardContent className={classes.tagRoot}>\n      {\n        activity.shares ? <div style={{color: blue[700] }}  className={classes.tag}>\n          \n        {\n\n          // <Tooltip title={`This activity has been shared on facebook twitter and pinterest a combined ${activity.shares} times`}>\n          <Tooltip title={`This activity has a rating of ${activity.shares/10} out of 5`}>\n            <div className={classes.tagContent}>\n              {\n                // <FAIcon size=\"2x\" outline type=\"star\" />\n                <span><StarRatings\n                  rating={activity.shares/10}\n                  starDimension=\"10px\"\n                  starSpacing=\"2px\"\n                  starRatedColor={amber[700]}\n                />\n                </span>\n              }\n              {\n                // <Typography className={classes.sideContent}>{numab(activity.shares, 1)}</Typography>\n              }\n              <Typography className={classes.starSideContent}>{activity.shares/10}</Typography>\n            </div>\n          </Tooltip>\n        }\n        </div> : null\n      }\n        {\n          maxAge === undefined ? null : <div className={classes.tag}>\n            <Tooltip title={`For kids ${minAge} to ${maxAge} years old`}>\n              <div className={classes.tagContent}\n              >\n                <FAIcon size=\"2x\" outline type=\"grin\" />\n                <Typography className={classes.sideContent}>{`${minAge}${minAge === maxAge ? '' : `:${maxAge}Y`}`}</Typography>\n              </div>\n            </Tooltip>\n          </div>\n        }\n        {\n          (!activity.properties.metaRequirements || !activity.properties.metaRequirements.length) ? null : <MaterialsTag className={classes.tag} activity={activity}/>\n        }\n      {\n        tags.slice(0, 2 + (maxAge === undefined ? 0 : 1)).map((tag: any, i: number) => {      \n          return <div\n          //  style={{backgroundColor: tag.color}}\n            className={classes.tag} key={tag.id + i}>\n          <Tooltip title={`#${tag.name}: ${tag.description}`}>\n            <div className={classes.tagContent}>\n              <FAIcon raw={tag.icon} size=\"2x\" />\n              {\n                tag.sideContent && <Typography className={classes.sideContent}>{tag.sideContent}</Typography>\n              }\n            </div>\n        </Tooltip>\n            \n          </div>\n        })    \n      }\n      {\n        \n            <MyPopover\n              disableHover={activity.properties.imgLinks.length < 2}\n              popoverClasses={popoverClasses}\n              popoverProps={{\n                anchorOrigin: {\n                  vertical: 'bottom',\n                  horizontal: 'right',\n                },\n                transformOrigin: {\n                  vertical: 'bottom',\n                  horizontal: 'right',\n                }\n              }}\n              renderOnHoverContent={\n                ()=><ActivitiesPreviewImages activity={activity} />\n              }\n              renderHoverableContent={\n                ()=><Link to={activityLinkTo}>\n                  <div className={classes.imageTag}>\n                    <LazyLoadImage \n                    height={150}\n                    src={activity.image}\n                    alt={activity.name}\n                    className={classes.activityImage}\n                    style={{\n                      display: 'block',\n                      marginLeft: 'auto',\n                      marginRight: 'auto',\n\n                    }}\n                  />\n                </div>\n              </Link>\n            }\n          />\n      }\n    </CardContent>    \n  </Card>     \n});\n\n\nexport default SheduleSlot","import React from 'react';\nimport {Typography, Tooltip, makeStyles } from '@material-ui/core';\nimport _ from 'lodash';\nimport StarRatings from 'react-star-ratings';\n\nimport blue from '@material-ui/core/colors/blue';\nimport { amber } from '@material-ui/core/colors';\nimport { CardContent } from '@material-ui/core';\n\nimport FAIcon from '../../FAIcon';\nimport MaterialsTag from '../../../../materials/Tag';\n\ntype $props = {\n  activity: any\n} & $styleProps;\n\ntype $styleProps = {\n  direction?: any,\n  width?: string,\n  height?: string,\n}\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: (props: $styleProps)=>props.direction || 'column',\n    width: (props: $styleProps)=>props.width || '280px' ,\n    height: (props: $styleProps)=>props.height || '150px',\n    flexWrap: 'wrap',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    alignContent: 'flex-start',\n    padding: 0,\n    paddingBottom: '0 !important',\n    overflow: 'hidden',\n  },\n  tag: {\n    display: 'inline-block',\n    width: '78px',\n    height: '48px',\n    marginRight: '2px',\n    marginBottom: '2px',\n    cursor: 'pointer',\n  },\n  sideContent: {\n    display: 'inline-block',\n    verticalAlign: 'super',\n  },\n  starSideContent: {\n    display: 'block',\n    textAlign: 'center',\n  },\n  tagContent: {\n    width: 'fit-content',\n    margin: '0 auto',\n    marginTop: '7px',\n  },\n});\n\nconst Tags = React.memo(function Tags({activity, ...styleProps}: $props){\n  const classes = useStyles(styleProps);\n  const uniqueTags : any[] = _.uniqBy(activity.tags, 'id')\n  const tags: any[] = uniqueTags.filter((tag: any)=>(tag.name.indexOf('age') === -1));\n  const [minAge, maxAge] = uniqueTags.filter(tag=>(tag.name.indexOf('age') > -1)).reduce((acc, curr)=>{\n    const age = curr.name.split('-')[1];\n    if(!acc[0]){\n      acc[0] = age;\n    } \n    if(acc[0] > age){\n      acc[0] = age;\n    }\n    if(!acc[1]){\n      acc[1] = age;\n    } \n    if(acc[1] < age){\n      acc[1] = age;\n    }\n    return acc;\n  }, [undefined, undefined])\n  return <CardContent className={classes.root}>\n    {\n      activity.shares ? <Tag style={{color: blue[700] }}  tooltip={`This activity has a rating of ${activity.shares/10} out of 5`}>\n        {\n          // <FAIcon size=\"2x\" outline type=\"star\" />\n          <span><StarRatings\n            rating={activity.shares/10}\n            starDimension=\"10px\"\n            starSpacing=\"2px\"\n            starRatedColor={amber[700]}\n          />\n          </span>\n        }\n        {\n          // <Typography className={classes.sideContent}>{numab(activity.shares, 1)}</Typography>\n        }\n        <Typography className={classes.starSideContent}>{activity.shares/10}</Typography>\n      </Tag>\n      : null\n    }\n    {\n      maxAge === undefined ? null : <Tag tooltip={`For kids ${minAge} to ${maxAge} years old`} iconProps={{outline: true, type: 'grin'}} sideContent={`${minAge}${minAge === maxAge ? '' : `:${maxAge}Y`}`} />\n    }\n    {\n      (!activity.properties.metaRequirements || !activity.properties.metaRequirements.length) ? null : <MaterialsTag className={classes.tag} activity={activity}/>\n    }\n    {\n      tags.slice(0, 2 + (maxAge === undefined ? 0 : 1)).map((tag, i) => {\n        return <Tag key={i} tooltip={`#${tag.name}: ${tag.description}`} iconProps={{raw: tag.icon}} sideContent={tag.sideContent} />\n      })    \n    }\n  </CardContent>  \n});\n\n\nexport default Tags\n\n\ntype $tagProps = {\n  style?: Object,\n  iconProps?: Object,\n  tooltip: string,\n  children?: any,\n  sideContent?: string\n}\n\nfunction Tag({style, tooltip, children, iconProps, sideContent}: $tagProps){\n  const classes = useStyles();\n  return <Tooltip title={tooltip}>\n    <div style={style} className={classes.tag}>\n      <div className={classes.tagContent}>\n      {\n        iconProps ? <FAIcon size=\"2x\" {...iconProps} /> : null\n      }\n      {\n        sideContent ? <Typography className={classes.sideContent}>{sideContent}</Typography> : null\n      }\n      {\n        children\n      }\n      </div>\n    </div>\n  </Tooltip>\n}","import React from 'react';\nimport { Card, makeStyles, CardMedia } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport Tags from '../Tags';\nimport {\n    addedActivitySelector,\n    wontDoActivitySelector,\n    completedActivitySelector\n} from '../../../../../utils/redux/config';\n\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: \"inline-block\",\n    width: \"170px\",\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n  },\n  img: {\n    height: '350px'\n  }\n}));\n\ntype $props = {\n  shedule: any,\n  addedActivityPage?: Boolean\n}\n\nconst PortraitSlot = React.memo(function PortraitSlot(props: $props){\n  const activity = props.shedule;\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n  \n  const classes = useStyles();\n  // const popoverClasses = usePopoverStyles();\n  if(completedActivity || wontDoActivity) return null;\n  if(!props.addedActivityPage && addedActivity) return null;\n  \n  const activityLinkTo = \"/shedules/activities/\"+activity.id;\n  return <Card key={activity.id} className={classes.root}>\n    <Link to={activityLinkTo}>\n      <CardMedia title={activity.name} className={classes.img} image={activity.properties.imgLinks.find((img: any) => (img.height / 1.75) > img.width).src}/>\n    </Link>\n    <Tags activity={activity} />\n  </Card>     \n});\n\n\nexport default PortraitSlot","import React from 'react';\nimport { Card, makeStyles, CardMedia } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport Tags from '../Tags';\nimport {     addedActivitySelector,\n  wontDoActivitySelector,\n  completedActivitySelector } from '../../../../../utils/redux/config';\n\ntype $props = {\n  shedule: any,\n  addedActivityPage?: Boolean\n}\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: \"inline-block\",\n    width: \"400px\",\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n  },\n  img: {\n    height: '400px'\n  }\n}));\n\nconst SquareSlot = React.memo(function SquareSlot(props: $props){\n  const activity = props.shedule;\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n\n  const classes = useStyles();\n  if(completedActivity || wontDoActivity) return null;\n  if(!props.addedActivityPage && addedActivity) return null;\n  \n\n  const isSquareImg = (img: any) => {\n    const quotient = img.height / img.width;\n    return 0.85 < quotient && quotient < 1.15\n  }\n\n  const activityLinkTo = \"/shedules/activities/\"+activity.id;\n  return <Card key={activity.id} className={classes.root}>\n    <Link to={activityLinkTo}>\n      <CardMedia title={activity.name} className={classes.img} image={activity.properties.imgLinks.find(isSquareImg).src}/>\n    </Link>\n    <Tags activity={activity} direction=\"row\" width=\"400px\" height=\"55px\"/>\n  </Card>\n});\n\n\nexport default SquareSlot","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport SheduleSlot from './Slot';\nimport PortraitSlot from './PortraitSlot';\nimport SquareSlot from './SquareSlot';\n\ntype $props = {\n  wrap?: Boolean,\n  addedActivityPage?: Boolean,\n  data: any[],\n  featuredPortrait?: Boolean,\n  featuredSquare?: Boolean\n}\nconst useStyles = makeStyles({\n  root: (props: {wrap: Boolean}) => ({\n    marginTop: '1rem',\n    whiteSpace: props.wrap ? 'normal' : 'nowrap',\n    // whiteSpace: 'normal',\n    overflowX: 'scroll',\n  }),\n});\n\nfunction SheduleRow({ addedActivityPage, wrap, data, featuredPortrait, featuredSquare }: $props){  \n  const classes = useStyles({wrap: !!(addedActivityPage || wrap)});\n  \n  const Slot = featuredPortrait ? PortraitSlot : featuredSquare ? SquareSlot : SheduleSlot;\n  return <div className={classes.root}>\n    {\n      data.map((activity, i)=>{\n        return <Slot addedActivityPage={addedActivityPage} key={activity.id} shedule={activity} />\n      })\n    }\n  </div>\n}\n\nexport default SheduleRow","import React, { useState, useEffect } from 'react';\nimport { TextField } from '@material-ui/core';\nimport { debounce, partition } from 'lodash';\n\nimport _ from 'lodash';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport Autocomplete, {createFilterOptions} from '@material-ui/lab/Autocomplete';\n\ntype $props = {\n  popularTags: any[],\n  wrap?: Boolean,\n}\n\nexport default function SearchActivitiesRow(props: $props){\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  const [ reset, setReset ] = useState(1);\n  const [searchTags, setSearchTags] = useState(localStorage.getItem('searchTags') || '#age4 #indoor');\n  const [searchText, setSearchText] = useState(localStorage.getItem('searchText') || '');\n  const { data, page, resetPage } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue: [],\n    page: true,\n    query: {\n      tags: searchTags,\n      text: searchText,\n    }, \n    deps: [searchTags, searchText],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  }, [data])\n  const onSearchFunc = (nextVal: string)=>{\n    const clean = nextVal.toLowerCase().split(' ').filter(v=>v);\n    const [nextSeachTagsArr, nextSearchTextArr] = partition(clean, (name)=>name[0] === '#')\n    const nextSearchTags = nextSeachTagsArr.join(' ');\n    const nextSearchText = nextSearchTextArr.join(' ');\n    localStorage.setItem('searchTags', nextSearchTags);\n    localStorage.setItem('searchText', nextSearchText);\n    setSearchTags(nextSearchTags);\n    setSearchText(nextSearchText);\n    resetPage();\n  }\n  const onSearch = debounce(onSearchFunc, 400);\n  const filter = createFilterOptions();\n\n  return <div>\n    <Autocomplete\n      fullWidth\n      freeSolo\n      key={reset}\n      multiple\n      id=\"tags-standard\"\n      options={(props.popularTags || []).map(t => '#'+t)\n        // .concat(searchText.split(' '))\n      }\n      defaultValue={searchTags.split(' ')}\n      onChange={(event, value: any[])=>{\n        onSearch(value.join(' '))\n      }}\n      filterOptions={(options, params) => {\n        const filtered : any = filter(options, params);\n        if (params.inputValue !== '') {\n          filtered.push(`${params.inputValue}`);\n        }\n        return filtered;\n      }}\n      selectOnFocus\n      clearOnBlur\n      handleHomeEndKeys\n      renderInput={(params: any) => (\n        <TextField\n          {...params}\n          variant=\"standard\"\n          label=\"Search\"\n          placeholder=\"#stem\"\n        />\n      )}\n    />\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow data={data} wrap={props.wrap} />\n    }\n  </div>\n}\n\n\n","import React from 'react';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../utils/remote';\n\n\nimport SearchActivitiesRow from './Row';\n\n\nexport default function SearchActivities(){\n  const { data: popularTags } = useCustomSwr(SERVER_ADDRESS+'/tags/popular', {\n    cache: true\n  });\n  \n  \n  return <div>\n    {\n      <SearchActivitiesRow wrap popularTags={popularTags} />\n    }\n  </div>\n}","import React, { useState } from 'react';\nimport _, { debounce } from 'lodash';\nimport { Dialog, Typography, makeStyles, AppBar, Toolbar, Button, Divider, Card, CardContent, TextField } from '@material-ui/core';\nimport blacklist from 'blacklist';\nimport ReactMarkdown from 'react-markdown';\nimport classnames from 'classnames';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { v4 } from 'uuid';\nimport {\n    createConfigAction,\n    dashboardTabsSelector\n} from '../../../../utils/redux/config';\nimport FAIcon from '../../../components/general/FAIcon';\nimport MyPopover from '../../../components/general/Popover';\nimport { createUIAction, uiSelector } from '../../../../utils/redux/ui';\n\n\ninterface $props {\n  ordinal: number,\n};\n\nexport default function Config({ordinal}: $props){\n  const dashboardTabs = useSelector(dashboardTabsSelector);\n  const { dashboard } = useSelector(uiSelector);\n  const dispatch = useDispatch();\n  const dashboardTab = dashboardTabs.find(x=>x.ordinal===ordinal);\n  const onChange = (key: string, value: any)=>{\n    dispatch(createConfigAction({dashboardTabs: [\n      {\n        ...dashboardTab,\n        [key]: value,\n        touched: true,\n      },\n     ...dashboardTabs.filter(x=>x.ordinal !== ordinal),\n     ...(dashboardTab && !dashboardTab.touched ? [{\n       ordinal: dashboardTabs.length,\n       ages: [],\n       subjects: [],\n       uuid: v4(),\n     }] : []),\n    ]}))\n  }\n  const debouncedOnChange = debounce((value)=>{\n    onChange('name', value)\n  }, 500)\n  \n  if(!dashboardTab) return null;\n  return <div>\n    <TextField label=\"Tab Name\" placeholder={`Tab ${ordinal+1}`} defaultValue={dashboardTab.name} onChange={(event)=>{\n      debouncedOnChange(event.target.value)\n    }} />\n    <Divider variant=\"inset\"/>\n    <PickAges key={dashboardTab.uuid} values={dashboardTab.ages} onSave={(nextAges: string[])=>onChange('ages', nextAges)} color={!dashboardTab.ages.length ? 'secondary' : undefined} className=\"pick-ages\" />\n    <Divider variant=\"inset\"/>\n    <PickSubjects values={dashboardTab.subjects} onSave={(nextSubjects: string[])=>onChange('subjects', nextSubjects)} color={!dashboardTab.subjects.length ? 'secondary' : undefined} className=\"pick-subjects\" />\n    <Divider variant=\"inset\"/>\n    {\n      !dashboardTab.ages.length ? null : <Button onClick={()=>{\n        dispatch(createUIAction({\n          dashboard: {\n            ...dashboard,\n            isEditing: false\n          }\n        }))\n      }}>Done</Button>\n    }\n    {\n      dashboardTabs.length === 1 || !dashboardTab.touched ? null : <Button onClick={()=>{\n        dispatch(createConfigAction({\n          dashboardTabs: [\n            ...dashboardTabs.filter(x=>x.ordinal !== ordinal).map(x=>({...x, ordinal: x.ordinal > ordinal ? x.ordinal-1 : x.ordinal}))\n          ]\n        }))\n        dispatch(createUIAction({\n          dashboard: {\n            ...dashboard,\n            isEditing: false\n          }\n        }))\n      }}\n      color=\"secondary\">Delete</Button>\n    }\n  </div>\n}\n\nfunction PickSubjects(props: any){\n  return <PickDefault\n    name=\"defaultSubjects\"\n    tags={[\n      {\n        name: 'math',\n        icon: 'las la-calculator',\n        // sideContent: 'B',\n        description: `Math based activity`\n      },\n      {\n        name: 'stem',\n        icon: 'las la-flask',\n        // sideContent: 'B',\n        description: `Stem based activity`\n      },\n      {\n        name: 'literacy',\n        icon: 'las la-book-reader',\n        // sideContent: 'B',\n        description: `Literacy based activity`\n      },\n      {\n        name: 'outdoor',\n        icon: 'las la-cloud-sun',\n        // sideContent: 'B',\n        description: `Outdoor based activity`\n      },\n      {\n        name: 'indoor',\n        icon: 'las la-home',\n        // sideContent: 'B',\n        description: `Indoor based activity`\n      },\n      {\n        name: 'sensory',\n        icon: 'las la-allergies',\n        // sideContent: 'B',\n        description: `Sensory based activity`\n      },\n      {\n        name: 'fine-motor',\n        icon: 'las la-user-edit',\n        // sideContent: 'B',\n        description: `Fine-motor based activity`\n      },\n      {\n        name: 'gross-motor',\n        icon: 'las la-running',\n        // sideContent: 'B',\n        description: `Gross-motor based activity`\n      },\n    ]}\n    selectStatement=\"Select activity subjects\"\n    modalTitle=\"What subjects are your children interested in?\"\n    defaultButton=\"Select activity subjects\"\n    {...props}\n  />\n}\n\nfunction PickAges(props: any){\n  \n  return <PickDefault\n    {...props}\n    name=\"defaultAges\"\n    tags={_.range(20).map((v)=>{\n      return {\n        name: 'age-'+v,\n        sideContent: v+'Y',\n        icon: \"las la-grin\",\n        description: `Choose activities for a ${v} year old`,\n      }\n    })}\n    selectStatement=\"Select the ages of your children\"\n    modalTitle=\"What ages are your children?\"\n    defaultButton=\"Select the ages of your children\"\n  />\n}\n\nconst useStyle = makeStyles({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignContent: 'flex-start',\n  },\n  title: {\n    fontSize: '1rem',\n  },\n  defaultAges: {\n    marginTop: '1rem',\n    fontSize: '1.1rem',\n  }\n})\n\ninterface $pickDefaultProps {\n  values: string[],\n  onSave: (a: string[])=>void,\n  color?: 'secondary',\n  className: string,\n  modalTitle: string,\n  selectStatement: string,\n  tags: any[],\n  defaultButton: string\n}\n\nfunction PickDefault({tags, values, onSave, color, className, modalTitle, selectStatement, defaultButton}: $pickDefaultProps){\n  const classes = useStyle();\n  \n  const [ selected, select] = useState<{[id: string]: Boolean}>(values.reduce((acc: any, curr)=>{\n    acc[curr] = true;\n    return acc;\n  }, {}));\n  \n  const toggle = (tag: string)=>{\n    if(selected[tag]){\n      select(blacklist(selected, tag));\n    } else {\n      select({...selected, [tag]: true});\n    }\n  }\n  return <Modal\n    onSave={()=>onSave(Object.keys(selected))}\n    renderContent={\n      (handleClickOpen: any)=><>\n      <Typography variant=\"h3\" className={classes.defaultAges}>{modalTitle}</Typography>\n      <Button\n        variant=\"contained\"\n        color={color}\n        className={className}\n        onClick={handleClickOpen}\n        >{\n        Object.keys(selected).length ? Object.keys(selected).map((x)=>'#'+x).join(' ') : defaultButton\n        }</Button>\n      </>\n    }\n    renderDialogContent={()=><>\n      <Typography component=\"h2\" className={classes.title}>{\n        selectStatement\n      }</Typography>\n      <div className={classes.root}>\n        {\n          tags.map((tag, i)=>{\n            const isSelected = selected[tag.name];\n            return <Tile key={i} toggle={toggle} isSelected={isSelected} tag={tag} i={i} />\n          })\n        }\n      </div>\n      </>}\n  />\n}\n\nconst useTileStyles = makeStyles({\n  tile: ({isSelected, tag}: any)=>({\n    display: 'inline-block',\n    width: '220px',\n    height: '200px',\n    marginTop: '5px',\n    marginRight: '5px',\n    cursor: 'pointer',\n    position: 'relative',\n    ...(isSelected ? { backgroundColor: 'gray', color: '#fff' } : {\n      backgroundColor: tag.color,\n    })\n  }),\n  iconTextWrapper: {\n    // width: 'fit-content'\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '205px',\n  },\n  tileHash: {\n    position: 'absolute',\n    bottom: '5%',\n    left: '5%',\n  },\n})\n\nconst usePopoverStyles = makeStyles((theme) => ({\n  popover: {\n    pointerEvents: 'none',\n  },\n  paper: {\n    padding: theme.spacing(1),\n  },\n}));\n\nfunction Tile({tag, i, isSelected, toggle}: any){\n  const classes = useTileStyles({tag, isSelected})\n  const popoverClasses = usePopoverStyles();\n  return <MyPopover\n    popoverProps={{className: popoverClasses.popover}}\n    popoverClasses={{paper: popoverClasses.paper}}\n    className={classes.tile}\n    disableHover={Boolean(tag.description)}\n    renderHoverableContent={\n      ()=><>\n        <div\n          className={classes.iconTextWrapper}\n          onClick={()=>toggle(tag.name)}\n        >\n          \n          {\n            tag.icon ? <>\n            <FAIcon raw={tag.icon} size=\"5x\" />\n            {\n              tag.sideContent && <Typography variant=\"body2\" component=\"h3\">{tag.sideContent}</Typography>\n            }\n            </> : <Typography variant=\"body2\" component=\"h3\">{tag.monogram}</Typography>\n\n          }\n        </div>\n        <Typography\n              className={classnames(classes.tileHash, {\n                'tag-name': !i\n              })}\n              variant=\"body1\"\n            >{`#${tag.name}`}</Typography>\n      </>\n    }\n    renderOnHoverContent={\n      ()=><ReactMarkdown\n      source={tag.description}\n    />\n    }\n  />\n}\n\nfunction Modal(props: any){\n  const [open, setOpen] = useState(false);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (e: any) => {\n    e.stopPropagation();\n    setOpen(false);\n    props.onSave && props.onSave()\n  };\n\n  return <div>\n  <Card>\n    <CardContent>\n      {\n        props.renderContent(handleClickOpen)\n      }\n    </CardContent>\n  </Card>\n  <Dialog fullScreen open={open} onClose={handleClose}>\n    <AppBar>\n      <Toolbar>\n        <Button autoFocus color=\"inherit\" onClick={handleClose}>\n          save\n        </Button>\n      </Toolbar>\n    </AppBar>\n    <div>\n      {\n        props.renderDialogContent()\n      }\n      <Button style={{height: '4rem'}} variant=\"contained\" fullWidth color=\"primary\" onClick={handleClose}>Save</Button>\n    </div>\n  </Dialog>\n  </div>\n}\n\n// const useStyles2 = makeStyles((theme) => ({\n//   popover: {\n//     pointerEvents: 'none',\n//   },\n//   paper: {\n//     padding: theme.spacing(1),\n//   },\n// }));\n\n// function Popup(props: any){\n//   const classes = useStyles2();\n//   const [anchorEl, setAnchorEl] = useState(null);\n\n//   const handlePopoverOpen = (event: any) => {\n//     setAnchorEl(event.currentTarget);\n//   };\n\n//   const handlePopoverClose = () => {\n//     setAnchorEl(null);\n//   };\n\n//   const open = Boolean(anchorEl);\n//   return <>\n//   {\n//     props.renderContent({\n//       open,\n//       handlePopoverOpen,\n//       handlePopoverClose})\n//   }\n//     <Popover\n//       id={props.id}\n//       className={classes.popover}\n//       classes={{\n//         paper: classes.paper,\n//       }}\n//       open={open}\n//       anchorEl={anchorEl}\n//       anchorOrigin={{\n//         vertical: 'bottom',\n//         horizontal: 'left',\n//       }}\n//       transformOrigin={{\n//         vertical: 'top',\n//         horizontal: 'left',\n//       }}\n//       onClose={handlePopoverClose}\n//       disableRestoreFocus\n//     >\n//       { \n//         props.renderPopupContent()\n//       }\n//     </Popover>\n//   </>\n// }\n\n","import React from 'react';\nimport { Tabs, Tab } from '@material-ui/core';\n\nfunction a11yProps(index: any) {\n  return {\n    id: `tab-${index}`,\n    'aria-controls': `tabpanel-${index}`,\n  };\n}\n\nexport function TabPanel(props: any) {\n  const { children, value, index, ...other } = props;\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-${index}`}\n      aria-labelledby={`tab-${index}`}\n      {...other}\n    >\n      {value === index && children}\n    </div>\n  );\n}\n\ninterface $tabProps {\n  label: JSX.Element | string\n}\n\ninterface $props {\n  value: number,\n  onChange: (a: number)=>void,\n  tabsProps?: any,\n  tabPropsArr: $tabProps[]\n}\n\nexport default function MyTabs({ value, onChange, tabsProps = {}, tabPropsArr = []} : $props){\n  return <Tabs \n    value={value}\n    onChange={(e, newValue)=>{\n      onChange(newValue)\n    }}\n    aria-label=\"Change dashboard view\"\n    indicatorColor=\"primary\"\n    textColor=\"primary\"\n    variant=\"fullWidth\"\n    {...tabsProps}\n  >\n  {\n    tabPropsArr.map((tabProps, i) => <Tab key={i} {...tabProps} {...a11yProps(i)} /> )\n  }\n  </Tabs>\n}\n","import React, { useState, useEffect } from 'react';\nimport { Typography, Divider, makeStyles } from '@material-ui/core';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport { blue } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles({\n  header: {\n    marginTop: '1rem',\n    color: blue[700]\n  }\n})\n\nexport default function SearchActivitiesNonSearchRow({tag, ages, portraitFeatured = false}: {tag: string, ages: string[], portraitFeatured?: Boolean}){\n  const classes = useStyles();\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  const defaultTags =  ages;\n  \n  const tags = defaultTags.concat([tag]).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data, page } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue: [],\n    page: true,\n    query: {\n      tags,\n      portraitFeatured\n    }, \n    deps: [],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  }, [data]);\n  \n  return <div>\n    <Typography align=\"center\" variant=\"h6\" component=\"h3\" className={classes.header}>{'#'+tag}</Typography>\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow data={data} />\n    }\n    <Divider variant=\"inset\" />\n  </div>\n}","import React, { useState, useEffect } from 'react';\nimport { Typography, Divider, makeStyles } from '@material-ui/core';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport { blue } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles({\n  header: {\n    marginTop: '1rem',\n    color: blue[700]\n  }\n})\n\nexport default function SearchActivitiesNonSearchPortraitRow({tag, ages}: {tag: string, ages: string[]}){\n  const classes = useStyles();\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  \n  const defaultTags =  ages;\n  const tags = defaultTags.concat([tag]).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data, page } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue: [],\n    page: true,\n    query: {\n      tags,\n      featuredPortrait: true\n    }, \n    deps: [],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  }, [data]);\n  \n  return <div>\n    <Typography align=\"center\" variant=\"h6\" component=\"h3\" className={classes.header}>{'#'+tag}</Typography>\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow featuredPortrait data={data} />\n    }\n    <Divider variant=\"inset\" />\n  </div>\n}","import React, { useState, useEffect } from 'react';\nimport { Divider } from '@material-ui/core';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\n\n\nexport default function SearchActivitiesNonSearchSquareRow({tag, ages}: {tag: string, ages: string[]}){\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  const defaultTags =  ages;\n  \n  const tags = defaultTags.concat([tag]).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data, page } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue: [],\n    page: true,\n    query: {\n      tags,\n      featuredSquare: true\n    }, \n    deps: [],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  }, [data]);\n  \n  return <div>\n    {\n      // <Typography align=\"center\" variant=\"h6\" component=\"h3\" className={classes.header}>{'#'+tag}</Typography>\n    }\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow featuredSquare data={data}/>\n    }\n    <Divider variant=\"inset\" />\n  </div>\n}","import React, { useEffect, useState } from 'react';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\n\nimport _ from 'lodash';\n\nimport SearchActivitiesNonSearchRow from '../NonSearchRow';\nimport LazyLoad from 'react-lazyload';\nimport SearchActivitiesNonSearchPortraitRow from '../NonSearchPortraitRow';\nimport SearchActivitiesNonSearchSquareRow from '../NonSearchSquareRow';\n\nexport default function ListActivities({subjects, ages}: {subjects: string[], ages: string[]}){\n  const [tagOrder, setTagOrder] = useState<string[]>([]);\n  const defaultSubjects = subjects;\n  const { data: popularTags } : {data: string[]} = useCustomSwr(SERVER_ADDRESS+'/tags/popular', {\n    cache: true,\n    defaultValue: []\n  });\n\n  useEffect(()=>{\n    const defaultSubjectHash = defaultSubjects.reduce((acc: any, curr: string)=>{\n      acc[curr]=true\n      return acc;\n    }, {})\n    setTagOrder(_.sampleSize(defaultSubjects, defaultSubjects.length)\n      .concat((popularTags||[]).filter((tag: string)=>(tag.indexOf('age') === -1))\n      .filter((tag: string)=>!defaultSubjectHash[tag]))\n    );\n  }, [defaultSubjects, ages, popularTags])\n\n  const squareRender = (tag: string)=>{\n    return <div style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={200} key={tag}>\n      <SearchActivitiesNonSearchSquareRow tag={tag} ages={ages} />\n    </LazyLoad></div>;\n  }\n\n  const portraitRender = (tag: string)=>{\n    return <div style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={200} key={tag}>\n      <SearchActivitiesNonSearchPortraitRow tag={tag} ages={ages} />\n    </LazyLoad></div>;\n  }\n  \n  const render = (tag: string)=>{\n    return <div style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={300} key={tag}>\n      <SearchActivitiesNonSearchRow tag={tag} ages={ages} />\n    </LazyLoad></div>;\n  }\n  return <div>\n    {\n      tagOrder.map((tag: string, i: number)=>{\n        if(i === 0 || i === 8) return squareRender(tag);\n        if(i === 3 || i === 6 || i === 12) return portraitRender(tag)\n        return render(tag)\n      })\n    }\n\n  </div>\n}","import React from 'react';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { dashboardTabsSelector } from '../../../utils/redux/config';\nimport { uiSelector, createUIAction } from '../../../utils/redux/ui';\nimport Config from './Config';\nimport MyTabs, { TabPanel } from '../../components/general/Tabs';\nimport ListActivities from './ListActivities';\nimport FAIcon from '../../components/general/FAIcon';\n\nimport {IconButton } from '@material-ui/core';\n\n// const orderedDashboardTabs = createSelector(dashboardTabsSelector, (dashboardTabs)=>[...dashboardTabs].sort((a,b)=>a.ordinal-b.ordinal))\n\nexport default function Dashboard(){\n  const rawDashboardTabs = useSelector(dashboardTabsSelector);\n  const dashboardTabs = [...rawDashboardTabs].sort((a,b)=>a.ordinal-b.ordinal)\n  // const dashboardTabs = useSelector(orderedDashboardTabs);\n  const { dashboard } = useSelector(uiSelector);\n  const dispatch = useDispatch();\n  const onChange = (tab: number, isEditing?: Boolean)=>dispatch(createUIAction({\n    dashboard: {\n      tab,\n      isEditing: isEditing || false\n    }}))\n  return <div>\n    <MyTabs\n      tabsProps={{variant: \"standard\"}}\n      value={dashboard.tab}\n      onChange={(tab)=>onChange(tab)}\n      tabPropsArr={dashboardTabs.map(d=>({\n        label: <span>{d.name || d.ages.join(' & ') || `Tab ${d.ordinal+1}`}\n        <IconButton\n          onClick={(e)=>{\n            e.stopPropagation();\n            onChange(d.ordinal, true)\n          }}\n        >\n          <FAIcon type=\"pen\" size=\"1x\" />\n        </IconButton>\n      </span>\n      }))}\n    />\n    {\n      dashboardTabs.map((d, i)=><TabPanel key={d.ordinal} value={dashboard.tab} index={i}>\n        {\n          (!d.ages.length || dashboard.isEditing) ? <Config ordinal={d.ordinal} /> : <ListActivities ages={d.ages} subjects={d.subjects}/>\n        }\n        </TabPanel>)\n    }\n    \n\n  </div>\n}","import React from 'react';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\n\nimport { useParams, Link } from 'react-router-dom';\nimport { Typography, makeStyles, Chip, Grid, Card, Box } from '@material-ui/core';\nimport ReactMarkdown from 'react-markdown';\n\nimport humanizeDuration from 'humanize-duration';\n\nimport AddActivityButtons from '../added/Button';\nimport ActivitiesPreviewImages from '../preview/Images';\nimport MaterialsList from '../../../materials/List';\n\nimport { FormLabel } from '@material-ui/core';\nimport { blue } from '@material-ui/core/colors';\n\n\nconst useStyle = makeStyles({\n  spacer: {\n    marginTop: '2rem',\n  },\n  // image: {\n  //   width: '100%',\n  //   display: 'block',\n  //   margin: '2rem auto'\n  // },\n  tags: {\n    margin: '1rem auto 0',\n    textAlign: 'center',\n  },\n  requirements: {\n    padding: '0 2rem',\n  },\n  card: {\n    minWidth: '25rem',\n    margin: 'auto'\n  },\n  cardTitle: {\n    color: blue[700],\n    textDecoration: 'none',\n  },\n  cardTitleWrapper: {\n    margin: '0 1rem'\n  },\n})\n\ninterface $shedulesParams {\n  sheduleId: string\n}\n\nexport default function ActivityShow(props: any){\n  const classes = useStyle();\n  const { sheduleId } = useParams<$shedulesParams>();\n  const { data } = useCustomSwr(SERVER_ADDRESS+'/shedules/activities/public/'+sheduleId);\n\n  \n  if(!data) return null;\n  const linkWrapper = (children: JSX.Element)=>data?.properties?.link ? <a className={classes.cardTitle} href={data.properties.link} rel=\"noopener noreferrer\" target=\"_blank\" children={children}/> : <React.Fragment children={children}/>\n  return <div>\n    <Card className={classes.card}>\n      <Grid justify=\"flex-start\" container>\n        <Grid item>\n          {\n            // <LikeShow sheduleId={sheduleId} />\n          }\n          <AddActivityButtons activity={data} />\n        </Grid>\n      </Grid>\n      <Grid container justify=\"center\">\n          <Grid item md={6} lg={6} xl={6}>\n            <div className={classes.cardTitleWrapper}>\n            {\n              linkWrapper(<Typography className={classes.cardTitle} align=\"center\" variant=\"h5\" component=\"h1\">{data.name}</Typography>)\n            }\n            </div>\n            <div className={classes.tags}>\n              {(data?.properties?.tags || '').split(' ').map((tag: string) => <Chip key={tag} label={tag}/>)}\n            </div>\n            <Box m=\"3rem auto\" maxWidth=\"30rem\">\n              <ActivitiesPreviewImages activity={data} />\n            </Box>\n            \n          </Grid>\n          <Grid item md={6} lg={6} xl={6}>\n          {\n            data?.properties?.duration && \n              <Typography align=\"center\"  variant=\"body1\">\n                {humanizeDuration(data.properties.duration)}\n              </Typography>\n          }\n          {\n            (data?.properties?.metaRequirements && data?.properties?.metaRequirements.length) ? <div className={classes.requirements}>\n              <FormLabel>Requirements</FormLabel>\n              <MaterialsList activity={data} />\n            </div> : null\n          }\n          </Grid>\n      </Grid>\n    </Card>\n    <ReactMarkdown\n      source={data.description}\n    />\n  </div>\n}","import React from 'react';\nimport { TimelineOppositeContent } from '@material-ui/lab';\nimport Timeline from '@material-ui/lab/Timeline';\nimport TimelineItem from '@material-ui/lab/TimelineItem';\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\nimport TimelineContent from '@material-ui/lab/TimelineContent';\nimport TimelineDot from '@material-ui/lab/TimelineDot';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport reorderOrdinals from 'reorder-ordinals';\nimport { Link } from 'react-router-dom';\nimport AddActivityOptions from '../Options';\n\nconst grid = 8;\n\nconst getListStyle = () => ({\n  // background: isDraggingOver ? \"lightblue\" : \"lightgrey\",\n  // padding: grid,\n  // width: 250\n});\n\n\nconst getItemStyle = (isDragging: any, draggableStyle: any) => ({\n  // some basic styles to make the items look a bit nicer\n  userSelect: \"none\",\n  padding: grid * 2,\n  margin: `0 0 ${grid}px 0`,\n\n  // change background colour if dragging\n  // background: isDragging ? \"lightgreen\" : \"grey\",\n\n  // styles we need to apply on draggables\n  ...draggableStyle\n});\n\n\nexport default function DayTimeline(props: any) {\n  const onDragEnd = (result: any) => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n    const nextData = reorderOrdinals()(props.data, result.source.index, result.destination.index)\n    props.mutate(\n      nextData\n    );\n  }\n  return (\n    <DragDropContext onDragEnd={onDragEnd}>\n      <Droppable droppableId=\"droppable\">\n      {\n        (provided, snapshot: any) => (\n        <div\n          {...provided.droppableProps}\n          ref={provided.innerRef}\n          style={getListStyle()}\n        >\n          <Timeline align=\"alternate\">\n            {\n              (props.data || []).sort((a: any, b: any)=>a.ordinal - b.ordinal).map((activityRel: any, index: number) => {\n\n                const activity = activityRel.activity;\n                return <Draggable key={activityRel.id} draggableId={activityRel.id} index={activityRel.ordinal}>\n                {\n                  (provided, snapshot) => (<span\n                    ref={provided.innerRef}\n                    {...provided.draggableProps}\n                    {...provided.dragHandleProps}\n                    style={getItemStyle(\n                      snapshot.isDragging,\n                      provided.draggableProps.style\n                    )}\n                  >\n                    <TimelineItem>\n                      <TimelineOppositeContent>\n                        <AddActivityOptions activity={activity} />\n                      </TimelineOppositeContent>\n                      <TimelineSeparator>\n                        <TimelineDot />\n                        {index === (props.data.length - 1) ? null : <TimelineConnector /> }\n                      </TimelineSeparator>\n                      <TimelineContent>\n                        <Link to={`/shedules/activities/${activity.id}`}>{activity.name}</Link>\n                      </TimelineContent>\n                    </TimelineItem>\n                  </span>)\n                }\n                </Draggable>\n              })\n            }\n          </Timeline>\n        </div>)\n      }\n      </Droppable>\n    </DragDropContext>\n  );\n}","import React, { useState } from 'react';\nimport { Tabs, Tab, Grid, Typography } from '@material-ui/core';\n\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport DayTimeline from './Timeline';\nimport { updateActivities, purgeActivities } from './utils';\nimport Accordions from '../../../materials/Accordions';\nimport { addedActivitiesSelector } from '../../../../utils/redux/config';\nimport { uiSelector, createUIAction } from '../../../../utils/redux/ui';\nimport { useMediaQuery } from '@material-ui/core';\nimport MyTabs, { TabPanel } from '../../../components/general/Tabs';\n\n\n\n\n\nexport default function ShedulesAddedActivitiesShowMany(props: any){\n  \n  const addedActivities = useSelector(addedActivitiesSelector);\n  const dispatch = useDispatch();\n  const ui = useSelector(uiSelector);\n  const [tab, setTab] = useState(ui.addedActivities.tab || 0);\n  const defaultValue : any = []\n  const { data } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue,\n    query: {\n      ids: Object.keys(addedActivities)\n    }, \n    deps: [],\n  });\n  React.useEffect(()=>{\n    if(data === defaultValue) return;\n    if(data.length !== Object.keys(addedActivities).length){\n      purgeActivities(data)\n    }\n  }, [data])\n  const biggerThanSmall = useMediaQuery('(min-width:1000px)');\n  const inScheduleActivities = data.filter((activity: any)=>addedActivities[activity.id].inSchedule);\n  const schedule = !inScheduleActivities.length ? <p>Nothing in schedule</p> : <DayTimeline mutate={updateActivities} data={inScheduleActivities.map((activity: any) => ({\n    id: activity.id,\n    activity,\n    ordinal: addedActivities[activity.id].ordinal\n  }))} />\n  const scheduleTitle = <Typography align=\"center\">Schedule</Typography>\n  return <div>\n    <div>\n      <MyTabs value={tab} onChange={(newValue: number)=>{\n        setTab(newValue)\n        dispatch(createUIAction({\n          addedActivities: {\n            tab: newValue\n          }\n        }))\n      }} tabPropsArr={\n        [\n          {\n            label: \"Bookmarks\"\n          },\n          ...(biggerThanSmall ? [] : [{\n            label: \"Schedule\"\n          }]),\n          {\n            label: \"Materials\"\n          }\n        ]\n      } />\n    </div>\n    <TabPanel value={tab} index={0}>\n      <Grid container>\n        <Grid item sm={12} md={6}>\n          {\n            !data.length ? <p>No Results</p> : <SheduleRow addedActivityPage data={data} />\n          }\n        </Grid>\n        {\n          biggerThanSmall ? <Grid item md={6}>\n            {scheduleTitle}\n            {schedule}\n          </Grid>\n         : null\n        }\n        </Grid>\n    </TabPanel>\n    {\n      biggerThanSmall ? null : <TabPanel value={tab} index={1}>\n      {\n        schedule\n      }\n    </TabPanel>\n    }\n      <TabPanel value={tab} index={biggerThanSmall ? 1 : 2}>\n      <Grid container>\n        {\n          biggerThanSmall ? <Grid item md={6}>\n            {scheduleTitle}\n            {schedule}\n          </Grid> : null\n        }\n        <Grid item sm={12} md={6}>\n          {\n            !inScheduleActivities.length ? <p>No activities in schedule</p> : <Accordions data={[...inScheduleActivities].sort((a,b)=>addedActivities[a.id].ordinal-addedActivities[b.id].ordinal)} />\n          }\n        </Grid>\n      </Grid>\n      </TabPanel>\n    \n  </div>\n}","import React from 'react';\nimport { Typography, Card, CardContent, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '700px',\n    margin: '0 auto',\n  }\n})\n\nexport default function Contact(){\n  const classes = useStyles();\n  return <div>\n    <div>\n      <Card className={classes.root}>\n        <CardContent>\n            <Typography variant=\"h6\" component=\"h1\">Contact Us</Typography>\n            <Typography variant=\"body2\">Fill out the contact form, or for more immediate responses, join us on <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://join.slack.com/t/acts-y6j6127/shared_invite/zt-gmnzx11u-8bMX9_T86YUh_fTXiU6nHg\">Slack</a></Typography>\n            <iframe title=\"contact\" src=\"https://docs.google.com/forms/d/e/1FAIpQLScxg0UfktZjdRulfXcTGcbtAl5DirwLqp8U1FPMDIVe9kQrhg/viewform?embedded=true\" min-width=\"300\" width=\"100%\" height=\"900\">Loading…</iframe>\n        </CardContent>\n      </Card>\n    \n    </div>\n  </div>\n}","import { Button, Card, CardContent, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { userSelector } from '../../../../utils/redux/user';\nimport { useSelector } from 'react-redux';\nimport { setupIntents } from '../../../../utils/stripe';\n\n\n\nexport default function UserCreateError(){\n  const user = useSelector(userSelector);\n  const handleVerifyPayment = ()=>setupIntents()\n  return <div>\n    <Card>\n      <CardContent>\n        <Typography>To complete the signup process, please provide payment information by clicking the button below</Typography>\n        <Button onClick={handleVerifyPayment}>Proceed to payment section</Button>\n      </CardContent>\n    </Card>\n  </div>\n}","import React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { SERVER_ADDRESS, useCustomSwr } from '../../../../utils/remote';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createUserAction, userSelector } from '../../../../utils/redux/user';\n\nexport default function CreateUserSuccess(){\n  const history = useHistory();\n  const { data } = useCustomSwr(SERVER_ADDRESS+'/users/payments/intents')\n  const user = useSelector(userSelector);\n  const dispatch = useDispatch()\n  useEffect(()=>{\n    if(data){\n      dispatch(createUserAction(data.data))\n    }\n  }, [data])\n  useEffect(()=>{\n    if(user.creditApproved){\n      history.push('/')\n    }\n  }, [user])\n  return null\n}","import React, { cloneElement } from 'react';\r\nimport { Snackbar, IconButton } from '@material-ui/core';\r\nimport { Close as CloseIcon } from '@material-ui/icons';\r\n\r\nimport { UserCreate } from '../../../users/Create';\r\nimport { Switch, Route, useHistory, useLocation } from 'react-router-dom';\r\nimport { SessionCreate } from '../../../sessions/Create';\r\nimport SearchActivities from '../../../pages/Search';\r\nimport Dashboard from '../../../pages/Dashboard';\r\nimport ActivityShow from '../../../shedules/activities/Show';\r\n\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { v4 } from 'uuid';\r\nimport ShedulesAddedActivitiesShowMany from '../../../shedules/activities/added/ShowMany';\r\nimport Contact from '../../../pages/Contact';\r\nimport { userSelector } from '../../../../utils/redux/user';\r\nimport { createGlobalAction, globalSelector } from '../../../../utils/redux/global';\r\nimport UserCreateError from '../../../users/Create/Error';\r\nimport UserCreateSuccess from '../../../users/Create/Success';\r\n\r\n\r\n\r\nconst SHEDULES = '/shedules';\r\n\r\nexport default function MainRoutes() {\r\n  const dispatch = useDispatch();\r\n  const {id, message} = useSelector(globalSelector).snackbar\r\n  const handleClose = ()=>dispatch({\r\n    snackbar: ''\r\n  });\r\n  return <>\r\n    <Snackbar\r\n      key={id}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      }}\r\n      open={!!id}\r\n      autoHideDuration={6000}\r\n      onClose={handleClose}\r\n      action={\r\n        <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\r\n          <CloseIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      }\r\n      message={message}\r\n    />\r\n  <Switch>\r\n    {\r\n      <Route exact path=\"/search\"><RouteWrapper mustBeLoggedIn><SearchActivities /></RouteWrapper></Route>\r\n    }\r\n    \r\n    <Route exact path=\"/contact\"><Contact/></Route>\r\n    <Route exact path=\"/\"><RouteWrapper mustBeLoggedIn><Dashboard /></RouteWrapper></Route>\r\n    {\r\n      // <Route exact path=\"/config\"><MustBeLoggedIn><UsersEdit /></MustBeLoggedIn></Route>\r\n    }\r\n    <Route exact path={`/activities/added`}><RouteWrapper mustBeLoggedIn><ShedulesAddedActivitiesShowMany /></RouteWrapper></Route>\r\n    <Route exact path={`/activities/added`}><RouteWrapper mustBeLoggedIn ><ShedulesAddedActivitiesShowMany /></RouteWrapper></Route>\r\n    <Route exact path={`${SHEDULES}/activities/:sheduleId`}><RouteWrapper mustBeLoggedIn><ActivityShow /></RouteWrapper></Route>\r\n    <Route exact path={`/signup`}><UserCreate/></Route>\r\n    <Route exact path={`/login`}><SessionCreate/></Route>\r\n    <Route exact path={`/error`}><RouteWrapper mustBeLoggedIn><UserCreateError /></RouteWrapper></Route>\r\n    <Route exact path={`/success`}><RouteWrapper mustBeLoggedIn><UserCreateSuccess /></RouteWrapper></Route>\r\n  </Switch>\r\n  </>\r\n};\r\n\r\n\r\nfunction RouteWrapper({children, mustBeLoggedIn, ...props}: {children: JSX.Element, mustBeLoggedIn?: Boolean}){\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const user = useSelector(userSelector);\r\n  if(mustBeLoggedIn){\r\n    if(!user){\r\n      history.push('/overview')\r\n      return null;\r\n    }\r\n    if(!user.creditApproved){\r\n      if(location.pathname !== '/error' && location.pathname !== '/success'){\r\n        history.push('/error')\r\n        return null\r\n      }\r\n\r\n    \r\n    \r\n    }\r\n  }  \r\n  return <>    \r\n    {\r\n      cloneElement(children, props)\r\n    }\r\n  </>\r\n}","import React, {useState} from 'react';\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { createUserAction } from '../../../../../utils/redux/user';\n\n\nexport default function Profile({className}: {className: string}){\n  const [anchorEl, setAnchorEl] = useState<HTMLElement|null>(null);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const handleClose = ()=>{\n    setAnchorEl(null);\n  }\n  const handleClick = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n  return <>\n    <IconButton className={className} color=\"inherit\" onClick={handleClick} aria-label=\"open profile menu\" component=\"span\">\n      <AccountCircle />\n    </IconButton>\n      <Menu\n      id=\"profile-menu\"\n      anchorEl={anchorEl}\n      keepMounted\n      open={Boolean(anchorEl)}\n      onClose={handleClose}\n    >      \n      <MenuItem onClick={()=>{\n        handleClose()\n        dispatch(createUserAction(null))\n        history.push('/')\n      }}>Logout</MenuItem>\n    </Menu>\n  </>\n}","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { IconButton, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport Profile from './Profile';\nimport FAIcon from '../../general/FAIcon';\nimport { userSelector } from '../../../../utils/redux/user';\nimport { addedActivitiesSelector } from '../../../../utils/redux/config';\nimport HomeIcon from '@material-ui/icons/Home';\nimport { blue } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    \n    \n\n  },\n  logo: {\n    height: '3.5rem',\n  },\n  titleLink: {\n    flexGrow: 1,\n    textDecoration: 'none',\n    color: 'inherit',\n    // marginRight: '3.5rem'\n  },\n  iconButtons: {\n    // color: 'rgba(0,0,0,0.7)',\n    color: blue[700],\n    textDecoration: 'none'\n  }\n}));\n\nexport default ()=>{\n  const classes = useStyles();\n  const user = useSelector(userSelector);\n  const addedActivities = useSelector(addedActivitiesSelector);\n\n  return <AppBar position=\"sticky\"\n    color=\"inherit\"\n  >\n    <Toolbar>\n      <Link className={classes.titleLink} to=\"/\">\n        <Typography variant=\"h6\" className={classes.title}>        \n            <img alt=\"Acts logo\" src=\"https://imgur.com/ltNSZaz.png\" className={classes.logo}/>\n        </Typography>\n      </Link>\n        \n        {\n          !user ? <>\n          <Button color=\"inherit\"><Link to=\"/login\">Login</Link></Button>\n          <Button color=\"inherit\"><Link to=\"/signup\">Signup</Link></Button></>\n          :\n          <>\n          {\n            // <Create />\n          }\n          {\n            !user.creditApproved ? null : <>\n              <Link className={classes.iconButtons} to=\"/activities/added\"><IconButton color=\"inherit\">{Object.keys(addedActivities).length ? Object.keys(addedActivities).length : null}<FAIcon size=\"md\" type=\"calendar-alt\"/></IconButton></Link>\n              <Link className={classes.iconButtons} to=\"/search\"><IconButton color=\"inherit\"><FAIcon size=\"md\" type=\"search\"/></IconButton></Link>\n              <Link className={classes.iconButtons} to=\"/\"><IconButton className=\"main-search-icon\" color=\"inherit\"><HomeIcon/></IconButton></Link>\n            </>\n          }\n          <Profile className={classes.iconButtons} />\n          </>\n        }\n    </Toolbar>\n  </AppBar>\n}\n","import React from 'react';\n\nimport { Switch, Route } from 'react-router-dom';\nimport { makeStyles, Container } from '@material-ui/core';\nimport Footer from '../../navigation/Footer';\nimport Overview from '../../../pages/Overview';\nimport MainRoutes from '../Main';\nimport TopNavigation from '../../navigation/Top';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport { createConfigAction, configSelector } from '../../../../utils/redux/config';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst useStyle = makeStyles({\n  page: {\n    paddingTop: '1rem',\n    paddingBottom: '4rem',\n    backgroundColor: '#eaf5e6',//grey[100],\n    minHeight: '90vh',\n  }\n})\n\nconst CoreApp = ()=>{\n  const classes = useStyle()\n  return <>\n    <TopNavigation />\n    <Container className={classes.page} maxWidth={false}>\n      <MainRoutes />\n    </Container>\n  </>\n}\n\nexport default function RootRoutes() {\n  const dispatch = useDispatch();\n  const config = useSelector(configSelector);\n  const {data} = useCustomSwr(SERVER_ADDRESS+'/users/config');\n  React.useEffect(()=>{\n    if(data){\n      dispatch(createConfigAction({\n        flush: true,\n        data: {\n          ...config,\n          ...data\n        }\n      }))\n    }\n  }, [data])\n  return <>\n    <Switch>\n      <Route exact path=\"/overview\"><Overview/></Route>\n      <Route path=\"*\"><CoreApp /></Route>\n    </Switch>\n    <Footer />\n  </>\n};\n\n\n","import 'fontsource-roboto';\n\nimport React from 'react';\n// import { BrowserRouter } from 'react-router-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { SWRConfig } from 'swr';\nimport { Provider } from 'react-redux';\n\nimport { store } from './utils/redux';\nimport { get } from './utils/remote';\nimport RootRoutes from './features/components/routes/Root';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\n\nimport DateFnsUtils from '@date-io/date-fns';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { blue } from '@material-ui/core/colors';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: blue[700],\n    },\n  },\n});\nfunction App() {\n  return <Wrap store={store}><RootRoutes /></Wrap>;\n}\n\nexport default App;\n\nconst Router = HashRouter;\n\nexport function Wrap({children, store}: { children: JSX.Element, store: any}){\n  return (<SWRConfig\n    value={{\n      // refreshInterval: 3000,\n      fetcher: (arg1, ...args)=>{\n        return get(arg1, ...args).then(res => res.json())\n      },\n    }}\n    >\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <ThemeProvider theme={theme}>\n        <Provider store={store}>\n          <div>\n            <Router>\n              {\n                children\n              }\n            </Router>\n          </div>\n        </Provider>\n      </ThemeProvider>\n    </MuiPickersUtilsProvider>\n  </SWRConfig>);\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}