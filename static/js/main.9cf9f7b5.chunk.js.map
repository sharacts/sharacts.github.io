{"version":3,"sources":["utils/auth.ts","utils/redux/user/index.ts","utils/remote.ts","utils/redux/config/index.ts","utils/redux/global/index.ts","utils/redux/ui/index.ts","utils/redux/index.ts","features/components/navigation/Footer/index.tsx","features/materials/utils/index.ts","features/materials/List/index.tsx","features/materials/Accordions/index.tsx","features/pages/Overview/index.tsx","utils/stripe/index.ts","features/users/Create/index.tsx","features/sessions/Create/index.tsx","features/components/general/FAIcon/index.tsx","features/shedules/activities/added/utils.ts","features/shedules/activities/added/Button/index.tsx","features/components/general/Popover/index.tsx","features/materials/Tag/index.tsx","features/components/general/IconMenu/index.tsx","features/shedules/activities/added/Options/index.tsx","features/components/general/Slideshow/index.tsx","features/shedules/activities/preview/Images/index.tsx","features/components/general/SheduleRow/Slot/index.tsx","features/components/general/SheduleRow/Tags/index.tsx","features/components/general/SheduleRow/PortraitSlot/index.tsx","features/components/general/SheduleRow/SquareSlot/index.tsx","features/components/general/Scroll/Slides/index.tsx","utils/window/index.ts","features/components/general/Scroll/index.tsx","features/components/general/SheduleRow/index.tsx","features/pages/Search/Row/index.tsx","features/pages/Search/index.tsx","features/pages/Dashboard/Config/index.tsx","features/components/general/Tabs/index.tsx","features/pages/Dashboard/NonSearchRow/index.tsx","features/pages/Dashboard/NonSearchPortraitRow/index.tsx","features/pages/Dashboard/NonSearchSquareRow/index.tsx","features/pages/Dashboard/ListActivities/index.tsx","features/pages/Dashboard/index.tsx","features/shedules/activities/Show/index.tsx","features/shedules/activities/added/Timeline/index.tsx","features/shedules/activities/added/ShowMany.tsx","features/pages/Contact/index.tsx","features/users/Create/Error/index.tsx","features/users/Create/Success/index.tsx","features/components/routes/Main/index.tsx","features/components/navigation/Top/Profile/index.tsx","features/components/navigation/Top/Refer/index.js","features/components/navigation/Top/index.tsx","features/components/routes/Root/index.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["setToken","token","localStorage","setItem","getToken","getItem","createUserAction","payload","type","userSelector","state","user","SERVER_ADDRESS","process","genDefaultHeaders","Authorization","post","url","options","headers","fetch","method","body","JSON","stringify","then","handleErrors","get","otherOptions","res","status","dispatch","json","customMerge","objValue","srcValue","isArray","undefined","useCustomSwr","apiKey","useState","page","setPage","defaultValue","data","setData","noMoreContent","setNoMoreContent","incrementPage","resetPage","useEffect","suffix","query","qs","arrayFormat","cache","lscache","Promise","resolve","parse","requestOptions","set","length","concat","deps","mutate","nextData","mergeResults","mergeWith","createConfigAction","configSelector","config","dashboardTabsSelector","dashboardTabs","materialsSelector","materials","materialTypesSelector","materialTypes","addedActivitiesSelector","addedActivities","addedActivitySelector","id","wontDoActivitySelector","wontDoActivities","completedActivitySelector","completedActivities","defaultState","snackbar","message","globalSelector","global","createUIAction","uiSelector","ui","uiCreditsSelector","credits","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","reducerDic","action","rawAddedActivities","rawWontDoActivities","rawCompletedActivities","rawMaterials","rawMaterialTypes","ages","subjects","ordinal","touched","uuid","v4","getDefaultState","flush","nextState","Object","keys","reduce","acc","curr","put","jwt","decode","key","defaultObj","dashboard","tab","isEditing","count","hasNew","reducer","store","createStore","clear","useStyles","makeStyles","root","padding","ul","listStyleType","Footer","classes","Container","className","maxWidth","Grid","container","item","to","getMaterialId","req","raw","materialTypeNotMaterial","materialTypeMatch","types","useStyle","typeMatch","color","MaterialsList","activity","useSelector","useDispatch","handleChange","event","checked","target","nextMaterials","nextMaterialTypes","a","FormGroup","properties","metaRequirements","map","FormControlLabel","control","Checkbox","onChange","name","label","join","theme","margin","spacing","useAccordionStyles","height","minHeight","content","Accordions","accordionClasses","FormControl","component","Accordion","defaultExpanded","AccordionSummary","expandIcon","ExpandMore","aria-controls","FormLabel","AccordionDetails","useMastStyles","backgroundImage","width","backgroundPosition","backgroundRepeat","backgroundAttachment","backgroundSize","position","title","top","left","signup","backgroundColor","colors","teal","signupWrapper","login","right","useSubjectStyles","grey","boxes","display","borderRadius","useAgeStyles","useMaterialStyles","Overview","Bx","tag","justify","alignItems","subjectClasses","style","Typography","mastClasses","ageClasses","materialClasses","signupButton","fullWidth","disableGutters","xs","align","variant","stripePromise","loadStripe","setupIntents","session","stripe","redirectToCheckout","sessionId","error","UserCreate","Card","CardHeader","schema","yup","shape","email","required","password","min","max","referralCode","optional","UserCreateForm","location","useLocation","parsed","search","useForm","resolver","yupResolver","handleSubmit","register","errors","apiErrors","setApiErrors","referralCodeError","setReferralCodeError","referral_code","isValid","valid","validReferralCode","onSubmit","catch","err","errorExists","CardContent","TextField","inputRef","helperText","ref","hidden","value","Box","fontWeight","m","Divider","CardActions","SessionCreate","history","useHistory","push","FAIcon","props","outline","light","split","getType","getName","size","classnames","updateActivities","activityRelationships","getState","nextAddedActivities","addActivityToSchedule","highestOrdinal","values","inSchedule","removeActivityFromSchedule","AddActivityButtons","directToSchedule","button","addedActivity","IconButton","onClick","blacklist","removeActivity","addActivity","MyPopover","disablePopup","disableHover","popoverClasses","renderHoverableContent","renderOnHoverContent","popoverProps","React","mouseStopped","setMouseStopped","anchorEl","setAnchorEl","candidateAnchorEl","setCandidateAnchorEl","debouncedSetMouseStopped","debounce","hoverableContentProps","currentTarget","onMouseEnter","onMouseLeave","onMouseMove","Popover","open","Boolean","onClose","disableRestoreFocus","tagContent","marginTop","perfectScore","palette","secondary","main","closeScore","primary","usePopoverStyles","paper","maxHeight","overflowY","MaterialsTag","score","Number","classNames","anchorOrigin","vertical","horizontal","transformOrigin","IconMenu","handleClose","Button","buttonComp","aria-haspopup","buttonProps","renderIcon","MoreVert","Menu","keepMounted","renderMenuItems","AddActivityOptions","MenuItem","ListItemIcon","EventAvailableRounded","fontSize","ListItemText","addCompletedActivity","Check","addDroppedActivity","Clear","Slideshow","images","prevArrow","nextArrow","autoplay","duration","pauseOnHover","infinite","easing","img","ActivitiesPreviewImages","imgLinks","src","useActivityButtonStyles","activityRoot","verticalAlign","marginRight","marginBottom","tagRoot","flexDirection","flexWrap","justifyContent","alignContent","paddingBottom","overflow","cursor","imageTag","activityTitle","whiteSpace","textDecoration","sheduleTitle","sideContent","starSideContent","textAlign","activityImage","transform","headerRoot","borderBottom","SheduleSlot","memo","activityButtonClasses","shedule","wontDoActivity","completedActivity","addedActivityPage","uniqueTags","_","uniqBy","tags","filter","indexOf","age","minAge","maxAge","activityLinkTo","Tooltip","text","maxLine","ellipsis","basedOn","shares","blue","rating","starDimension","starSpacing","starRatedColor","amber","slice","i","description","icon","image","alt","marginLeft","direction","Tags","styleProps","Tag","tooltip","iconProps","children","PortraitSlot","CardMedia","find","SquareSlot","quotient","Slides","getWindowDimensions","innerWidth","innerHeight","Scroll","renderSlides","slideWidth","swiper","setSwiper","replace","p","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","renderedSlides","buttonStyle","isMobile","opacity","sw","Swiper","slidesPerView","slideNext","indexIncrementCount","Math","floor","nextIndex","activeIndex","slideTo","indexDecrementCount","slidePrev","wrap","overflowX","SheduleRow","featuredPortrait","featuredSquare","Slot","slots","SearchActivitiesRow","previousSizes","setPreviousSizes","reset","searchTags","setSearchTags","searchText","setSearchText","onSearch","nextVal","clean","toLowerCase","v","partition","nextSeachTagsArr","nextSearchTextArr","nextSearchTags","nextSearchText","createFilterOptions","Autocomplete","freeSolo","multiple","popularTags","t","filterOptions","params","filtered","inputValue","selectOnFocus","clearOnBlur","handleHomeEndKeys","renderInput","placeholder","SearchActivities","Config","dashboardTab","x","debouncedOnChange","PickAges","onSave","nextAges","PickSubjects","nextSubjects","PickDefault","selectStatement","modalTitle","defaultButton","range","defaultAges","selected","select","toggle","Modal","renderContent","handleClickOpen","renderDialogContent","isSelected","Tile","useTileStyles","tile","iconTextWrapper","tileHash","bottom","popover","pointerEvents","monogram","source","setOpen","e","stopPropagation","Dialog","fullScreen","AppBar","Toolbar","autoFocus","TabPanel","index","other","role","aria-labelledby","MyTabs","tabsProps","tabPropsArr","Tabs","newValue","aria-label","indicatorColor","textColor","tabProps","Tab","header","SearchActivitiesNonSearchRow","portraitFeatured","reverse","SearchActivitiesNonSearchPortraitRow","SearchActivitiesNonSearchSquareRow","ListActivities","tagOrder","setTagOrder","defaultSubjects","defaultSubjectHash","sampleSize","minWidth","squareRender","portraitRender","render","Dashboard","rawDashboardTabs","sort","b","d","spacer","requirements","card","cardTitle","cardTitleWrapper","ActivityShow","sheduleId","useParams","md","lg","xl","link","href","rel","Fragment","linkWrapper","Chip","humanizeDuration","DayTimeline","onDragEnd","result","destination","reorderOrdinals","droppableId","provided","snapshot","droppableProps","innerRef","Timeline","activityRel","draggableId","draggableProps","dragHandleProps","isDragging","draggableStyle","userSelect","grid","TimelineItem","TimelineOppositeContent","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","ShedulesAddedActivitiesShowMany","setTab","ids","biggerThanSmall","useMediaQuery","inScheduleActivities","schedule","scheduleTitle","sm","Contact","min-width","UserCreateError","CreateUserSuccess","creditApproved","MainRoutes","Snackbar","autoHideDuration","Close","exact","path","RouteWrapper","mustBeLoggedIn","pathname","cloneElement","Profile","TopNavigationRefer","copied","setCopied","code","copy","flexGrow","menuButton","logo","titleLink","iconButtons","paddingTop","CoreApp","Top","RootRoutes","configData","createMuiTheme","App","Wrap","Router","HashRouter","fetcher","arg1","args","utils","DateFnsUtils","ThemeProvider","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9cf9f7b5.chunk.js","sourcesContent":["\nexport const setToken = (token: string)=>{\n  localStorage.setItem('token', token);\n}\n\nexport const getToken = ()=>localStorage.getItem('token');\n","import jwt from 'jsonwebtoken';\nimport { getToken, setToken } from '../../auth';\n\nexport const DEFAULT_USER_TYPE = 'DEFAULT_USER_TYPE';\n\nconst getDefaultState = ()=>{\n  const token = getToken();\n  return token ? jwt.decode(token) : null\n}\n\nexport const reducer = (state: any, action: any)=>{\n  if(state === undefined){\n    state = getDefaultState();\n  }\n  if(action.type === DEFAULT_USER_TYPE){\n    setToken(action.payload);\n    if(!action.payload) return action.payload;\n    return jwt.decode(action.payload)\n  } \n  return state;\n}\n\nexport const createUserAction = (payload: any)=>{\n  return {\n    type: DEFAULT_USER_TYPE,\n    payload,\n  }\n}\n\n\n\nexport const userSelector = (state: any)=>state.user","import qs from 'query-string';\nimport { useEffect, useState } from 'react';\nimport { mergeWith, isArray } from 'lodash';\nimport { dispatch } from './redux';\nimport { getToken } from './auth';\nimport lscache from 'lscache';\nimport { createUserAction } from './redux/user';\n\nexport const SERVER_ADDRESS = process.env.REACT_APP_SERVER_ADDRESS || \"\";\nconst genDefaultHeaders = ()=>({\n  Authorization: getToken() ? `Bearer ${getToken()}` : '',\n  'Content-Type': 'application/json',\n});\n\n// lscache.flush();\nconst post = (url: string, options:any={headers: {}})=>fetch(url, {\n  method: 'POST',\n  headers: {\n    ...genDefaultHeaders(),\n    ...options.headers,\n  },\n  ...options,\n  body: JSON.stringify(options.body),\n}).then(handleErrors);\n\nconst put = (url: string, options: any={headers: {}})=>fetch(url, {\n  method: 'PUT',\n  headers: {\n    ...genDefaultHeaders(),\n    ...options.headers,\n  },\n  ...options,\n  body: JSON.stringify(options.body),\n}).then(handleErrors);\n\nconst del = (url: string, options: any={headers: {}})=>fetch(url, {\n  method: 'DELETE',\n  headers: {\n    ...genDefaultHeaders(),\n    ...options.headers,\n  },\n  ...options,\n}).then(handleErrors);\n\nconst get = (url: string, options: any={headers: {}})=>{\n  const {headers, ...otherOptions} = options;\n  return fetch(url, {\n    method: 'GET',\n    headers: {\n      ...genDefaultHeaders(),\n      ...headers,\n    },\n    ...otherOptions,\n  }).then(handleErrors);\n}\n\nconst handleErrors = (res: any)=>{\n  if(res.status === 401){\n    dispatch(createUserAction(null));\n  }\n  if(res.status >= 400){\n    throw res\n  }\n  return res.json();\n}\n\nconst customMerge = function (objValue: any, srcValue: any) {\n  if (isArray(objValue)){\n    return objValue;\n  }\n  if(objValue !== undefined){\n    return objValue\n  }\n}\n\nconst useCustomSwr = (apiKey: string, options:any={})=>{\n  const [ page, setPage ] = useState(0);\n  const [ data, setData ] = useState<any>(options.defaultValue || null);\n  const [ noMoreContent, setNoMoreContent ] = useState(false);\n  const incrementPage = ()=>setPage(page+1);\n  const resetPage = ()=>setPage(0);\n  \n  useEffect(()=>{\n    let suffix='';\n    if(options.query){\n      suffix=qs.stringify({\n        ...options.query,\n        ...(options.page ? {\n          page\n        } : {}),\n      }, {arrayFormat: 'bracket'})\n    }\n    const url = apiKey+(suffix ? '?' + suffix : suffix);\n    let dataRequest\n    if(options.cache && lscache.get(url)){\n      dataRequest = Promise.resolve(JSON.parse(lscache.get(url)));\n    } else {\n      dataRequest = get(url, options.requestOptions)\n      .then((json)=>{\n        if(options.cache){\n          lscache.set(url, JSON.stringify(json), 10);\n        }\n        return json;\n      });\n    }\n    dataRequest.then((res)=>{\n      if(page){\n        if(!res.length){\n          setNoMoreContent(true)\n        }\n        return setData(data.concat(res))\n      }\n      return setData(res);\n    });\n  }, (options.deps || []).concat([page]));\n  const mutate = (nextData: any)=>{\n    const mergeResults = mergeWith({...nextData}, data, customMerge);\n    setData(mergeResults);\n  }\n  return { data, mutate, incrementPage, resetPage, page, noMoreContent }\n}\n\nexport {\n  get,\n  post,\n  put,\n  del,\n  useCustomSwr,\n}","import {v4} from 'uuid';\nimport { SERVER_ADDRESS, put } from '../../remote';\nexport const DEFAULT_CONFIG_TYPE = 'DEFAULT_CONFIG_TYPE';\n\ninterface $state {\n    addedActivities: {[id: string]: {\n      inSchedule?: Boolean,\n      ordinal: number,\n    }},\n    wontDoActivities: {[id: string]: Boolean},\n    completedActivities: {[id: string]: Boolean},\n    materials: {[id: string]: Boolean},\n    materialTypes: {[id: string]: Boolean},\n    dashboardTabs: {\n      name?: string,\n      ages: string[],\n      subjects: string[],\n      ordinal: number,\n      touched: Boolean,\n      uuid: string,\n    }[]\n}\nconst getDefaultState = ()=>{\n  const rawAddedActivities = localStorage.getItem('addedActivities');\n  const rawWontDoActivities = localStorage.getItem('wontDoActivities');\n  const rawCompletedActivities = localStorage.getItem('completedActivities');\n  const rawMaterials = localStorage.getItem('materials');\n  const rawMaterialTypes = localStorage.getItem('materialTypes');\n  const dashboardTabs = localStorage.getItem('dashboardTabs');\n\n  const defaultState : $state = {\n    addedActivities: rawAddedActivities ? JSON.parse(rawAddedActivities) : {},\n    wontDoActivities: rawWontDoActivities ? JSON.parse(rawWontDoActivities) : {},\n    completedActivities: rawCompletedActivities ? JSON.parse(rawCompletedActivities) : {},\n    materials: rawMaterials ? JSON.parse(rawMaterials) : {},\n    materialTypes: rawMaterialTypes ? JSON.parse(rawMaterialTypes) : {},\n    dashboardTabs: dashboardTabs ? JSON.parse(dashboardTabs) : [\n      {\n        ages: [],\n        subjects: [],\n        ordinal: 0,\n        touched: false,\n        uuid: v4()\n      }\n    ]\n  };\n  return defaultState;\n}\n\nexport const reducer = (state: $state, action: any)=>{\n  if(state === undefined){\n    state = getDefaultState()\n  }\n  if(action.type === DEFAULT_CONFIG_TYPE){\n    if(action.payload.flush){\n      return action.payload.data\n    }\n    const nextState = Object.keys(action.payload).reduce((acc: any, curr: string)=>{\n      acc[curr] = action.payload[curr];\n      localStorage.setItem(curr, JSON.stringify(action.payload[curr]))\n      return acc;\n    }, {...state});\n    put(SERVER_ADDRESS+'/users/config', {\n      body: action.payload\n    });\n    return nextState;\n  }\n  return state;\n}\n\nexport const createConfigAction = (payload: any)=>{\n  return {\n    type: DEFAULT_CONFIG_TYPE,\n    payload,\n  }\n}\n\ninterface $globalState {\n  config: $state\n}\n\nexport const configSelector = (state: $globalState)=>state.config\nexport const dashboardTabsSelector = (state: $globalState)=>state.config.dashboardTabs;\nexport const materialsSelector = (state: $globalState)=>state.config.materials;\nexport const materialTypesSelector = (state: $globalState)=>state.config.materialTypes;\nexport const addedActivitiesSelector = (state: $globalState)=>state.config.addedActivities;\nexport const wontDoActivitiesSelector = (state: $globalState)=>state.config.wontDoActivities;\nexport const completedActivitiesSelector = (state: $globalState)=>state.config.completedActivities;\nexport const addedActivitySelector = (id: string)=>(state: $globalState)=>state.config.addedActivities[id];\nexport const wontDoActivitySelector = (id: string)=>(state: $globalState)=>state.config.wontDoActivities[id];\nexport const completedActivitySelector = (id: string)=>(state: $globalState)=>state.config.completedActivities[id];\n","export const DEFAULT_GLOBAL_TYPE = 'DEFAULT_GLOBAL_TYPE';\n\nconst defaultState = {\n  snackbar: {\n    message: '',\n    id: ''\n  },\n};\n\nexport const reducer = (state=defaultState, action: any)=>{\n    if(action.type === DEFAULT_GLOBAL_TYPE){\n      return Object.keys(action.payload).reduce((acc: any, key)=>{\n        acc[key]=action.payload[key];\n        return acc\n      }, {...state})\n    }\n    return state;\n}\n\nexport const createGlobalAction = (payload: any)=>{\n  return {\n    type: DEFAULT_GLOBAL_TYPE,\n    payload,\n  }\n}\n\n\n\nexport const globalSelector = (state: any)=>state.global","export const DEFAULT_UI_TYPE = 'DEFAULT_UI_TYPE';\n\nconst getDefaultState = ()=>{\n  const ui = localStorage.getItem('ui');\n\n  const defaultObj = {\n    dashboard: {\n      tab: 0,\n      isEditing: true\n    },\n    addedActivities: {\n      tab: 0,\n    },\n    credits: {\n      count: 0,\n      hasNew: false\n    }\n  };\n  return ui ? {\n    ...defaultObj,\n    ...JSON.parse(ui)\n  } : defaultObj;\n}\n\n\n\n\nexport const reducer = (state: any, action: any)=>{\n  if(state === undefined){\n    state = getDefaultState();\n  }\n  if(action.type === DEFAULT_UI_TYPE){\n    const nextState = Object.keys(action.payload).reduce((acc: any, key)=>{\n      acc[key]=action.payload[key];\n      return acc\n    }, {...state})\n    localStorage.setItem('ui', JSON.stringify(nextState))\n    return nextState\n  }\n  return state;\n}\n\nexport const createUIAction = (payload: any)=>{\n  return {\n    type: DEFAULT_UI_TYPE,\n    payload,\n  }\n}\n\nexport const uiSelector = (state: any)=>state.ui\nexport const uiCreditsSelector = (state: any)=>state.ui.credits","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk';\nimport { reducer as config } from './config';\nimport { reducer as user } from './user';\nimport { reducer as global } from './global';\nimport { reducer as ui } from './ui';\n\nconst composeEnhancers =\n  typeof window === 'object' &&\n  (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?   \n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n      // Specify extensions options like name, actionsBlacklist, actionsCreators, serialize...\n    }) : compose;\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(thunk),\n);\n\nconst reducerDic : any = {\n  config,\n  user,\n  global,\n  ui\n};\n\nconst reducer = (state: any = {}, action: any)=>{\n  return Object.keys(reducerDic).reduce((acc, key)=>{\n    acc[key] = reducerDic[key](state[key], action);\n    return acc;\n  }, state)\n}\n\nexport const storeGenerator = ()=>createStore((state, action)=>{\n  if(action.type === 'RESET'){\n    localStorage.clear();\n    return reducer(undefined, action);\n  }\n  return reducer(state, action);\n}, enhancer);\n\nexport const store = storeGenerator()\n\nexport const dispatch = store.dispatch","import React from 'react';\nimport { Grid, Container } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    padding: '2rem'\n  },\n  ul: {\n    listStyleType: 'none'\n  }\n})\n\nexport default function Footer(){\n  const classes = useStyles();\n  return <Container className={classes.root} maxWidth=\"sm\">\n    <Grid container>\n      <Grid item>\n        <ul className={classes.ul}>\n          <li><Link to=\"/contact\">Contact Us</Link></li>\n        </ul>\n      </Grid>\n    </Grid>\n  </Container>\n}","export const getMaterialId = (id: string, req: any)=>id+req.raw\n\nexport const materialTypeNotMaterial = (materials: any, materialTypes: any)=>(id: string, req: any)=>{\n  return !materials[getMaterialId(id, req)] && materialTypeMatch(materialTypes)(req.types)\n}\n\nexport const materialTypeMatch = (materialTypes: any)=>(types: any)=>types.reduce((acc: any, curr: any)=>{\n  if(acc) return acc;\n  return materialTypes[curr];\n}, false);","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getMaterialId, materialTypeNotMaterial, materialTypeMatch } from '../utils';\nimport { createConfigAction, materialsSelector, materialTypesSelector } from '../../../utils/redux/config';\nimport { FormControlLabel, makeStyles } from '@material-ui/core';\nimport { FormGroup } from '@material-ui/core';\nimport { Checkbox } from '@material-ui/core';\n\nconst useStyle = makeStyles({\n  typeMatch: {\n    color: '#e0e0e0 !important',\n  }\n})\n\n\n\nexport default function MaterialsList({activity}: {activity: any}){\n  const classes = useStyle();\n  const materials = useSelector(materialsSelector);\n  const materialTypes = useSelector(materialTypesSelector);\n\n\n  const dispatch = useDispatch();\n  \n  const handleChange = (id: string, req: any)=>(event: any)=>{\n    const checked = event.target.checked || materialTypeNotMaterial(materials, materialTypes)(id, req);\n    const nextMaterials = {\n      ...materials,\n      [getMaterialId(id, req)]: checked\n    }\n    const nextMaterialTypes = req.types.reduce((acc: any, curr: string)=>{\n      acc[curr] = checked;\n      return acc\n    }, {...materialTypes});\n    dispatch(createConfigAction({\n      materials: nextMaterials,\n      materialTypes: nextMaterialTypes,\n    }));\n  }\n  const a = activity;\n  return  <FormGroup>\n  {\n    (a?.properties?.metaRequirements || []).map((req: any) => {\n      return <FormControlLabel\n        key={a.id+req.raw}\n        control={\n          <Checkbox\n            classes={{\n              checked: materialTypeNotMaterial(materials, materialTypes)(a.id, req) && classes.typeMatch\n            }}\n            checked={\n              !!(materials[\n                getMaterialId(a.id, req)\n              ]) || \n              materialTypeMatch(materialTypes)(req.types) || \n              false\n            }\n            onChange={handleChange(a.id, req)} \n            name={req.raw} />\n          }\n        label={\n          req.types.join(' or ')\n          // req.raw\n        }\n      />\n    })\n  }\n</FormGroup>\n}\n","import React from 'react';\nimport { makeStyles, FormControl, FormLabel } from '@material-ui/core';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\n\nimport MaterialsList from '../List';\n\n\nimport { ExpandMore as ExpandMoreIcon } from '@material-ui/icons';\n\n\nconst useStyles = makeStyles(theme=>({\n  root: {\n    margin: theme.spacing(3),\n  },\n}))\n\nconst useAccordionStyles = makeStyles({\n  root: {\n    height: '30px !important',\n    minHeight: '30px !important'\n  },\n  content: {\n    margin: '0 !important'\n  }\n})\n\n\nexport default function Accordions({data}: {data: any[]}){\n  const classes = useStyles();\n  const accordionClasses = useAccordionStyles();\n  return <FormControl component=\"fieldset\" className={classes.root}> \n  {\n    data.map(a=>{\n      return <Accordion defaultExpanded>\n        <AccordionSummary\n          classes={accordionClasses}\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n        <FormLabel component=\"legend\">{a.name}</FormLabel>\n        </AccordionSummary>\n        <AccordionDetails>\n          <MaterialsList activity={a} />\n        </AccordionDetails>\n      </Accordion>\n    })\n  }\n</FormControl>\n}","import React from 'react';\nimport { colors, Button } from '@material-ui/core';\nimport { Container, makeStyles, Typography, Grid } from '@material-ui/core';\nimport Accordions from '../../materials/Accordions';\nimport { Link } from 'react-router-dom';\n\nconst useMastStyles = makeStyles({\n  root: {\n    backgroundImage: \"url('https://images.unsplash.com/photo-1513542789411-b6a5d4f31634?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1267&q=80')\",\n    width: '100%',\n    height: '100vh',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundAttachment: 'scroll',\n    backgroundSize: 'cover',\n    position: 'relative'\n  },\n  title: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  signup: {\n    backgroundColor: colors.teal['A100'],\n  },\n  signupWrapper: {\n    width: '200px',\n    margin: '2rem auto',\n  },\n  login: {\n    backgroundColor: colors.teal['A100'],\n    position: 'absolute',\n    top: 20,\n    right: 10,\n    width: '150px',\n  }\n})\n\nconst useSubjectStyles = makeStyles({\n  root: {\n    padding: '5rem',\n    // backgroundColor: colors.teal['A100']\n    backgroundColor: colors.grey[50]\n  },\n  title: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  boxes: {\n    color: '#FFF',\n    backgroundSize: 'cover',\n    height: '200px',\n    width: '180px',\n    display: 'inline-block',\n    margin: '1rem',\n    borderRadius: '0.5rem'\n  }\n})\n\nconst useAgeStyles = makeStyles({\n  root: {\n    // padding: '5rem',\n    // backgroundColor: colors.teal['A100']\n    backgroundImage: \"url('https://images.unsplash.com/photo-1541710399304-4564edc17038?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80')\",\n    backgroundPosition: 'center',\n    backgroundSize: 'cover',\n    height: '400px',\n    width: '100%',\n  },\n  // img: {\n    \n  //   width: '400px',\n  //   height: '200px',\n  // }\n})\n\nconst useMaterialStyles = makeStyles({\n  root: {\n    padding: '5rem',\n    backgroundColor: colors.teal['A100']\n    // height: '400px',\n    // width: '100%',\n  },\n  // img: {\n    \n  //   width: '400px',\n  //   height: '200px',\n  // }\n})\n\n\n\n/**\n * Find activities by subject\n * Use age restrictions\n * Add activities to your schedule\n * Get the materials in each activity\n */\n\n\n \nexport default function Overview(){\n\n  const Bx = ({url, tag}: {url: string, tag: string})=><Grid container justify=\"center\" alignItems=\"flex-end\" className={subjectClasses.boxes}\n    style={{\n      backgroundImage: `url('${url}')`\n  }}>\n    <Grid item>\n      <Typography>#{tag}</Typography>\n    </Grid>\n  </Grid>\n  const mastClasses = useMastStyles();\n  const subjectClasses = useSubjectStyles();\n  const ageClasses = useAgeStyles();\n  const materialClasses = useMaterialStyles();\n  const signupButton = <div className={mastClasses.signupWrapper}><Link to=\"/signup\"><Button fullWidth className={mastClasses.signup}>Try for free</Button></Link></div>\n  return <Container disableGutters>\n    <Grid className={mastClasses.root} container justify=\"center\" alignItems=\"center\">\n      <Grid item xs={12}>\n        <Typography align=\"center\" variant=\"h2\">Activities for kids</Typography>\n        {\n          signupButton\n        }\n      </Grid>\n      <Typography variant=\"h1\" className={mastClasses.title}>acts</Typography>\n      <Link to=\"/login\"><Button className={mastClasses.login}>Login</Button></Link>\n    </Grid>\n    <Grid container className={subjectClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n        <Typography variant=\"h6\">Choose Activities By Subject</Typography>\n      </Grid>\n      <Grid item>\n        <div>\n          <div>\n            <Bx tag=\"stem\" url=\"https://images.unsplash.com/photo-1560961911-ba7ef651a56c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1334&q=60\" />\n            <Bx tag=\"arts&crafts\" url=\"https://images.unsplash.com/photo-1596495718166-7ac739ca1bc4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </div>\n          <div>\n            <Bx tag=\"active\" url=\"https://images.unsplash.com/photo-1489710437720-ebb67ec84dd2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n            <Bx tag=\"sensory\" url=\"https://images.unsplash.com/photo-1504484440176-4f89a392c862?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </div>\n          <div>\n            <Typography align=\"center\">And many more...</Typography>\n          </div>\n        </div>\n      </Grid>\n    </Grid>\n    <Grid container className={ageClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n      <Typography variant=\"h6\">Age appropriate activities</Typography>\n      </Grid>\n    </Grid>\n    <Grid container className={materialClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n        <Accordions data={[\n          {\n            id: '1',\n            name: 'Extreme paper airplanes',\n            properties: {\n              metaRequirements: [\n                {\n                  raw: 'paper',\n                  types: ['paper'],\n                },\n                {\n                  raw: 'scissor',\n                  types: ['scissors'],\n                },\n                {\n                  raw: 'glue',\n                  types: ['glue'],\n                }\n              ]\n            }\n          },\n          {\n            id: '2',\n            name: 'Watercolor tissue flowers',\n            properties: {\n              metaRequirements: [\n                {\n                  raw: 'tissue',\n                  types: ['tissue'],\n                },\n                {\n                  raw: 'watercolor paint',\n                  types: ['watercolor paint'],\n                },\n                {\n                  raw: 'pipe cleaners',\n                  types: ['pipe cleaners'],\n                }\n              ]\n            }\n          }\n        ]} />\n      </Grid>\n      <Grid item>\n      <Typography variant=\"h6\">A materials checklist for all of your scheduled activities in one place</Typography>\n      </Grid>\n    </Grid>\n    <Grid container className={subjectClasses.root} justify=\"center\" alignItems=\"center\">\n        <Grid item>\n          <Typography variant=\"h3\" align='center'>Make activities work for you</Typography>\n          {\n            signupButton\n          }\n        </Grid>\n    </Grid>\n  </Container>\n}","import { loadStripe } from '@stripe/stripe-js';\nimport { get, SERVER_ADDRESS } from '../remote';\n\nconst stripePromise = loadStripe((process.env.REACT_APP_STRIPE_PUBLIC_KEY as string));\n\nexport async function setupIntents(){\n  // Call your backend to create the Checkout session.\n  const session = await get(SERVER_ADDRESS+'/users/payments/sessions');\n  // When the customer clicks on the button, redirect them to Checkout.\n  const stripe = await stripePromise;\n  if( stripe){\n    const { error } = await stripe.redirectToCheckout({\n      sessionId: session.id,\n    });\n  }\n}      \n      ","import React, { useEffect, useState } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { v4 } from 'uuid';\nimport * as yup from 'yup';\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers';\n\nimport { SERVER_ADDRESS, post } from '../../../utils/remote';\nimport { setToken } from '../../../utils/auth';\n\nimport { useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { createUserAction } from '../../../utils/redux/user';\nimport { makeStyles } from '@material-ui/styles';\nimport { Card, CardActions, CardContent, CardHeader, Divider } from '@material-ui/core';\nimport qs from 'query-string';\nimport { setupIntents } from '../../../utils/stripe';\nimport { Box } from '@material-ui/core';\nexport const endpoint = SERVER_ADDRESS+'/privateUsers';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '300px',\n    margin: '0 auto',\n  },\n})\n\nexport function UserCreate() {\n  const classes = useStyles();\n  const [id] = useState(v4())\n  return (\n    <div>\n      <Card className={classes.root}>\n        <CardHeader title=\"Signup\"/>\n          <UserCreateForm\n            key={id}\n            id={id}\n          />\n      </Card>\n    </div>\n  );\n}\n\nconst schema = yup.object().shape({\n  // username: yup.string().matches(/^[a-z0-9]+$/i, 'Only alphanumeric characters').required(),\n  email: yup.string().email().required(),\n  password: yup.string().min(6).max(122).required(),\n  referralCode: yup.string().optional(),\n});\n\n\n\nconst UserCreateForm = ({id}: {id: string})=>{\n  const location = useLocation();\n  const parsed = qs.parse(location.search);\n  const { handleSubmit, register, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n  const [apiErrors, setApiErrors] = useState<string>(\"\");\n  const [referralCodeError, setReferralCodeError] = useState<string>(\"\");\n  \n  const dispatch = useDispatch();\n  useEffect(()=>{\n    if(parsed.referral_code){\n      yup.string().uuid()\n      .isValid(parsed.referral_code).then((valid)=>{\n        if(!valid){\n          setReferralCodeError(\"Bad referral code. You may continue to signup, but the referral will not be counted towards possible credits\")\n        }\n      })\n    }\n  }, [])\n  const validReferralCode = referralCodeError ? \"\" : (parsed.referral_code || '');\n  const onSubmit = async (data: any) => {    \n    post(endpoint, {\n      body:\n        {\n          id: v4(),\n          // username: data.username,\n          email: data.email,\n          password: data.password,\n          referralCode: data.referralCode\n        }\n    }).then(async (res)=>{\n      setToken(res.data);\n      dispatch(createUserAction(res.data));\n      setupIntents()\n    })\n    .catch((error)=>{\n      error.json().then((err: any) => {\n        setApiErrors(err.message);\n      });\n    });\n  }\n  const errorExists = referralCodeError || apiErrors;\n  return <form\n      onSubmit={handleSubmit(onSubmit)}\n    >\n    <CardContent>\n      {\n        !errorExists ? null : <Typography variant=\"body2\" color=\"secondary\">{errorExists}</Typography>\n      }\n      <TextField\n        id=\"email\"\n        name=\"email\"\n        inputRef={register}\n        label=\"Email\"\n        fullWidth\n        error={!!errors.email}\n        helperText={errors.email?.message}\n      />\n      <TextField \n        fullWidth\n        inputRef={register}\n        id=\"password\"\n        name=\"password\"\n        label=\"Password\"\n        type=\"password\"\n        error={!!errors.password}\n        helperText={errors.password?.message}\n      />\n      <input ref={register} name=\"referralCode\" hidden value={validReferralCode} />\n    </CardContent>\n    <CardContent>\n      {\n          <Typography variant=\"body1\"><Box fontWeight=\"fontWeightBold\" m=\"1\">{`${validReferralCode ? 'First two months are free' : 'First month is free'}`}</Box></Typography>\n      }\n      <Divider/>\n      <Typography variant=\"body2\">Monthly price is $2.00(USD)/month</Typography>\n      <Typography variant=\"body2\">Cancel at anytime</Typography>\n    </CardContent>\n    <CardActions>\n      <Button type=\"submit\">Signup</Button>\n    </CardActions>\n  </form>\n}","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport * as yup from 'yup';\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers';\n\nimport { SERVER_ADDRESS, post } from '../../../utils/remote';\nimport { setToken } from '../../../utils/auth';\nimport { dispatch } from '../../../utils/redux';\nimport jwt from 'jsonwebtoken';\nimport { useHistory } from 'react-router-dom';\nimport { createUserAction } from '../../../utils/redux/user';\nimport { makeStyles } from '@material-ui/styles';\nimport { Card, CardContent } from '@material-ui/core';\n\nconst schema = yup.object().shape({\n  email: yup.string().email().required(),\n  password: yup.string().max(122).required(),\n});\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '300px',\n    margin: '0 auto',\n  }\n})\n\nexport function SessionCreate() {\n  const classes = useStyles();\n  const history = useHistory();\n  const { handleSubmit, register, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = (data: any) => {\n    post(SERVER_ADDRESS+'/sessions', {\n      body:\n        {\n          email: data.email,\n          password: data.password,\n        }\n    }).then((res)=>{\n      setToken(res.data);\n      dispatch(createUserAction(res.data));\n      history.push('/');\n    });\n  }\n  return (\n    <div>\n      <Card className={classes.root}>\n        <CardContent>\n        <Typography variant=\"h6\" component=\"h1\">Login</Typography>\n        <form\n          onSubmit={handleSubmit(onSubmit)}\n        >\n          <div>\n            <TextField\n              name=\"email\"\n              inputRef={register}\n              label=\"Email\"\n              error={!!errors.email}\n              helperText={errors.email?.message}\n              fullWidth\n            />\n          </div>\n          <div>\n            <TextField \n              inputRef={register}\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              error={!!errors.password}\n              helperText={errors.password?.message}\n              fullWidth\n            />\n          </div>\n          <Button type=\"submit\">Login</Button>\n        </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react'\nimport classnames from 'classnames'\n\ntype $props = {outline?: Boolean, light?: Boolean, raw?: string, className?: string, size?: string|number, type?: string, style?: Object}\n\nexport default function FAIcon(props: $props){\n  const type = getType(props);\n  const name = getName(props);\n  const size = props.size\n  return <i style={props.style || {}} className={classnames(props.className, type, name, size && 'la-'+size)} />\n}\n\nfunction getType(props: $props){\n  if(props.outline) return 'lar';\n  if(props.light) return 'lal';\n  if(props.raw) return props.raw.split(' ')[0];\n  return 'las';\n}\n\nfunction getName(props: $props){\n  if(props.raw) return props.raw.split(' ')[1];\n  return `la-${props.type}`\n}","import blacklist from 'blacklist';\nimport { Function0 } from 'lodash';\nimport { createConfigAction, configSelector } from '../../../../utils/redux/config';\n\n\n// const updateLocalAddedActivities = (addedActivities)=>{\n//   localStorage.setItem('addedActivities', JSON.stringify(addedActivities))\n// }\n\nexport const removeActivity = (activity: any)=>(dispatch: Function, getState: Function)=>{\n  const nextAddedActivities = blacklist(configSelector(getState()).addedActivities, activity.id);\n  // updateLocalAddedActivities(nextAddedActivities);\n\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities,\n  }))\n}\n\nexport const addActivity = (activity: any)=>(dispatch: any, getState: any)=>{\n  const nextAddedActivities = {\n    ...configSelector(getState()).addedActivities,\n    [activity.id]: {\n      \n    }\n  };\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }))\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const purgeActivities = (activities: any)=>(dispatch: Function, getState: Function)=>{\n  const { addedActivities } = configSelector(getState());\n  const nextAddedActivities = activities.reduce((acc: any, curr: any)=>{\n    acc[curr.id] = addedActivities[curr.id]\n    return acc;\n  }, {});\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }))\n  // updateLocalAddedActivities(nextAddedActivities);  \n}\n\nexport const updateActivities = (activityRelationships: any)=>(dispatch: Function, getState: Function)=>{\n  const nextAddedActivities = activityRelationships.reduce((acc: any, curr: any)=>{\n    acc[curr.id].ordinal=curr.ordinal\n    return acc;\n  }, {...configSelector(getState()).addedActivities});\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }));\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const addActivityToSchedule = (activity: any)=>(dispatch: Function, getState: Function)=>{\n  const { addedActivities } = configSelector(getState());\n  const highestOrdinal = Object.values(addedActivities).reduce((acc: number, curr: any)=>{\n    if(curr.inSchedule && curr.ordinal > acc){\n      return curr.ordinal\n    }\n    return acc\n  }, 0)\n  const nextAddedActivities = {\n    ...addedActivities,\n    [activity.id]: {\n      ...(addedActivities[activity.id] || {}),\n      inSchedule: true,\n      ordinal: highestOrdinal+1,\n    }\n  };\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }));\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const removeActivityFromSchedule = (activity: any)=>(dispatch: Function, getState: Function)=>{\n  const { addedActivities } = configSelector(getState());\n  const nextAddedActivities = {\n    ...addedActivities,\n    [activity.id]: {\n      ...addedActivities[activity.id],\n      inSchedule: false,\n    }\n  };\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }));\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const addCompletedActivity = (activity: any)=>(dispatch: Function, getState: Function)=>{\n  const completedActivities = {\n    ...configSelector(getState()).completedActivities,\n    [activity.id]: {\n      \n    }\n  };\n  const nextAddedActivities = blacklist(configSelector(getState()).addedActivities, activity.id);\n\n  // updateLocalAddedActivities(nextAddedActivities);\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities,\n    completedActivities\n  }));\n\n  // localStorage.setItem('completedActivities', JSON.stringify(completedActivities));\n}\n\nexport const addDroppedActivity = (activity: any)=>(dispatch: Function, getState: Function)=>{\n\n  const wontDoActivities = {\n    ...configSelector(getState()).wontDoActivities,\n    [activity.id]: {\n      \n    }\n  };\n  const nextAddedActivities = blacklist(configSelector(getState()).addedActivities, activity.id);\n  // updateLocalAddedActivities(nextAddedActivities);\n\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities,\n    wontDoActivities\n  }))\n  // localStorage.setItem('wontDoActivities', JSON.stringify(wontDoActivities));\n}","import React from 'react'\nimport {\n    addActivity,\n    removeActivity,\n    removeActivityFromSchedule,\n    addActivityToSchedule\n} from '../utils';\nimport FAIcon from '../../../../components/general/FAIcon';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addedActivitySelector } from '../../../../../utils/redux/config';\nimport { IconButton } from '@material-ui/core';\n\ntype $props = any;\n\nexport default function AddActivityButtons({activity, classes, directToSchedule, button}: $props){\n  const dispatch = useDispatch();\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  if(directToSchedule){\n    return addedActivity ? <IconButton classes={classes} onClick={()=>{\n      dispatch(removeActivityFromSchedule(activity));\n    }} color=\"primary\">\n      <FAIcon type=\"calendar-minus\" />\n    </IconButton> : \n    <IconButton classes={classes} onClick={()=>{\n      dispatch(addActivityToSchedule(activity));\n    }} color=\"primary\"><FAIcon type=\"calendar-plus\" /></IconButton>\n  }\n  return addedActivity ? <IconButton classes={classes} onClick={()=>{\n    dispatch(removeActivity(activity))\n  }} color=\"secondary\">\n    <FAIcon type=\"bookmark\" />\n  </IconButton> : \n  <IconButton classes={classes} onClick={()=>{\n    dispatch(addActivity(activity))\n  }} color=\"primary\"><FAIcon type=\"bookmark\" /></IconButton>\n}","import React from 'react';\nimport { Popover } from '@material-ui/core';\nimport { debounce } from 'lodash';\n\ntype $props = {\n  disableHover?: Boolean,\n  disablePopup?: Boolean,\n  className?: string,\n  renderHoverableContent: Function,\n  renderOnHoverContent: Function,\n  popoverProps?: any,\n  popoverClasses?: Object\n}\n\nexport default function MyPopover({disablePopup, disableHover, className, popoverClasses, renderHoverableContent, renderOnHoverContent, popoverProps={}} : $props){\n  const [mouseStopped, setMouseStopped] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [candidateAnchorEl, setCandidateAnchorEl] = React.useState(null);\n  const debouncedSetMouseStopped = debounce(()=>setMouseStopped(true), 500);\n  React.useEffect(()=>{\n    if(candidateAnchorEl && mouseStopped){\n      setAnchorEl(candidateAnchorEl);\n    }\n  }, [candidateAnchorEl, mouseStopped])\n  \n  const handleHide = ()=>{\n    setCandidateAnchorEl(null);\n    setAnchorEl(null);\n    setMouseStopped(false)\n  }\n  const hoverableContentProps = {\n    onClick(event: any){\n      setAnchorEl(event.currentTarget)\n    },\n    onMouseEnter(event: any){\n      if(!disableHover) setCandidateAnchorEl(event.currentTarget)\n    },\n    onMouseLeave(event: any){\n      if(!disableHover) setCandidateAnchorEl(null)\n    },\n    onMouseMove(){\n      if(!disableHover) debouncedSetMouseStopped()\n    },\n  }\n  if(disablePopup)\n    return <div className={className}>{renderHoverableContent()}</div>\n  return <><div className={className}\n        // onMouseLeave={handleHide}\n        {...hoverableContentProps}\n    >\n      {\n        renderHoverableContent()\n      }\n    </div>\n    <Popover\n      classes={popoverClasses}\n      open={Boolean(anchorEl)}\n      anchorEl={anchorEl}\n      {...popoverProps}\n      onClose={()=>{\n        handleHide()\n        if(popoverProps.onClose) popoverProps.onClose();\n      }}\n      disableRestoreFocus\n    >\n      <div\n      // onMouseLeave={handleHide}\n      >\n        {\n          renderOnHoverContent()\n        }\n      </div>\n    </Popover>\n  </>\n}\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport classNames from 'classnames';\nimport { useSelector } from 'react-redux';\n\nimport { materialTypeMatch, getMaterialId } from '../utils';\nimport MaterialsList from '../List';\nimport FAIcon from '../../components/general/FAIcon';\n\nimport MyPopover from '../../components/general/Popover';\nimport { materialsSelector, materialTypesSelector } from '../../../utils/redux/config';\n\nconst useStyles = makeStyles(theme => ({\n  tagContent: {\n    width: 'fit-content',\n    margin: '0 auto',\n    marginTop: '7px',\n  },\n  perfectScore: {\n    color: theme.palette.secondary.main,\n  },\n  closeScore: {\n    color: theme.palette.primary.main,\n  }\n}));\n\n\nconst usePopoverStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(2),\n    width: '160px',\n    maxHeight: '200px',\n    overflowY: 'scroll',\n  },\n}))\nexport default function MaterialsTag({activity, className}: {activity: any, className: string}){\n  const materials = useSelector(materialsSelector);\n  const materialTypes = useSelector(materialTypesSelector);\n\n  const score = activity?.properties?.metaRequirements.reduce((acc: number, req: any)=>{\n    return acc + Number(!(materials[getMaterialId(activity.id, req)] || materialTypeMatch(materialTypes)(req.types) || false));\n  }, 0);\n  \n  \n  const classes = useStyles();\n  const popoverClasses = usePopoverStyles()\n  \n  return <MyPopover\n    className={className}\n    popoverClasses={popoverClasses}\n    renderHoverableContent={()=><div\n      className={classes.tagContent}\n      >\n      <FAIcon className={classNames({\n        [classes.perfectScore]: !score,\n        [classes.closeScore]: score > 0 && score < 4\n      })} size=\"2x\" raw={classNames({\n        'las la-list-alt': !score,\n        'las la-list': score > 3,\n        'las la-tasks': score > 0 && score < 4\n      })} /></div>}\n    renderOnHoverContent={()=><MaterialsList activity={activity} />}\n    popoverProps={\n      {\n        anchorOrigin: {\n          vertical: 'bottom',\n          horizontal: 'left',\n        },\n        transformOrigin: {\n          vertical: 'bottom',\n          horizontal: 'left',\n        }\n      }\n    }\n  />\n}\n\n","import React from 'react';\nimport { v4 } from 'uuid';\nimport { MoreVert } from '@material-ui/icons';\nimport { Menu } from '@material-ui/core';\nimport { IconButton } from '@material-ui/core';\n\ntype $props = {\n  renderIcon?: any,\n  renderMenuItems: (arg: Function)=>any,\n  buttonComp?: any,\n  buttonProps?: any,\n  id?: string,\n}\n\nexport default function IconMenu(props: $props) {\n  const [anchorEl, setAnchorEl] = React.useState<HTMLElement|null>(null);\n  const [id] = React.useState(v4())\n\n  const handleClick = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const Button = props.buttonComp || IconButton;\n  return (\n    <div>\n      <Button aria-controls=\"menu\" aria-haspopup=\"true\" onClick={handleClick} {...(props.buttonProps || {})}>\n        {props.renderIcon || <MoreVert/> }\n      </Button>\n      <Menu\n        id={props.id || id}\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n      {\n        props.renderMenuItems(handleClose)\n      }\n      </Menu>\n    </div>\n  );\n}","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Check } from '@material-ui/icons';\nimport { Clear } from '@material-ui/icons';\nimport { ListItemText } from '@material-ui/core';\nimport { ListItemIcon } from '@material-ui/core';\nimport { MenuItem } from '@material-ui/core';\nimport { EventAvailableRounded } from '@material-ui/icons';\n\n\nimport IconMenu from '../../../../components/general/IconMenu';\nimport {\n    addCompletedActivity,\n    addDroppedActivity,\n    addActivityToSchedule,\n    removeActivityFromSchedule\n} from '../utils';\nimport { addedActivitiesSelector } from '../../../../../utils/redux/config';\n\n\nexport default function AddActivityOptions({activity}: {activity: any}){\n  const addedActivities = useSelector(addedActivitiesSelector);\n  const dispatch = useDispatch();\n  return <IconMenu\n    renderMenuItems={(handleClose)=>{\n      return [\n        addedActivities[activity.id].inSchedule ? <MenuItem onClick={()=>{\n          dispatch(removeActivityFromSchedule(activity))\n          handleClose()\n        }}>\n        <ListItemIcon>\n          <EventAvailableRounded color=\"secondary\" fontSize=\"small\" />\n        </ListItemIcon>\n      <ListItemText primary=\"Remove From Schedule\" />\n    </MenuItem> : <MenuItem onClick={()=>{\n          dispatch(addActivityToSchedule(activity))\n          handleClose()\n        }}>\n        <ListItemIcon>\n          <EventAvailableRounded color=\"primary\" fontSize=\"small\" />\n        </ListItemIcon>\n      <ListItemText primary=\"Add To Schedule\" />\n    </MenuItem>,\n    <MenuItem onClick={()=>{\n      dispatch(addCompletedActivity(activity))\n      handleClose()\n    }}>\n        <ListItemIcon>\n          <Check color=\"primary\" fontSize=\"small\" />\n        </ListItemIcon>\n      <ListItemText primary=\"Done\" />\n      </MenuItem>,\n        <MenuItem onClick={()=>{\n          dispatch(addDroppedActivity(activity))\n          handleClose() \n        }}><ListItemIcon>\n            <Clear color=\"secondary\" fontSize=\"small\" />\n            </ListItemIcon>\n          <ListItemText primary=\"Remove\" />\n        </MenuItem>\n      ]\n    }}\n  />\n}","import React from 'react';\nimport { Fade } from 'react-slideshow-image';\nimport 'react-slideshow-image/dist/styles.css'\n\nconst hidden = <div style={{display: 'none'}}/>\n\ntype $props = {\n  images: any[]\n}\n\nexport default function Slideshow({images}: $props){\n    return (\n      <Fade \n      prevArrow={hidden}\n      nextArrow={hidden}\n      autoplay\n      duration={500}\n      pauseOnHover={false}\n      infinite\n      easing=\"ease\"\n      >\n      {\n        images//.map((img, i) => <div className=\"each-slide\" key={i}>{img}</div>)\n      }\n      </Fade>\n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport Slideshow from '../../../../components/general/Slideshow';\n\nconst useStyles = makeStyles(theme => ({\n  img: {\n    width: '100%',\n    height: '19rem',\n    backgroundSize: 'cover !important',\n    // overflowY: 'hidden',\n  }\n}));\n\nexport default function ActivitiesPreviewImages({activity, className}: {activity: any, className?: string}){\n  const classes = useStyles();\n  return <Slideshow images={activity.properties.imgLinks.map((img: any) => <div className={classes.img} style={{'background': `url(${img.src}) no-repeat center center`}}></div>)}/>\n}\n\n","import React from 'react';\nimport {Typography, Tooltip, Card, CardHeader, makeStyles } from '@material-ui/core';\nimport _ from 'lodash';\nimport { Link } from 'react-router-dom';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport StarRatings from 'react-star-ratings';\nimport { useSelector } from 'react-redux';\nimport LinesEllipsis from 'react-lines-ellipsis'\nimport blue from '@material-ui/core/colors/blue';\nimport { amber } from '@material-ui/core/colors';\nimport { CardContent } from '@material-ui/core';\n\nimport FAIcon from '../../FAIcon';\nimport AddActivityButtons from '../../../../shedules/activities/added/Button';\nimport MaterialsTag from '../../../../materials/Tag';\nimport AddActivityOptions from '../../../../shedules/activities/added/Options';\nimport MyPopover from '../../Popover';\nimport ActivitiesPreviewImages from '../../../../shedules/activities/preview/Images';\nimport {     addedActivitySelector,\n  wontDoActivitySelector,\n  completedActivitySelector } from '../../../../../utils/redux/config';\nimport classNames from 'classnames';\n\nconst useActivityButtonStyles = makeStyles({\n  root: {\n    display: 'block',\n    padding: '5px',\n  }\n})\n\nconst useStyles = makeStyles((theme)=>({\n  activityRoot: {\n    display: \"inline-block\",\n    width: \"280px\",\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n    // '&:hover $addActivity': {\n    //   height: '50px'\n    // } \n\n  },\n  tagRoot: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '280px',\n    height: '150px',\n    flexWrap: 'wrap',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    alignContent: 'flex-start',\n    padding: 0,\n    paddingBottom: '0 !important',\n    \n    overflow: 'hidden',\n  },\n  tag: {\n    display: 'inline-block',\n    width: '78px',\n    height: '48px',\n    marginRight: '2px',\n    marginBottom: '2px',\n    cursor: 'pointer',\n  },\n  imageTag: {\n    position: 'relative',\n    overflow: 'hidden',\n    width: '120px',\n    height: '150px',\n    cursor: 'pointer',\n  },\n  activityTitle: {\n    whiteSpace: 'normal',\n    textDecoration: 'none',\n    height: '3rem',\n    // overflow: 'hidden',\n  },\n  sheduleTitle: {\n    fontSize: '1rem',\n    color: theme.palette.primary.main,\n    textDecoration: 'none',\n    fontWeight: 500,\n  },\n  sideContent: {\n    display: 'inline-block',\n    verticalAlign: 'super',\n  },\n  starSideContent: {\n    display: 'block',\n    textAlign: 'center',\n  },\n\n  tagContent: {\n    width: 'fit-content',\n    margin: '0 auto',\n    marginTop: '7px',\n  },\n  activityImage: {\n    top: '50%',\n    width: '100%',\n    position: 'relative',\n    transform: 'translateY(-50%)',\n  },\n  headerRoot: {\n    borderBottom: '#b4b0b0 solid 1px',\n  },\n\n}));\n\nconst usePopoverStyles = makeStyles(theme => ({\n  paper: {\n    width: '350px',\n    height: '300px',\n  }\n}));\n\ntype $props = any\n\nconst SheduleSlot = React.memo(function SheduleSlot(props: $props){\n  \n  const activityButtonClasses = useActivityButtonStyles()\n  const activity = props.shedule;\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n\n  const classes = useStyles();\n  const popoverClasses = usePopoverStyles();\n  if(completedActivity || wontDoActivity) return null;\n  if(!props.addedActivityPage && addedActivity) return null;\n  const uniqueTags: any[] = _.uniqBy(activity.tags, 'id')\n  const tags: any[] = uniqueTags.filter((tag: any)=>(tag.name.indexOf('age') === -1));\n  const [minAge, maxAge] = uniqueTags.filter((tag: any)=>(tag.name.indexOf('age') > -1)).reduce((acc: any, curr: any)=>{\n    const age = curr.name.split('-')[1];\n    if(!acc[0]){\n      acc[0] = age;\n    } \n    if(acc[0] > age){\n      acc[0] = age;\n    }\n    if(!acc[1]){\n      acc[1] = age;\n    } \n    if(acc[1] < age){\n      acc[1] = age;\n    }\n    return acc;\n  }, [undefined, undefined])\n\n  const activityLinkTo = \"/shedules/activities/\"+activity.id;\n\n  return <Card key={activity.id} className={classNames(props.className, classes.activityRoot)}>\n    <CardHeader\n      classes={\n        {\n          root: classes.headerRoot\n        }\n      }\n      title={\n        <Tooltip title={activity.name}><div className={classes.activityTitle}>\n          <Link className={classes.sheduleTitle} to={activityLinkTo}>\n            <Typography component=\"h3\" className={classes.sheduleTitle}>\n              <LinesEllipsis\n              text={activity.name}\n              maxLine='2'\n              ellipsis='...'\n              basedOn='letters'\n              />\n            </Typography>\n          </Link>\n        </div>\n        </Tooltip>\n      }\n      action={props.addedActivityPage ? <AddActivityOptions activity={activity} />\n      : <>\n        <AddActivityButtons classes={activityButtonClasses} activity={activity} /> \n        <AddActivityButtons directToSchedule classes={activityButtonClasses} activity={activity} /> \n      </>\n      }\n    />\n    \n\n    <CardContent className={classes.tagRoot}>\n      {\n        activity.shares ? <div style={{color: blue[700] }}  className={classes.tag}>\n          \n        {\n\n          // <Tooltip title={`This activity has been shared on facebook twitter and pinterest a combined ${activity.shares} times`}>\n          <Tooltip title={`This activity has a rating of ${activity.shares/10} out of 5`}>\n            <div className={classes.tagContent}>\n              {\n                // <FAIcon size=\"2x\" outline type=\"star\" />\n                <span><StarRatings\n                  rating={activity.shares/10}\n                  starDimension=\"10px\"\n                  starSpacing=\"2px\"\n                  starRatedColor={amber[700]}\n                />\n                </span>\n              }\n              {\n                // <Typography className={classes.sideContent}>{numab(activity.shares, 1)}</Typography>\n              }\n              <Typography className={classes.starSideContent}>{activity.shares/10}</Typography>\n            </div>\n          </Tooltip>\n        }\n        </div> : null\n      }\n        {\n          maxAge === undefined ? null : <div className={classes.tag}>\n            <Tooltip title={`For kids ${minAge} to ${maxAge} years old`}>\n              <div className={classes.tagContent}\n              >\n                <FAIcon size=\"2x\" outline type=\"grin\" />\n                <Typography className={classes.sideContent}>{`${minAge}${minAge === maxAge ? '' : `:${maxAge}Y`}`}</Typography>\n              </div>\n            </Tooltip>\n          </div>\n        }\n        {\n          (!activity.properties.metaRequirements || !activity.properties.metaRequirements.length) ? null : <MaterialsTag className={classes.tag} activity={activity}/>\n        }\n      {\n        tags.slice(0, 2 + (maxAge === undefined ? 0 : 1)).map((tag: any, i: number) => {      \n          return <div\n          //  style={{backgroundColor: tag.color}}\n            className={classes.tag} key={tag.id + i}>\n          <Tooltip title={`#${tag.name}: ${tag.description}`}>\n            <div className={classes.tagContent}>\n              <FAIcon raw={tag.icon} size=\"2x\" />\n              {\n                tag.sideContent && <Typography className={classes.sideContent}>{tag.sideContent}</Typography>\n              }\n            </div>\n        </Tooltip>\n            \n          </div>\n        })    \n      }\n      {\n        \n            <MyPopover\n              disablePopup={activity.properties.imgLinks.length < 2}\n              popoverClasses={popoverClasses}\n              popoverProps={{\n                anchorOrigin: {\n                  vertical: 'bottom',\n                  horizontal: 'right',\n                },\n                transformOrigin: {\n                  vertical: 'bottom',\n                  horizontal: 'right',\n                }\n              }}\n              renderOnHoverContent={\n                ()=><ActivitiesPreviewImages activity={activity} />\n              }\n              renderHoverableContent={\n                ()=><div className={classes.imageTag} style={{\n                  cursor: activity.properties.imgLinks.length < 2 ? 'default' : 'pointer'\n                }}>\n                  <LazyLoadImage \n                  height={150}\n                  src={activity.image}\n                  alt={activity.name}\n                  className={classes.activityImage}\n                  style={{\n                    display: 'block',\n                    marginLeft: 'auto',\n                    marginRight: 'auto',\n\n                  }}\n                />\n              </div>\n            }\n          />\n      }\n    </CardContent>    \n  </Card>     \n});\n\n\nexport default SheduleSlot","import React from 'react';\nimport {Typography, Tooltip, makeStyles } from '@material-ui/core';\nimport _ from 'lodash';\nimport StarRatings from 'react-star-ratings';\n\nimport blue from '@material-ui/core/colors/blue';\nimport { amber } from '@material-ui/core/colors';\nimport { CardContent } from '@material-ui/core';\n\nimport FAIcon from '../../FAIcon';\nimport MaterialsTag from '../../../../materials/Tag';\n\ntype $props = {\n  activity: any\n} & $styleProps;\n\ntype $styleProps = {\n  direction?: any,\n  width?: string,\n  height?: string,\n}\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: (props: $styleProps)=>props.direction || 'column',\n    width: (props: $styleProps)=>props.width || '280px' ,\n    height: (props: $styleProps)=>props.height || '150px',\n    flexWrap: 'wrap',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    alignContent: 'flex-start',\n    padding: 0,\n    paddingBottom: '0 !important',\n    overflow: 'hidden',\n  },\n  tag: {\n    display: 'inline-block',\n    width: '78px',\n    height: '48px',\n    marginRight: '2px',\n    marginBottom: '2px',\n    cursor: 'pointer',\n  },\n  sideContent: {\n    display: 'inline-block',\n    verticalAlign: 'super',\n  },\n  starSideContent: {\n    display: 'block',\n    textAlign: 'center',\n  },\n  tagContent: {\n    width: 'fit-content',\n    margin: '0 auto',\n    marginTop: '7px',\n  },\n});\n\nconst Tags = React.memo(function Tags({activity, ...styleProps}: $props){\n  const classes = useStyles(styleProps);\n  const uniqueTags : any[] = _.uniqBy(activity.tags, 'id')\n  const tags: any[] = uniqueTags.filter((tag: any)=>(tag.name.indexOf('age') === -1));\n  const [minAge, maxAge] = uniqueTags.filter(tag=>(tag.name.indexOf('age') > -1)).reduce((acc, curr)=>{\n    const age = curr.name.split('-')[1];\n    if(!acc[0]){\n      acc[0] = age;\n    } \n    if(acc[0] > age){\n      acc[0] = age;\n    }\n    if(!acc[1]){\n      acc[1] = age;\n    } \n    if(acc[1] < age){\n      acc[1] = age;\n    }\n    return acc;\n  }, [undefined, undefined])\n  return <CardContent className={classes.root}>\n    {\n      activity.shares ? <Tag style={{color: blue[700] }}  tooltip={`This activity has a rating of ${activity.shares/10} out of 5`}>\n        {\n          // <FAIcon size=\"2x\" outline type=\"star\" />\n          <span><StarRatings\n            rating={activity.shares/10}\n            starDimension=\"10px\"\n            starSpacing=\"2px\"\n            starRatedColor={amber[700]}\n          />\n          </span>\n        }\n        {\n          // <Typography className={classes.sideContent}>{numab(activity.shares, 1)}</Typography>\n        }\n        <Typography className={classes.starSideContent}>{activity.shares/10}</Typography>\n      </Tag>\n      : null\n    }\n    {\n      maxAge === undefined ? null : <Tag tooltip={`For kids ${minAge} to ${maxAge} years old`} iconProps={{outline: true, type: 'grin'}} sideContent={`${minAge}${minAge === maxAge ? '' : `:${maxAge}Y`}`} />\n    }\n    {\n      (!activity.properties.metaRequirements || !activity.properties.metaRequirements.length) ? null : <MaterialsTag className={classes.tag} activity={activity}/>\n    }\n    {\n      tags.slice(0, 2 + (maxAge === undefined ? 0 : 1)).map((tag, i) => {\n        return <Tag key={i} tooltip={`#${tag.name}: ${tag.description}`} iconProps={{raw: tag.icon}} sideContent={tag.sideContent} />\n      })    \n    }\n  </CardContent>  \n});\n\n\nexport default Tags\n\n\ntype $tagProps = {\n  style?: Object,\n  iconProps?: Object,\n  tooltip: string,\n  children?: any,\n  sideContent?: string\n}\n\nfunction Tag({style, tooltip, children, iconProps, sideContent}: $tagProps){\n  const classes = useStyles();\n  return <Tooltip title={tooltip}>\n    <div style={style} className={classes.tag}>\n      <div className={classes.tagContent}>\n      {\n        iconProps ? <FAIcon size=\"2x\" {...iconProps} /> : null\n      }\n      {\n        sideContent ? <Typography className={classes.sideContent}>{sideContent}</Typography> : null\n      }\n      {\n        children\n      }\n      </div>\n    </div>\n  </Tooltip>\n}","import React from 'react';\nimport { Card, makeStyles, CardMedia } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport Tags from '../Tags';\nimport {\n    addedActivitySelector,\n    wontDoActivitySelector,\n    completedActivitySelector\n} from '../../../../../utils/redux/config';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: \"inline-block\",\n    width: \"170px\",\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n  },\n  img: {\n    height: '350px'\n  }\n}));\n\ntype $props = {\n  shedule: any,\n  addedActivityPage?: Boolean,\n  className?: string\n}\n\nconst PortraitSlot = React.memo(function PortraitSlot(props: $props){\n  const activity = props.shedule;\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n  \n  const classes = useStyles();\n  // const popoverClasses = usePopoverStyles();\n  if(completedActivity || wontDoActivity) return null;\n  if(!props.addedActivityPage && addedActivity) return null;\n  \n  const activityLinkTo = \"/shedules/activities/\"+activity.id;\n  return <Card key={activity.id} className={classNames(props.className, classes.root)}>\n    <Link to={activityLinkTo}>\n      <CardMedia title={activity.name} className={classes.img} image={activity.properties.imgLinks.find((img: any) => (img.height / 1.75) > img.width).src}/>\n    </Link>\n    <Tags activity={activity} />\n  </Card>     \n});\n\n\nexport default PortraitSlot","import React from 'react';\nimport { Card, makeStyles, CardMedia } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport Tags from '../Tags';\nimport {     addedActivitySelector,\n  wontDoActivitySelector,\n  completedActivitySelector } from '../../../../../utils/redux/config';\nimport classNames from 'classnames';\n\ntype $props = {\n  shedule: any,\n  addedActivityPage?: Boolean,\n  className?: string\n}\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: \"inline-block\",\n    width: \"400px\",\n    maxWidth: '100vw',\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n  },\n  img: {\n    height: '400px'\n  }\n}));\n\nconst SquareSlot = React.memo(function SquareSlot(props: $props){\n  const activity = props.shedule;\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n\n  const classes = useStyles();\n  if(completedActivity || wontDoActivity) return null;\n  if(!props.addedActivityPage && addedActivity) return null;\n  \n\n  const isSquareImg = (img: any) => {\n    const quotient = img.height / img.width;\n    return 0.85 < quotient && quotient < 1.15\n  }\n\n  const activityLinkTo = \"/shedules/activities/\"+activity.id;\n  return <Card key={activity.id} className={classNames(props.className, classes.root)}>\n    <Link to={activityLinkTo}>\n      <CardMedia title={activity.name} className={classes.img} image={activity.properties.imgLinks.find(isSquareImg).src}/>\n    </Link>\n    <Tags activity={activity} direction=\"row\" width=\"400px\" height=\"55px\"/>\n  </Card>\n});\n\n\nexport default SquareSlot","import React from 'react';\n\nexport default function Slides({children}: {children: JSX.Element[]}){\n  return <div className=\"swiper-wrapper\">{children}</div>\n}","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}","import React, { useEffect, useRef, useState } from 'react';\nimport {v4} from 'uuid';\nimport Swiper from 'swiper';\nimport 'swiper/swiper-bundle.css';\nimport \"./index.css\";\n\nimport Slides from './Slides';\nimport useWindowDimensions from '../../../../utils/window';\nimport classNames from 'classnames';\nimport { isMobile } from 'react-device-detect';\n\ninterface $props {\n  renderSlides: ()=>JSX.Element[],\n  slideWidth?: number\n}\nconst letters = 'abcdefghijklmnop';\n\nexport default function Scroll({renderSlides, slideWidth = 300}: $props){\n  const [swiper, setSwiper] = useState<any>(null);\n  const [id] = useState(v4().replace(/-/g, '0').replace(/(\\d)/g, (m, p)=>letters[Number(p)]));\n  const {width} = useWindowDimensions();\n  const renderedSlides = renderSlides();\n  const buttonStyle = isMobile ? {\n    opacity: 1\n  } :  {};\n  useEffect(()=>{\n    const sw = new Swiper('.'+id, {\n      slidesPerView: 'auto',\n    });\n    setSwiper(sw);\n  }, [id])\n  return <div className={classNames(\"swiper-container\", id)}>\n    <Slides>\n    {\n      renderSlides()//.map((slide, i) => <ScrollSlide key={i}>{}</ScrollSlide>)\n    }\n    </Slides>\n    <div\n    style={buttonStyle}\n    onClick={()=>{\n      if(swiper && swiper.slideNext){\n        if(width > 500){\n          const indexIncrementCount = Math.max(Math.floor(width/slideWidth),1);\n          const nextIndex = Math.min(swiper.activeIndex + indexIncrementCount, renderedSlides.length-1);\n          swiper.slideTo(nextIndex, 300)\n        } else {\n          swiper.slideNext(300);\n        }\n      }\n      \n    }} className={classNames('swiper-button', \"swiper-button-next\")}></div>\n    <div\n    style={buttonStyle}\n    onClick={()=>{\n        if(swiper && swiper.slideNext){\n          if(width > 500){\n            const indexDecrementCount = Math.max(Math.floor(width/slideWidth),1);\n            const nextIndex = Math.max(swiper.activeIndex - indexDecrementCount, 0);\n            swiper.slideTo(nextIndex, 300)\n          } else {\n            swiper.slidePrev(300);\n          }\n        }\n    }} className={classNames('swiper-button', \"swiper-button-prev\")}></div>\n  </div>\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport SheduleSlot from './Slot';\nimport PortraitSlot from './PortraitSlot';\nimport SquareSlot from './SquareSlot';\nimport Scroll from '../Scroll';\n\ntype $props = {\n  wrap?: Boolean,\n  addedActivityPage?: Boolean,\n  data: any[],\n  featuredPortrait?: Boolean,\n  featuredSquare?: Boolean\n}\nconst useStyles = makeStyles({\n  root: (props: {wrap: Boolean}) => ({\n    marginTop: '1rem',\n    whiteSpace: props.wrap ? 'normal' : 'nowrap',\n    // whiteSpace: 'normal',\n    overflowX: 'scroll',\n  }),\n});\n\nfunction SheduleRow({ addedActivityPage, wrap, data, featuredPortrait, featuredSquare }: $props){  \n  const classes = useStyles({wrap: !!(addedActivityPage || wrap)});\n  \n  const Slot = featuredPortrait ? PortraitSlot : featuredSquare ? SquareSlot : SheduleSlot\n  const slideWidth = featuredPortrait ? 170 : featuredSquare ? 400 : 280;\n  const slots = data.map((activity, i)=>{\n    return <Slot key={activity.id} addedActivityPage={addedActivityPage}  shedule={activity} className=\"swiper-slide\" />\n  });\n  // const slots = [<div>Slide 1</div>, <div>Slide 2</div>]\n\n  if(wrap || addedActivityPage) return <div className={classes.root}>\n    {\n      slots\n    }\n  </div>\n  return <Scroll slideWidth={slideWidth} renderSlides={()=>slots} />\n  }\n\nexport default SheduleRow","import React, { useState, useEffect } from 'react';\nimport { TextField } from '@material-ui/core';\nimport { debounce, partition } from 'lodash';\n\nimport _ from 'lodash';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport Autocomplete, {createFilterOptions} from '@material-ui/lab/Autocomplete';\n\ntype $props = {\n  popularTags: any[],\n  wrap?: Boolean,\n}\n\nexport default function SearchActivitiesRow(props: $props){\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  const [ reset, setReset ] = useState(1);\n  const [searchTags, setSearchTags] = useState(localStorage.getItem('searchTags') || '#age4 #indoor');\n  const [searchText, setSearchText] = useState(localStorage.getItem('searchText') || '');\n  const { data, page, resetPage } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue: [],\n    page: true,\n    query: {\n      tags: searchTags,\n      text: searchText,\n    }, \n    deps: [searchTags, searchText],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  }, [data])\n  const onSearchFunc = (nextVal: string)=>{\n    const clean = nextVal.toLowerCase().split(' ').filter(v=>v);\n    const [nextSeachTagsArr, nextSearchTextArr] = partition(clean, (name)=>name[0] === '#')\n    const nextSearchTags = nextSeachTagsArr.join(' ');\n    const nextSearchText = nextSearchTextArr.join(' ');\n    localStorage.setItem('searchTags', nextSearchTags);\n    localStorage.setItem('searchText', nextSearchText);\n    setSearchTags(nextSearchTags);\n    setSearchText(nextSearchText);\n    resetPage();\n  }\n  const onSearch = debounce(onSearchFunc, 400);\n  const filter = createFilterOptions();\n\n  return <div>\n    <Autocomplete\n      fullWidth\n      freeSolo\n      key={reset}\n      multiple\n      id=\"tags-standard\"\n      options={(props.popularTags || []).map(t => '#'+t)\n        // .concat(searchText.split(' '))\n      }\n      defaultValue={searchTags.split(' ')}\n      onChange={(event, value: any[])=>{\n        onSearch(value.join(' '))\n      }}\n      filterOptions={(options, params) => {\n        const filtered : any = filter(options, params);\n        if (params.inputValue !== '') {\n          filtered.push(`${params.inputValue}`);\n        }\n        return filtered;\n      }}\n      selectOnFocus\n      clearOnBlur\n      handleHomeEndKeys\n      renderInput={(params: any) => (\n        <TextField\n          {...params}\n          variant=\"standard\"\n          label=\"Search\"\n          placeholder=\"#stem\"\n        />\n      )}\n    />\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow data={data} wrap={props.wrap} />\n    }\n  </div>\n}\n\n\n","import React from 'react';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../utils/remote';\n\n\nimport SearchActivitiesRow from './Row';\n\n\nexport default function SearchActivities(){\n  const { data: popularTags } = useCustomSwr(SERVER_ADDRESS+'/tags/popular', {\n    cache: true\n  });\n  \n  \n  return <div>\n    {\n      <SearchActivitiesRow wrap popularTags={popularTags} />\n    }\n  </div>\n}","import React, { useState } from 'react';\nimport _, { debounce } from 'lodash';\nimport { Dialog, Typography, makeStyles, AppBar, Toolbar, Button, Divider, Card, CardContent, TextField } from '@material-ui/core';\nimport blacklist from 'blacklist';\nimport ReactMarkdown from 'react-markdown';\nimport classnames from 'classnames';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { v4 } from 'uuid';\nimport {\n    createConfigAction,\n    dashboardTabsSelector\n} from '../../../../utils/redux/config';\nimport FAIcon from '../../../components/general/FAIcon';\nimport MyPopover from '../../../components/general/Popover';\nimport { createUIAction, uiSelector } from '../../../../utils/redux/ui';\n\n\ninterface $props {\n  ordinal: number,\n};\n\nexport default function Config({ordinal}: $props){\n  const dashboardTabs = useSelector(dashboardTabsSelector);\n  const { dashboard } = useSelector(uiSelector);\n  const dispatch = useDispatch();\n  const dashboardTab = dashboardTabs.find(x=>x.ordinal===ordinal);\n  const onChange = (key: string, value: any)=>{\n    dispatch(createConfigAction({dashboardTabs: [\n      {\n        ...dashboardTab,\n        [key]: value,\n        touched: true,\n      },\n     ...dashboardTabs.filter(x=>x.ordinal !== ordinal),\n     ...(dashboardTab && !dashboardTab.touched ? [{\n       ordinal: dashboardTabs.length,\n       ages: [],\n       subjects: [],\n       uuid: v4(),\n     }] : []),\n    ]}))\n  }\n  const debouncedOnChange = debounce((value)=>{\n    onChange('name', value)\n  }, 500)\n  \n  if(!dashboardTab) return null;\n  return <div>\n    <TextField label=\"Tab Name\" placeholder={`Tab ${ordinal+1}`} defaultValue={dashboardTab.name} onChange={(event)=>{\n      debouncedOnChange(event.target.value)\n    }} />\n    <Divider variant=\"inset\"/>\n    <PickAges key={dashboardTab.uuid} values={dashboardTab.ages} onSave={(nextAges: string[])=>onChange('ages', nextAges)} color={!dashboardTab.ages.length ? 'secondary' : undefined} className=\"pick-ages\" />\n    <Divider variant=\"inset\"/>\n    <PickSubjects values={dashboardTab.subjects} onSave={(nextSubjects: string[])=>onChange('subjects', nextSubjects)} color={!dashboardTab.subjects.length ? 'secondary' : undefined} className=\"pick-subjects\" />\n    <Divider variant=\"inset\"/>\n    {\n      !dashboardTab.ages.length ? null : <Button onClick={()=>{\n        dispatch(createUIAction({\n          dashboard: {\n            ...dashboard,\n            isEditing: false\n          }\n        }))\n      }}>Done</Button>\n    }\n    {\n      dashboardTabs.length === 1 || !dashboardTab.touched ? null : <Button onClick={()=>{\n        dispatch(createConfigAction({\n          dashboardTabs: [\n            ...dashboardTabs.filter(x=>x.ordinal !== ordinal).map(x=>({...x, ordinal: x.ordinal > ordinal ? x.ordinal-1 : x.ordinal}))\n          ]\n        }))\n        dispatch(createUIAction({\n          dashboard: {\n            ...dashboard,\n            isEditing: false\n          }\n        }))\n      }}\n      color=\"secondary\">Delete</Button>\n    }\n  </div>\n}\n\nfunction PickSubjects(props: any){\n  return <PickDefault\n    name=\"defaultSubjects\"\n    tags={[\n      {\n        name: 'math',\n        icon: 'las la-calculator',\n        // sideContent: 'B',\n        description: `Math based activity`\n      },\n      {\n        name: 'stem',\n        icon: 'las la-flask',\n        // sideContent: 'B',\n        description: `Stem based activity`\n      },\n      {\n        name: 'literacy',\n        icon: 'las la-book-reader',\n        // sideContent: 'B',\n        description: `Literacy based activity`\n      },\n      {\n        name: 'outdoor',\n        icon: 'las la-cloud-sun',\n        // sideContent: 'B',\n        description: `Outdoor based activity`\n      },\n      {\n        name: 'indoor',\n        icon: 'las la-home',\n        // sideContent: 'B',\n        description: `Indoor based activity`\n      },\n      {\n        name: 'sensory',\n        icon: 'las la-allergies',\n        // sideContent: 'B',\n        description: `Sensory based activity`\n      },\n      {\n        name: 'fine-motor',\n        icon: 'las la-user-edit',\n        // sideContent: 'B',\n        description: `Fine-motor based activity`\n      },\n      {\n        name: 'gross-motor',\n        icon: 'las la-running',\n        // sideContent: 'B',\n        description: `Gross-motor based activity`\n      },\n    ]}\n    selectStatement=\"Select activity subjects\"\n    modalTitle=\"What subjects are your children interested in?\"\n    defaultButton=\"Select activity subjects\"\n    {...props}\n  />\n}\n\nfunction PickAges(props: any){\n  \n  return <PickDefault\n    {...props}\n    name=\"defaultAges\"\n    tags={_.range(20).map((v)=>{\n      return {\n        name: 'age-'+v,\n        sideContent: v+'Y',\n        icon: \"las la-grin\",\n        description: `Choose activities for a ${v} year old`,\n      }\n    })}\n    selectStatement=\"Select the ages of your children\"\n    modalTitle=\"What ages are your children?\"\n    defaultButton=\"Select the ages of your children\"\n  />\n}\n\nconst useStyle = makeStyles({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignContent: 'flex-start',\n  },\n  title: {\n    fontSize: '1rem',\n  },\n  defaultAges: {\n    marginTop: '1rem',\n    fontSize: '1.1rem',\n  }\n})\n\ninterface $pickDefaultProps {\n  values: string[],\n  onSave: (a: string[])=>void,\n  color?: 'secondary',\n  className: string,\n  modalTitle: string,\n  selectStatement: string,\n  tags: any[],\n  defaultButton: string\n}\n\nfunction PickDefault({tags, values, onSave, color, className, modalTitle, selectStatement, defaultButton}: $pickDefaultProps){\n  const classes = useStyle();\n  \n  const [ selected, select] = useState<{[id: string]: Boolean}>(values.reduce((acc: any, curr)=>{\n    acc[curr] = true;\n    return acc;\n  }, {}));\n  \n  const toggle = (tag: string)=>{\n    if(selected[tag]){\n      select(blacklist(selected, tag));\n    } else {\n      select({...selected, [tag]: true});\n    }\n  }\n  return <Modal\n    onSave={()=>onSave(Object.keys(selected))}\n    renderContent={\n      (handleClickOpen: any)=><>\n      <Typography variant=\"h3\" className={classes.defaultAges}>{modalTitle}</Typography>\n      <Button\n        variant=\"contained\"\n        color={color}\n        className={className}\n        onClick={handleClickOpen}\n        >{\n        Object.keys(selected).length ? Object.keys(selected).map((x)=>'#'+x).join(' ') : defaultButton\n        }</Button>\n      </>\n    }\n    renderDialogContent={()=><>\n      <Typography component=\"h2\" className={classes.title}>{\n        selectStatement\n      }</Typography>\n      <div className={classes.root}>\n        {\n          tags.map((tag, i)=>{\n            const isSelected = selected[tag.name];\n            return <Tile key={i} toggle={toggle} isSelected={isSelected} tag={tag} i={i} />\n          })\n        }\n      </div>\n      </>}\n  />\n}\n\nconst useTileStyles = makeStyles({\n  tile: ({isSelected, tag}: any)=>({\n    display: 'inline-block',\n    width: '220px',\n    height: '200px',\n    marginTop: '5px',\n    marginRight: '5px',\n    cursor: 'pointer',\n    position: 'relative',\n    ...(isSelected ? { backgroundColor: 'gray', color: '#fff' } : {\n      backgroundColor: tag.color,\n    })\n  }),\n  iconTextWrapper: {\n    // width: 'fit-content'\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '205px',\n  },\n  tileHash: {\n    position: 'absolute',\n    bottom: '5%',\n    left: '5%',\n  },\n})\n\nconst usePopoverStyles = makeStyles((theme) => ({\n  popover: {\n    pointerEvents: 'none',\n  },\n  paper: {\n    padding: theme.spacing(1),\n  },\n}));\n\nfunction Tile({tag, i, isSelected, toggle}: any){\n  const classes = useTileStyles({tag, isSelected})\n  const popoverClasses = usePopoverStyles();\n  return <MyPopover\n    popoverProps={{className: popoverClasses.popover}}\n    popoverClasses={{paper: popoverClasses.paper}}\n    className={classes.tile}\n    disablePopup={Boolean(tag.description)}\n    renderHoverableContent={\n      ()=><>\n        <div\n          className={classes.iconTextWrapper}\n          onClick={()=>toggle(tag.name)}\n        >\n          \n          {\n            tag.icon ? <>\n            <FAIcon raw={tag.icon} size=\"5x\" />\n            {\n              tag.sideContent && <Typography variant=\"body2\" component=\"h3\">{tag.sideContent}</Typography>\n            }\n            </> : <Typography variant=\"body2\" component=\"h3\">{tag.monogram}</Typography>\n\n          }\n        </div>\n        <Typography\n              className={classnames(classes.tileHash, {\n                'tag-name': !i\n              })}\n              variant=\"body1\"\n            >{`#${tag.name}`}</Typography>\n      </>\n    }\n    renderOnHoverContent={\n      ()=><ReactMarkdown\n      source={tag.description}\n    />\n    }\n  />\n}\n\nfunction Modal(props: any){\n  const [open, setOpen] = useState(false);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (e: any) => {\n    e.stopPropagation();\n    setOpen(false);\n    props.onSave && props.onSave()\n  };\n\n  return <div>\n  <Card>\n    <CardContent>\n      {\n        props.renderContent(handleClickOpen)\n      }\n    </CardContent>\n  </Card>\n  <Dialog fullScreen open={open} onClose={handleClose}>\n    <AppBar>\n      <Toolbar>\n        <Button autoFocus color=\"inherit\" onClick={handleClose}>\n          save\n        </Button>\n      </Toolbar>\n    </AppBar>\n    <div>\n      {\n        props.renderDialogContent()\n      }\n      <Button style={{height: '4rem'}} variant=\"contained\" fullWidth color=\"primary\" onClick={handleClose}>Save</Button>\n    </div>\n  </Dialog>\n  </div>\n}\n\n// const useStyles2 = makeStyles((theme) => ({\n//   popover: {\n//     pointerEvents: 'none',\n//   },\n//   paper: {\n//     padding: theme.spacing(1),\n//   },\n// }));\n\n// function Popup(props: any){\n//   const classes = useStyles2();\n//   const [anchorEl, setAnchorEl] = useState(null);\n\n//   const handlePopoverOpen = (event: any) => {\n//     setAnchorEl(event.currentTarget);\n//   };\n\n//   const handlePopoverClose = () => {\n//     setAnchorEl(null);\n//   };\n\n//   const open = Boolean(anchorEl);\n//   return <>\n//   {\n//     props.renderContent({\n//       open,\n//       handlePopoverOpen,\n//       handlePopoverClose})\n//   }\n//     <Popover\n//       id={props.id}\n//       className={classes.popover}\n//       classes={{\n//         paper: classes.paper,\n//       }}\n//       open={open}\n//       anchorEl={anchorEl}\n//       anchorOrigin={{\n//         vertical: 'bottom',\n//         horizontal: 'left',\n//       }}\n//       transformOrigin={{\n//         vertical: 'top',\n//         horizontal: 'left',\n//       }}\n//       onClose={handlePopoverClose}\n//       disableRestoreFocus\n//     >\n//       { \n//         props.renderPopupContent()\n//       }\n//     </Popover>\n//   </>\n// }\n\n","import React from 'react';\nimport { Tabs, Tab } from '@material-ui/core';\n\nfunction a11yProps(index: any) {\n  return {\n    id: `tab-${index}`,\n    'aria-controls': `tabpanel-${index}`,\n  };\n}\n\nexport function TabPanel(props: any) {\n  const { children, value, index, ...other } = props;\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-${index}`}\n      aria-labelledby={`tab-${index}`}\n      {...other}\n    >\n      {value === index && children}\n    </div>\n  );\n}\n\ninterface $tabProps {\n  label: JSX.Element | string\n}\n\ninterface $props {\n  value: number,\n  onChange: (a: number)=>void,\n  tabsProps?: any,\n  tabPropsArr: $tabProps[]\n}\n\nexport default function MyTabs({ value, onChange, tabsProps = {}, tabPropsArr = []} : $props){\n  return <Tabs \n    value={value}\n    onChange={(e, newValue)=>{\n      onChange(newValue)\n    }}\n    aria-label=\"Change dashboard view\"\n    indicatorColor=\"primary\"\n    textColor=\"primary\"\n    variant=\"fullWidth\"\n    {...tabsProps}\n  >\n  {\n    tabPropsArr.map((tabProps, i) => <Tab key={i} {...tabProps} {...a11yProps(i)} /> )\n  }\n  </Tabs>\n}\n","import React, { useState, useEffect } from 'react';\nimport { Typography, Divider, makeStyles } from '@material-ui/core';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport { blue } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles({\n  header: {\n    marginTop: '1rem',\n    color: blue[700]\n  }\n})\n\nexport default function SearchActivitiesNonSearchRow({tag, ages, portraitFeatured = false}: {tag: string, ages: string[], portraitFeatured?: Boolean}){\n  const classes = useStyles();\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  const defaultTags =  ages;\n  \n  const tags = defaultTags.concat([tag]).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data, page } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue: [],\n    page: true,\n    query: {\n      tags,\n      portraitFeatured\n    }, \n    deps: [],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  }, [data]);\n  \n  return <div>\n    <Typography align=\"center\" variant=\"h6\" component=\"h3\" className={classes.header}>{'#'+tag}</Typography>\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow data={data} />\n    }\n    <Divider variant=\"inset\" />\n  </div>\n}","import React, { useState, useEffect } from 'react';\nimport { Typography, Divider, makeStyles } from '@material-ui/core';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport { blue } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles({\n  header: {\n    marginTop: '1rem',\n    color: blue[700]\n  }\n})\n\nexport default function SearchActivitiesNonSearchPortraitRow({tag, ages}: {tag: string, ages: string[]}){\n  const classes = useStyles();\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  \n  const defaultTags =  ages;\n  const tags = defaultTags.concat([tag]).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data, page } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue: [],\n    page: true,\n    query: {\n      tags,\n      featuredPortrait: true\n    }, \n    deps: [],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  }, [data]);\n  \n  return <div>\n    <Typography align=\"center\" variant=\"h6\" component=\"h3\" className={classes.header}>{'#'+tag}</Typography>\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow featuredPortrait data={data} />\n    }\n    <Divider variant=\"inset\" />\n  </div>\n}","import React, { useState, useEffect } from 'react';\nimport { Divider } from '@material-ui/core';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\n\n\nexport default function SearchActivitiesNonSearchSquareRow({tag, ages}: {tag: string, ages: string[]}){\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  const defaultTags =  ages;\n  \n  const tags = defaultTags.concat([tag]).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data, page } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue: [],\n    page: true,\n    query: {\n      tags,\n      featuredSquare: true\n    }, \n    deps: [],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  }, [data]);\n  \n  return <div>\n    {\n      // <Typography align=\"center\" variant=\"h6\" component=\"h3\" className={classes.header}>{'#'+tag}</Typography>\n    }\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow featuredSquare data={data}/>\n    }\n    <Divider variant=\"inset\" />\n  </div>\n}","import React, { useEffect, useState } from 'react';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\n\nimport _ from 'lodash';\n\nimport SearchActivitiesNonSearchRow from '../NonSearchRow';\nimport LazyLoad from 'react-lazyload';\nimport SearchActivitiesNonSearchPortraitRow from '../NonSearchPortraitRow';\nimport SearchActivitiesNonSearchSquareRow from '../NonSearchSquareRow';\n\nexport default function ListActivities({subjects, ages}: {subjects: string[], ages: string[]}){\n  const [tagOrder, setTagOrder] = useState<string[]>([]);\n  const defaultSubjects = subjects;\n  const { data: popularTags } : {data: string[]} = useCustomSwr(SERVER_ADDRESS+'/tags/popular', {\n    cache: true,\n    defaultValue: []\n  });\n\n  useEffect(()=>{\n    const defaultSubjectHash = defaultSubjects.reduce((acc: any, curr: string)=>{\n      acc[curr]=true\n      return acc;\n    }, {})\n    setTagOrder(_.sampleSize(defaultSubjects, defaultSubjects.length)\n      .concat((popularTags||[]).filter((tag: string)=>(tag.indexOf('age') === -1))\n      .filter((tag: string)=>!defaultSubjectHash[tag]))\n    );\n  }, [defaultSubjects, ages, popularTags])\n\n  const squareRender = (tag: string)=>{\n    return <div style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={200} key={tag}>\n      <SearchActivitiesNonSearchSquareRow tag={tag} ages={ages} />\n    </LazyLoad></div>;\n  }\n\n  const portraitRender = (tag: string)=>{\n    return <div style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={200} key={tag}>\n      <SearchActivitiesNonSearchPortraitRow tag={tag} ages={ages} />\n    </LazyLoad></div>;\n  }\n  \n  const render = (tag: string)=>{\n    return <div style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={300} key={tag}>\n      <SearchActivitiesNonSearchRow tag={tag} ages={ages} />\n    </LazyLoad></div>;\n  }\n  return <div>\n    {\n      tagOrder.map((tag: string, i: number)=>{\n        if(i === 0 || i === 8) return squareRender(tag);\n        if(i === 3 || i === 6 || i === 12) return portraitRender(tag)\n        return render(tag)\n      })\n    }\n\n  </div>\n}","import React from 'react';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { dashboardTabsSelector } from '../../../utils/redux/config';\nimport { uiSelector, createUIAction } from '../../../utils/redux/ui';\nimport Config from './Config';\nimport MyTabs, { TabPanel } from '../../components/general/Tabs';\nimport ListActivities from './ListActivities';\nimport FAIcon from '../../components/general/FAIcon';\n\nimport {IconButton } from '@material-ui/core';\n\n// const orderedDashboardTabs = createSelector(dashboardTabsSelector, (dashboardTabs)=>[...dashboardTabs].sort((a,b)=>a.ordinal-b.ordinal))\n\nexport default function Dashboard(){\n  const rawDashboardTabs = useSelector(dashboardTabsSelector);\n  const dashboardTabs = [...rawDashboardTabs].sort((a,b)=>a.ordinal-b.ordinal)\n  // const dashboardTabs = useSelector(orderedDashboardTabs);\n  const { dashboard } = useSelector(uiSelector);\n  const dispatch = useDispatch();\n  const onChange = (tab: number, isEditing?: Boolean)=>dispatch(createUIAction({\n    dashboard: {\n      tab,\n      isEditing: isEditing || false\n    }}))\n  return <div>\n    <MyTabs\n      tabsProps={{variant: \"standard\"}}\n      value={dashboard.tab}\n      onChange={(tab)=>onChange(tab)}\n      tabPropsArr={dashboardTabs.map(d=>({\n        label: <span>{d.name || d.ages.join(' & ') || `Tab ${d.ordinal+1}`}\n        <IconButton\n          onClick={(e)=>{\n            e.stopPropagation();\n            onChange(d.ordinal, true)\n          }}\n        >\n          <FAIcon type=\"pen\" size=\"1x\" />\n        </IconButton>\n      </span>\n      }))}\n    />\n    {\n      dashboardTabs.map((d, i)=><TabPanel key={d.ordinal} value={dashboard.tab} index={i}>\n        {\n          (!d.ages.length || dashboard.isEditing) ? <Config ordinal={d.ordinal} /> : <ListActivities ages={d.ages} subjects={d.subjects}/>\n        }\n        </TabPanel>)\n    }\n    \n\n  </div>\n}","import React from 'react';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\n\nimport { useParams, Link } from 'react-router-dom';\nimport { Typography, makeStyles, Chip, Grid, Card, Box } from '@material-ui/core';\nimport ReactMarkdown from 'react-markdown';\n\nimport humanizeDuration from 'humanize-duration';\n\nimport AddActivityButtons from '../added/Button';\nimport ActivitiesPreviewImages from '../preview/Images';\nimport MaterialsList from '../../../materials/List';\n\nimport { FormLabel } from '@material-ui/core';\nimport { blue } from '@material-ui/core/colors';\n\n\nconst useStyle = makeStyles({\n  spacer: {\n    marginTop: '2rem',\n  },\n  // image: {\n  //   width: '100%',\n  //   display: 'block',\n  //   margin: '2rem auto'\n  // },\n  tags: {\n    margin: '1rem auto 0',\n    textAlign: 'center',\n  },\n  requirements: {\n    padding: '0 2rem',\n  },\n  card: {\n    minWidth: '20rem',\n    margin: 'auto'\n  },\n  cardTitle: {\n    color: blue[700],\n    textDecoration: 'none',\n  },\n  cardTitleWrapper: {\n    margin: '0 1rem'\n  },\n})\n\ninterface $shedulesParams {\n  sheduleId: string\n}\n\nexport default function ActivityShow(props: any){\n  const classes = useStyle();\n  const { sheduleId } = useParams<$shedulesParams>();\n  const { data } = useCustomSwr(SERVER_ADDRESS+'/shedules/activities/public/'+sheduleId);\n\n  \n  if(!data) return null;\n  const linkWrapper = (children: JSX.Element)=>data?.properties?.link ? <a className={classes.cardTitle} href={data.properties.link} rel=\"noopener noreferrer\" target=\"_blank\" children={children}/> : <React.Fragment children={children}/>\n  return <div>\n    <Card className={classes.card}>\n      <Grid justify=\"flex-start\" container>\n        <Grid item>\n          {\n            // <LikeShow sheduleId={sheduleId} />\n          }\n          <AddActivityButtons activity={data} />\n        </Grid>\n      </Grid>\n      <Grid container justify=\"center\">\n          <Grid item md={6} lg={6} xl={6}>\n            <div className={classes.cardTitleWrapper}>\n            {\n              linkWrapper(<Typography className={classes.cardTitle} align=\"center\" variant=\"h5\" component=\"h1\">{data.name}</Typography>)\n            }\n            </div>\n            <div className={classes.tags}>\n              {(data?.properties?.tags || '').split(' ').map((tag: string) => <Chip key={tag} label={tag}/>)}\n            </div>\n            <Box m=\"3rem auto\" maxWidth=\"30rem\">\n              <ActivitiesPreviewImages activity={data} />\n            </Box>\n            \n          </Grid>\n          <Grid item md={6} lg={6} xl={6}>\n          {\n            data?.properties?.duration && \n              <Typography align=\"center\"  variant=\"body1\">\n                {humanizeDuration(data.properties.duration)}\n              </Typography>\n          }\n          {\n            (data?.properties?.metaRequirements && data?.properties?.metaRequirements.length) ? <div className={classes.requirements}>\n              <FormLabel>Requirements</FormLabel>\n              <MaterialsList activity={data} />\n            </div> : null\n          }\n          </Grid>\n      </Grid>\n    </Card>\n    <ReactMarkdown\n      source={data.description}\n    />\n  </div>\n}","import React from 'react';\nimport { TimelineOppositeContent } from '@material-ui/lab';\nimport Timeline from '@material-ui/lab/Timeline';\nimport TimelineItem from '@material-ui/lab/TimelineItem';\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\nimport TimelineContent from '@material-ui/lab/TimelineContent';\nimport TimelineDot from '@material-ui/lab/TimelineDot';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport reorderOrdinals from 'reorder-ordinals';\nimport { Link } from 'react-router-dom';\nimport AddActivityOptions from '../Options';\n\nconst grid = 8;\n\nconst getListStyle = () => ({\n  // background: isDraggingOver ? \"lightblue\" : \"lightgrey\",\n  // padding: grid,\n  // width: 250\n});\n\n\nconst getItemStyle = (isDragging: any, draggableStyle: any) => ({\n  // some basic styles to make the items look a bit nicer\n  userSelect: \"none\",\n  padding: grid * 2,\n  margin: `0 0 ${grid}px 0`,\n\n  // change background colour if dragging\n  // background: isDragging ? \"lightgreen\" : \"grey\",\n\n  // styles we need to apply on draggables\n  ...draggableStyle\n});\n\n\nexport default function DayTimeline(props: any) {\n  const onDragEnd = (result: any) => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n    const nextData = reorderOrdinals()(props.data, result.source.index, result.destination.index)\n    props.mutate(\n      nextData\n    );\n  }\n  return (\n    <DragDropContext onDragEnd={onDragEnd}>\n      <Droppable droppableId=\"droppable\">\n      {\n        (provided, snapshot: any) => (\n        <div\n          {...provided.droppableProps}\n          ref={provided.innerRef}\n          style={getListStyle()}\n        >\n          <Timeline align=\"alternate\">\n            {\n              (props.data || []).sort((a: any, b: any)=>a.ordinal - b.ordinal).map((activityRel: any, index: number) => {\n\n                const activity = activityRel.activity;\n                return <Draggable key={activityRel.id} draggableId={activityRel.id} index={activityRel.ordinal}>\n                {\n                  (provided, snapshot) => (<span\n                    ref={provided.innerRef}\n                    {...provided.draggableProps}\n                    {...provided.dragHandleProps}\n                    style={getItemStyle(\n                      snapshot.isDragging,\n                      provided.draggableProps.style\n                    )}\n                  >\n                    <TimelineItem>\n                      <TimelineOppositeContent>\n                        <AddActivityOptions activity={activity} />\n                      </TimelineOppositeContent>\n                      <TimelineSeparator>\n                        <TimelineDot />\n                        {index === (props.data.length - 1) ? null : <TimelineConnector /> }\n                      </TimelineSeparator>\n                      <TimelineContent>\n                        <Link to={`/shedules/activities/${activity.id}`}>{activity.name}</Link>\n                      </TimelineContent>\n                    </TimelineItem>\n                  </span>)\n                }\n                </Draggable>\n              })\n            }\n          </Timeline>\n        </div>)\n      }\n      </Droppable>\n    </DragDropContext>\n  );\n}","import React, { useState } from 'react';\nimport { Tabs, Tab, Grid, Typography } from '@material-ui/core';\n\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport DayTimeline from './Timeline';\nimport { updateActivities, purgeActivities } from './utils';\nimport Accordions from '../../../materials/Accordions';\nimport { addedActivitiesSelector } from '../../../../utils/redux/config';\nimport { uiSelector, createUIAction } from '../../../../utils/redux/ui';\nimport { useMediaQuery } from '@material-ui/core';\nimport MyTabs, { TabPanel } from '../../../components/general/Tabs';\n\n\n\n\n\nexport default function ShedulesAddedActivitiesShowMany(props: any){\n  \n  const addedActivities = useSelector(addedActivitiesSelector);\n  const dispatch = useDispatch();\n  const ui = useSelector(uiSelector);\n  const [tab, setTab] = useState(ui.addedActivities.tab || 0);\n  const defaultValue : any = []\n  const { data } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue,\n    query: {\n      ids: Object.keys(addedActivities)\n    }, \n    deps: [],\n  });\n  React.useEffect(()=>{\n    if(data === defaultValue) return;\n    if(data.length !== Object.keys(addedActivities).length){\n      purgeActivities(data)\n    }\n  }, [data])\n  const biggerThanSmall = useMediaQuery('(min-width:1000px)');\n  const inScheduleActivities = data.filter((activity: any)=>addedActivities[activity.id].inSchedule);\n  const schedule = !inScheduleActivities.length ? <p>Nothing in schedule</p> : <DayTimeline mutate={updateActivities} data={inScheduleActivities.map((activity: any) => ({\n    id: activity.id,\n    activity,\n    ordinal: addedActivities[activity.id].ordinal\n  }))} />\n  const scheduleTitle = <Typography align=\"center\">Schedule</Typography>\n  return <div>\n    <div>\n      <MyTabs value={tab} onChange={(newValue: number)=>{\n        setTab(newValue)\n        dispatch(createUIAction({\n          addedActivities: {\n            tab: newValue\n          }\n        }))\n      }} tabPropsArr={\n        [\n          {\n            label: \"Bookmarks\"\n          },\n          ...(biggerThanSmall ? [] : [{\n            label: \"Schedule\"\n          }]),\n          {\n            label: \"Materials\"\n          }\n        ]\n      } />\n    </div>\n    <TabPanel value={tab} index={0}>\n      <Grid container>\n        <Grid item sm={12} md={6}>\n          {\n            !data.length ? <p>No Results</p> : <SheduleRow addedActivityPage data={data} />\n          }\n        </Grid>\n        {\n          biggerThanSmall ? <Grid item md={6}>\n            {scheduleTitle}\n            {schedule}\n          </Grid>\n         : null\n        }\n        </Grid>\n    </TabPanel>\n    {\n      biggerThanSmall ? null : <TabPanel value={tab} index={1}>\n      {\n        schedule\n      }\n    </TabPanel>\n    }\n      <TabPanel value={tab} index={biggerThanSmall ? 1 : 2}>\n      <Grid container>\n        {\n          biggerThanSmall ? <Grid item md={6}>\n            {scheduleTitle}\n            {schedule}\n          </Grid> : null\n        }\n        <Grid item sm={12} md={6}>\n          {\n            !inScheduleActivities.length ? <p>No activities in schedule</p> : <Accordions data={[...inScheduleActivities].sort((a,b)=>addedActivities[a.id].ordinal-addedActivities[b.id].ordinal)} />\n          }\n        </Grid>\n      </Grid>\n      </TabPanel>\n    \n  </div>\n}","import React from 'react';\nimport { Typography, Card, CardContent, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '700px',\n    margin: '0 auto',\n  }\n})\n\nexport default function Contact(){\n  const classes = useStyles();\n  return <div>\n    <div>\n      <Card className={classes.root}>\n        <CardContent>\n            <Typography variant=\"h6\" component=\"h1\">Contact Us</Typography>\n            <Typography variant=\"body2\">Fill out the contact form, or for more immediate responses, join us on <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://join.slack.com/t/acts-y6j6127/shared_invite/zt-gmnzx11u-8bMX9_T86YUh_fTXiU6nHg\">Slack</a></Typography>\n            <iframe title=\"contact\" src=\"https://docs.google.com/forms/d/e/1FAIpQLScxg0UfktZjdRulfXcTGcbtAl5DirwLqp8U1FPMDIVe9kQrhg/viewform?embedded=true\" min-width=\"300\" width=\"100%\" height=\"900\">Loading</iframe>\n        </CardContent>\n      </Card>\n    \n    </div>\n  </div>\n}","import { Button, Card, CardContent, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { userSelector } from '../../../../utils/redux/user';\nimport { useSelector } from 'react-redux';\nimport { setupIntents } from '../../../../utils/stripe';\n\n\n\nexport default function UserCreateError(){\n  const user = useSelector(userSelector);\n  const handleVerifyPayment = ()=>setupIntents()\n  return <div>\n    <Card>\n      <CardContent>\n        <Typography>To complete the signup process, please provide payment information by clicking the button below</Typography>\n        <Button onClick={handleVerifyPayment}>Proceed to payment section</Button>\n      </CardContent>\n    </Card>\n  </div>\n}","import React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { SERVER_ADDRESS, useCustomSwr } from '../../../../utils/remote';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createUserAction, userSelector } from '../../../../utils/redux/user';\n\nexport default function CreateUserSuccess(){\n  const history = useHistory();\n  const { data } = useCustomSwr(SERVER_ADDRESS+'/users/payments/intents')\n  const user = useSelector(userSelector);\n  const dispatch = useDispatch()\n  useEffect(()=>{\n    if(data){\n      dispatch(createUserAction(data.data))\n    }\n  }, [data])\n  useEffect(()=>{\n    if(user.creditApproved){\n      history.push('/')\n    }\n  }, [user])\n  return null\n}","import React, { cloneElement } from 'react';\r\nimport { Snackbar, IconButton } from '@material-ui/core';\r\nimport { Close as CloseIcon } from '@material-ui/icons';\r\n\r\nimport { UserCreate } from '../../../users/Create';\r\nimport { Switch, Route, useHistory, useLocation } from 'react-router-dom';\r\nimport { SessionCreate } from '../../../sessions/Create';\r\nimport SearchActivities from '../../../pages/Search';\r\nimport Dashboard from '../../../pages/Dashboard';\r\nimport ActivityShow from '../../../shedules/activities/Show';\r\n\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { v4 } from 'uuid';\r\nimport ShedulesAddedActivitiesShowMany from '../../../shedules/activities/added/ShowMany';\r\nimport Contact from '../../../pages/Contact';\r\nimport { userSelector } from '../../../../utils/redux/user';\r\nimport { createGlobalAction, globalSelector } from '../../../../utils/redux/global';\r\nimport UserCreateError from '../../../users/Create/Error';\r\nimport UserCreateSuccess from '../../../users/Create/Success';\r\n\r\n\r\n\r\nconst SHEDULES = '/shedules';\r\n\r\nexport default function MainRoutes() {\r\n  const dispatch = useDispatch();\r\n  const {id, message} = useSelector(globalSelector).snackbar\r\n  const handleClose = ()=>dispatch({\r\n    snackbar: ''\r\n  });\r\n  return <>\r\n    <Snackbar\r\n      key={id}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      }}\r\n      open={!!id}\r\n      autoHideDuration={6000}\r\n      onClose={handleClose}\r\n      action={\r\n        <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\r\n          <CloseIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      }\r\n      message={message}\r\n    />\r\n  <Switch>\r\n    {\r\n      <Route exact path=\"/search\"><RouteWrapper mustBeLoggedIn><SearchActivities /></RouteWrapper></Route>\r\n    }\r\n    \r\n    <Route exact path=\"/contact\"><Contact/></Route>\r\n    <Route exact path=\"/\"><RouteWrapper mustBeLoggedIn><Dashboard /></RouteWrapper></Route>\r\n    {\r\n      // <Route exact path=\"/config\"><MustBeLoggedIn><UsersEdit /></MustBeLoggedIn></Route>\r\n    }\r\n    <Route exact path={`/activities/added`}><RouteWrapper mustBeLoggedIn><ShedulesAddedActivitiesShowMany /></RouteWrapper></Route>\r\n    <Route exact path={`/activities/added`}><RouteWrapper mustBeLoggedIn ><ShedulesAddedActivitiesShowMany /></RouteWrapper></Route>\r\n    <Route exact path={`${SHEDULES}/activities/:sheduleId`}><RouteWrapper mustBeLoggedIn><ActivityShow /></RouteWrapper></Route>\r\n    <Route exact path={`/signup`}><UserCreate/></Route>\r\n    <Route exact path={`/login`}><SessionCreate/></Route>\r\n    <Route exact path={`/error`}><RouteWrapper mustBeLoggedIn><UserCreateError /></RouteWrapper></Route>\r\n    <Route exact path={`/success`}><RouteWrapper mustBeLoggedIn><UserCreateSuccess /></RouteWrapper></Route>\r\n  </Switch>\r\n  </>\r\n};\r\n\r\n\r\nfunction RouteWrapper({children, mustBeLoggedIn, ...props}: {children: JSX.Element, mustBeLoggedIn?: Boolean}){\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const user = useSelector(userSelector);\r\n  if(mustBeLoggedIn){\r\n    if(!user){\r\n      history.push('/overview')\r\n      return null;\r\n    }\r\n    if(!user.creditApproved){\r\n      if(location.pathname !== '/error' && location.pathname !== '/success'){\r\n        history.push('/error')\r\n        return null\r\n      }\r\n\r\n    \r\n    \r\n    }\r\n  }  \r\n  return <>    \r\n    {\r\n      cloneElement(children, props)\r\n    }\r\n  </>\r\n}","import React, {useState} from 'react';\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\nexport default function Profile({className}: {className: string}){\n  const [anchorEl, setAnchorEl] = useState<HTMLElement|null>(null);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const handleClose = ()=>{\n    setAnchorEl(null);\n  }\n  const handleClick = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n  return <>\n    <IconButton className={className} color=\"inherit\" onClick={handleClick} aria-label=\"open profile menu\" component=\"span\">\n      <AccountCircle />\n    </IconButton>\n      <Menu\n      id=\"profile-menu\"\n      anchorEl={anchorEl}\n      keepMounted\n      open={Boolean(anchorEl)}\n      onClose={handleClose}\n    >      \n      <MenuItem onClick={()=>{\n        handleClose()\n        dispatch({type: 'RESET'})\n        history.push('/')\n      }}>Logout</MenuItem>\n    </Menu>\n  </>\n}","import { Button, Divider, Grid, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Box } from '@material-ui/core';\nimport copy from 'copy-to-clipboard';\nimport { userSelector } from '../../../../../utils/redux/user';\nimport FAIcon from '../../../general/FAIcon';\nimport MyPopover from '../../../general/Popover';\nimport { Tooltip } from '@material-ui/core';\nimport { createUserAction } from '../../../../../utils/redux/user';\nimport { uiCreditsSelector, createUIAction } from '../../../../../utils/redux/ui';\n\nexport default function TopNavigationRefer(){\n  const [copied, setCopied] = React.useState(false);\n  const user = useSelector(userSelector);\n  const credits = useSelector(uiCreditsSelector);\n  const dispatch = useDispatch();\n  const code = process.env.REACT_APP_CLIENT_URL + `/#/signup?referral_code=${user.id}`;\n  return <MyPopover\n    disableHover\n    popoverProps={{onClose: ()=>{\n      setCopied(false)\n      dispatch(createUIAction({\n        credits: {\n          ...credits,\n          hasNew: false\n        }\n      }))\n    }}}\n    renderHoverableContent={()=><Button variant=\"contained\" color={credits.hasNew ? \"secondary\" : \"primary\"}>+1 Free Months</Button>}\n    renderOnHoverContent={()=><Box width=\"20rem\" whiteSpace=\"normal\" padding=\"1.5rem\">\n      <Typography variant=\"body2\">Send this referral link to a friend and you both get an additional <strong>free</strong> month when they sign up</Typography>\n      <Box m=\"1rem\"><Divider /></Box>\n      <Box variant=\"span\">\n        <Grid container>\n          <Grid item xs={3}>\n            {\n              copied ? \"Link copied to clipboard!\" : <Tooltip title=\"copy to clipboard\">\n              <span onClick={()=>{\n                copy(code)\n                setCopied(true)\n              }}><FAIcon style={{\n                cursor: 'pointer'\n              }}\n              type=\"clipboard\" size=\"2x\" /></span>\n              </Tooltip>\n            }\n          </Grid>\n          \n          <Grid item xs={9}>\n            <Typography variant=\"body2\">{code}</Typography>\n          </Grid>\n        </Grid>\n        {\n          credits.count === 0 ? null : <Box m=\"1rem 0\">\n            <Divider />\n          </Box>\n        }\n        {\n          credits.count === 0 ? null : <Grid container><Grid item>\n            <Typography variant=\"body2\"><strong>Congratulations</strong><>, you have</><strong>{credits.count}</strong><>{` free month credit${credits.count > 1 ? 's' : ''}`}</>\n            </Typography>\n          </Grid></Grid>\n        }\n      </Box>\n    </Box>\n    }\n  />\n}","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { IconButton, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport Profile from './Profile';\nimport FAIcon from '../../general/FAIcon';\nimport { userSelector } from '../../../../utils/redux/user';\nimport { addedActivitiesSelector } from '../../../../utils/redux/config';\nimport HomeIcon from '@material-ui/icons/Home';\nimport { blue } from '@material-ui/core/colors';\nimport IconMenu from '../../general/IconMenu';\nimport TopNavigationRefer from './Refer';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    \n    \n\n  },\n  logo: {\n    height: '3.5rem',\n  },\n  titleLink: {\n    flexGrow: 1,\n    textDecoration: 'none',\n    color: 'inherit',\n    // marginRight: '3.5rem'\n  },\n  iconButtons: {\n    // color: 'rgba(0,0,0,0.7)',\n    color: blue[700],\n    textDecoration: 'none'\n  }\n}));\n\nexport default ()=>{\n  const classes = useStyles();\n  const user = useSelector(userSelector);\n  const addedActivities = useSelector(addedActivitiesSelector);\n\n  return <AppBar position=\"sticky\"\n    color=\"inherit\"\n  >\n    <Toolbar>\n      <Link className={classes.titleLink} to=\"/\">\n        <Typography variant=\"h6\" className={classes.title}>        \n            <img alt=\"Acts logo\" src=\"https://imgur.com/ltNSZaz.png\" className={classes.logo}/>\n        </Typography>\n      </Link>\n        \n        {\n          !user ? <>\n          <Button color=\"inherit\"><Link to=\"/login\">Login</Link></Button>\n          <Button color=\"inherit\"><Link to=\"/signup\">Signup</Link></Button></>\n          :\n          <>\n          {\n            // <Create />\n          }\n          {\n            !user.creditApproved ? null : <>\n              <Link className={classes.iconButtons} to=\"/activities/added\"><IconButton color=\"inherit\">{Object.keys(addedActivities).length ? Object.keys(addedActivities).length : null}<FAIcon size=\"md\" type=\"calendar-alt\"/></IconButton></Link>\n              <Link className={classes.iconButtons} to=\"/search\"><IconButton color=\"inherit\"><FAIcon size=\"md\" type=\"search\"/></IconButton></Link>\n              <Link className={classes.iconButtons} to=\"/\"><IconButton className=\"main-search-icon\" color=\"inherit\"><HomeIcon/></IconButton></Link>\n            </>\n          }\n          <Profile className={classes.iconButtons} />\n          <TopNavigationRefer />\n          </>\n        }\n    </Toolbar>\n  </AppBar>\n}\n","import React from 'react';\n\nimport { Switch, Route } from 'react-router-dom';\nimport { makeStyles, Container } from '@material-ui/core';\nimport Footer from '../../navigation/Footer';\nimport Overview from '../../../pages/Overview';\nimport MainRoutes from '../Main';\nimport TopNavigation from '../../navigation/Top';\nimport { SERVER_ADDRESS, get } from '../../../../utils/remote';\nimport { createConfigAction, configSelector } from '../../../../utils/redux/config';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userSelector } from '../../../../utils/redux/user';\nimport { createUIAction, uiCreditsSelector } from '../../../../utils/redux/ui';\n\nconst useStyle = makeStyles({\n  page: {\n    paddingTop: '1rem',\n    paddingBottom: '4rem',\n    backgroundColor: '#eaf5e6',//grey[100],\n    minHeight: '90vh',\n  }\n})\n\nconst CoreApp = ()=>{\n  const classes = useStyle()\n  return <>\n    <TopNavigation />\n    <Container className={classes.page} maxWidth={false}>\n      <MainRoutes />\n    </Container>\n  </>\n}\n\nexport default function RootRoutes() {\n  const dispatch = useDispatch();\n  const config = useSelector(configSelector);\n  const user = useSelector(userSelector);\n  const credits = useSelector(uiCreditsSelector);\n  React.useEffect(()=>{\n    (async ()=>{\n      if(user && user.creditApproved){\n        const {data: count} = await get(SERVER_ADDRESS+'/credits/count');\n        const configData = await get(SERVER_ADDRESS+'/users/config');\n        dispatch(createConfigAction({\n          flush: true,\n          data: {\n            ...config,\n            ...configData\n          }\n        }))\n        dispatch(createUIAction({\n          credits: {\n            count: count || 0,\n            hasNew: credits.count < count,\n          }\n        }))\n      }\n    })();\n\n  },[user])\n\n  return <>\n    <Switch>\n      <Route exact path=\"/overview\"><Overview/></Route>\n      <Route path=\"*\"><CoreApp /></Route>\n    </Switch>\n    <Footer />\n  </>\n};\n\n\n","import 'fontsource-roboto';\n\nimport React from 'react';\n// import { BrowserRouter } from 'react-router-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { SWRConfig } from 'swr';\nimport { Provider } from 'react-redux';\n\nimport { store } from './utils/redux';\nimport { get } from './utils/remote';\nimport RootRoutes from './features/components/routes/Root';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\n\nimport DateFnsUtils from '@date-io/date-fns';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { blue } from '@material-ui/core/colors';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: blue[700],\n    },\n  },\n});\nfunction App() {\n  return <Wrap store={store}><RootRoutes /></Wrap>;\n}\n\nexport default App;\n\nconst Router = HashRouter;\n\nexport function Wrap({children, store}: { children: JSX.Element, store: any}){\n  return (<SWRConfig\n    value={{\n      // refreshInterval: 3000,\n      fetcher: (arg1, ...args)=>{\n        return get(arg1, ...args)\n      },\n    }}\n    >\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <ThemeProvider theme={theme}>\n        <Provider store={store}>\n          <div>\n            <Router>\n              {\n                children\n              }\n            </Router>\n          </div>\n        </Provider>\n      </ThemeProvider>\n    </MuiPickersUtilsProvider>\n  </SWRConfig>);\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}