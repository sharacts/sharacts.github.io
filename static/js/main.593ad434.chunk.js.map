{"version":3,"sources":["utils/auth.ts","utils/redux/user/index.ts","utils/remote.ts","utils/redux/config/index.ts","utils/redux/global/index.ts","utils/redux/ui/index.ts","utils/redux/index.ts","features/components/navigation/Footer/index.tsx","features/materials/utils/index.ts","features/materials/List/index.tsx","features/materials/Accordions/index.tsx","features/components/general/FAIcon/index.tsx","features/shedules/activities/added/utils.ts","utils/ga/index.ts","features/shedules/activities/added/Button/index.tsx","features/components/general/Popover/index.tsx","features/materials/Tag/index.tsx","features/components/general/IconMenu/index.tsx","features/shedules/activities/added/Options/index.tsx","features/components/general/Slideshow/index.tsx","features/shedules/activities/preview/Images/index.tsx","features/components/general/Tour/index.tsx","features/components/general/Tour/Beacon/index.tsx","features/components/general/SheduleRow/Slot/Tour/index.tsx","features/components/general/SheduleRow/Slot/index.tsx","features/components/general/SheduleRow/Tags/index.tsx","features/components/general/SheduleRow/PortraitSlot/index.tsx","features/components/general/SheduleRow/SquareSlot/index.tsx","features/components/general/Scroll/Slides/index.tsx","utils/window/index.ts","features/components/general/Scroll/index.tsx","features/components/general/SheduleRow/index.tsx","features/pages/Overview/index.tsx","utils/stripe/index.ts","features/users/Create/index.tsx","features/sessions/Create/index.tsx","features/pages/Search/Row/index.tsx","features/pages/Search/index.tsx","features/pages/Dashboard/Config/DashboardTabForm/Slider/index.tsx","features/pages/Dashboard/Config/DashboardTabForm/index.tsx","features/pages/Dashboard/Config/index.tsx","features/components/general/Tabs/index.tsx","features/pages/Dashboard/NonSearchRow/index.tsx","features/pages/Dashboard/NonSearchPortraitRow/index.tsx","features/pages/Dashboard/NonSearchSquareRow/index.tsx","features/pages/Dashboard/ListActivities/index.tsx","features/pages/Dashboard/index.tsx","features/shedules/activities/Show/index.tsx","features/shedules/activities/added/Timeline/index.tsx","features/shedules/activities/added/ShowMany.tsx","features/pages/Contact/index.tsx","features/users/Create/Error/index.tsx","features/users/Create/Success/index.tsx","features/components/general/ButtonPrompt/index.tsx","features/pages/Subscriptions/index.tsx","features/pages/Reactivate/index.tsx","features/pages/TermsOfUse/index.tsx","features/pages/Privacy/index.tsx","features/components/routes/Main/index.tsx","features/components/navigation/Top/Profile/index.tsx","features/components/navigation/Top/Refer/index.tsx","features/components/navigation/Top/index.tsx","features/components/general/BarChart/index.tsx","features/pages/affiliates/Dashboard/BarChart/index.tsx","features/pages/affiliates/Landing/index.tsx","features/pages/affiliates/Login/index.tsx","features/pages/affiliates/Signup/index.tsx","features/pages/affiliates/Dashboard/index.tsx","features/components/routes/Affiliate/index.tsx","features/components/routes/Root/index.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["setToken","token","localStorage","setItem","getToken","getItem","createUserAction","payload","type","userSelector","state","user","SERVER_ADDRESS","process","genDefaultHeaders","Authorization","post","url","options","headers","fetch","method","body","JSON","stringify","then","handleErrors","get","otherOptions","res","status","dispatch","json","customMerge","objValue","srcValue","isArray","undefined","useCustomSwr","apiKey","useState","page","setPage","defaultValue","data","setData","noMoreContent","setNoMoreContent","incrementPage","resetPage","useEffect","doNotFire","suffix","query","qs","arrayFormat","cache","lscache","requestOptions","set","length","concat","callback","deps","mutate","nextData","mergeResults","mergeWith","createConfigAction","configSelector","config","dashboardTabsSelector","dashboardTabs","materialsSelector","materials","materialTypesSelector","materialTypes","addedActivitiesSelector","addedActivities","addedActivitySelector","id","wontDoActivitySelector","wontDoActivities","completedActivitySelector","completedActivities","onboardingSelector","onboarding","defaultState","snackbar","message","globalSelector","global","createUIAction","uiSelector","ui","uiCreditsSelector","credits","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","reducerDic","action","rawAddedActivities","rawWontDoActivities","rawCompletedActivities","rawMaterials","rawMaterialTypes","parse","ages","subjects","ordinal","touched","uuid","v4","listActivities","completed","step","bookmarks","getDefaultState","flush","nextState","Object","keys","reduce","acc","curr","put","jwt","decode","key","defaultObj","dashboard","tab","isEditing","count","hasNew","reducer","store","createStore","clear","useStyles","makeStyles","root","padding","ul","listStyleType","Footer","classes","Container","className","maxWidth","Grid","container","item","to","getMaterialId","req","raw","materialTypeNotMaterial","materialTypeMatch","types","useStyle","typeMatch","color","MaterialsList","activity","useSelector","useDispatch","handleChange","event","checked","target","nextMaterials","nextMaterialTypes","a","FormGroup","properties","metaRequirements","map","FormControlLabel","control","Checkbox","onChange","name","label","join","theme","margin","spacing","formLabel","paddingTop","useAccordionStyles","minHeight","content","Accordions","accordionClasses","FormControl","component","Accordion","defaultExpanded","AccordionSummary","expandIcon","ExpandMore","aria-controls","FormLabel","AccordionDetails","FAIcon","props","outline","light","split","getType","getName","size","style","classnames","updateActivities","activityRelationships","getState","nextAddedActivities","addActivityToSchedule","highestOrdinal","values","inSchedule","ga","sendEvent","gaProps","category","value","AddActivityButtons","disabled","directToSchedule","spanRef","addedActivity","display","ref","IconButton","onClick","blacklist","removeActivity","MyPopover","disablePopup","disableHover","popoverClasses","renderHoverableContent","renderOnHoverContent","popoverProps","debounced","React","mouseStopped","setMouseStopped","anchorEl","setAnchorEl","candidateAnchorEl","setCandidateAnchorEl","debouncedSetMouseStopped","debounce","currentId","setCurrentId","hoverableContentProps","currentTarget","onMouseEnter","nextCurrentId","uniqueId","onMouseLeave","onClose","Popover","open","Boolean","disableRestoreFocus","tagContent","width","marginTop","perfectScore","palette","secondary","main","closeScore","primary","usePopoverStyles","paper","maxHeight","overflowY","MaterialsTag","score","Number","classNames","anchorOrigin","vertical","horizontal","transformOrigin","IconMenu","handleClose","Button","buttonComp","aria-haspopup","buttonProps","renderIcon","MoreVert","Menu","keepMounted","renderMenuItems","AddActivityOptions","MenuItem","removeActivityFromSchedule","ListItemIcon","EventAvailableRounded","fontSize","ListItemText","addCompletedActivity","Check","addDroppedActivity","Clear","hidden","Slideshow","images","prevArrow","nextArrow","autoplay","duration","pauseOnHover","infinite","easing","noop","img","height","backgroundSize","position","close","zIndex","right","top","cursor","ActivitiesPreviewImages","imgLinks","src","Tour","onEnd","joyrideProps","Date","getTime","lastCheck","setLastCheck","stepIndex","setStepIndex","console","log","nextStepIndex","EVENTS","STEP_AFTER","TARGET_NOT_FOUND","includes","ACTIONS","PREV","currentTime","STATUS","FINISHED","SKIPPED","steps","animation","backgroundColor","borderRadius","opacity","Beacon","SlotTour","bookmarkNav","setBookmarkNav","bookmarkSpan","setBookmarkSpan","document","getElementsByClassName","querySelectorAll","continuous","run","scrollToFirstStep","showProgress","showSkipButton","styles","nextStep","Popper","pointerEvents","marginLeft","title","placement","Typography","variant","spotlightPadding","offset","useActivityButtonStyles","activityRoot","verticalAlign","marginRight","marginBottom","tagRoot","flexDirection","flexWrap","alignItems","justifyContent","alignContent","paddingBottom","overflow","tag","imageTag","activityTitle","whiteSpace","textDecoration","sheduleTitle","fontWeight","sideContent","starSideContent","textAlign","activityImage","transform","headerRoot","borderBottom","SheduleSlot","memo","activityButtonClasses","shedule","wontDoActivity","completedActivity","bookmarkActivity","createRef","uniqueTags","_","uniqBy","tags","filter","indexOf","age","minAge","maxAge","activityLinkTo","firstRow","index","refs","Card","CardHeader","Tooltip","preview","text","maxLine","ellipsis","basedOn","addedActivityPage","CardContent","rating","blue","starDimension","starSpacing","starRatedColor","amber","slice","i","description","icon","image","alt","direction","Tags","styleProps","Tag","tooltip","iconProps","children","PortraitSlot","CardMedia","find","SquareSlot","quotient","test","align","Slides","getWindowDimensions","innerWidth","innerHeight","Scroll","renderSlides","slideWidth","swiper","setSwiper","setOnEnd","onStart","setOnStart","replace","m","p","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","renderedSlides","buttonStyle","isMobile","sw","Swiper","slidesPerView","on","reachEnd","reachBeginning","slideNext","activeIndex","indexIncrementCount","Math","max","floor","getIncrementAmount","nextIndex","min","slideTo","indexDecrementCount","slidePrev","wrap","overflowX","SheduleRow","featuredPortrait","featuredSquare","renderSlots","first","Slot","slots","useMastStyles","backgroundImage","backgroundPosition","backgroundRepeat","backgroundAttachment","left","signup","colors","teal","signupWrapper","login","useSubjectStyles","grey","boxes","useRequirementStyles","useAgeStyles","useMaterialStyles","Overview","isBiggerThanTiny","useMediaQuery","sampleSize","jsonActivities","activities","Bx","justify","subjectClasses","mastClasses","ageClasses","materialClasses","requirementClasses","requirementsText","Box","signupButton","fullWidth","disableGutters","xs","md","s","stripePromise","loadStripe","setupIntents","session","stripe","redirectToCheckout","sessionId","error","UserCreate","location","useLocation","parsed","search","UserCreateCard","onSuccessCB","referralCode","referral_code","api","additionalInformation","validReferralCode","Divider","schema","yup","shape","termsofuse","oneOf","required","email","password","optional","UserCreateForm","useForm","resolver","yupResolver","handleSubmit","register","errors","apiErrors","setApiErrors","referralCodeError","setReferralCodeError","isValid","valid","onSubmit","catch","err","errorExists","TextField","inputRef","helperText","FormHelperText","CardActions","SessionCreate","history","useHistory","SessionCreateCard","push","SearchActivitiesRow","previousSizes","setPreviousSizes","reset","searchTags","setSearchTags","searchText","setSearchText","onSearch","nextVal","clean","toLowerCase","v","partition","nextSeachTagsArr","nextSearchTextArr","nextSearchTags","nextSearchText","createFilterOptions","Autocomplete","freeSolo","multiple","popularTags","t","filterOptions","params","filtered","inputValue","selectOnFocus","clearOnBlur","handleHomeEndKeys","renderInput","placeholder","SearchActivities","valuetext","tagValue","numb","marks","ValueLabelComponent","enterTouchDelay","DiscreteSlider","n","parseInt","stateValue","setStateValue","nextValue","debouncedOnChange","mt","gutterBottom","Slider","aria-label","DashboardTabForm","dashboardTab","nextAges","formControl","minWidth","chips","chip","noLabel","Config","x","TabPanel","other","role","aria-labelledby","MyTabs","tabsProps","tabPropsArr","Tabs","e","newValue","indicatorColor","textColor","tabProps","Tab","header","SearchActivitiesNonSearchRow","portraitFeatured","activitiesLoadedCallback","Set","reverse","SearchActivitiesNonSearchPortraitRow","SearchActivitiesNonSearchSquareRow","ListActivities","tagOrder","setTagOrder","shuffle","squareRender","portraitRender","render","Dashboard","rawDashboardTabs","sort","b","d","stopPropagation","spacer","requirements","card","cardTitle","cardTitleWrapper","ActivityShow","sheduleId","useParams","lg","xl","link","href","rel","Fragment","linkWrapper","Chip","humanizeDuration","source","DayTimeline","onDragEnd","result","destination","reorderOrdinals","droppableId","provided","snapshot","droppableProps","innerRef","Timeline","activityRel","draggableId","draggableProps","dragHandleProps","isDragging","draggableStyle","userSelect","grid","TimelineItem","TimelineOppositeContent","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","ShedulesAddedActivitiesShowMany","setTab","ids","biggerThanSmall","noActivitiesText","inScheduleActivities","bookmarkedActivities","schedule","tour","bookmarkSteps","sm","Contact","min-width","UserCreateError","CreateUserSuccess","creditApproved","ButtonPrompt","onConfirm","isOpen","setIsOpen","Dialog","DialogContent","DialogActions","Subscriptions","Table","TableBody","TableRow","TableCell","format","addMonths","parseISO","createdAt","cancelled","info","button","Reactivate","TermsOfUse","Privacy","MainRoutes","Snackbar","autoHideDuration","Close","exact","path","RouteWrapper","mustBeLoggedIn","unlisten","listen","scrollTo","pathname","active","cloneElement","Profile","enterDelay","TopNavigationRefer","affiliate","copied","setCopied","code","copy","flexGrow","menuButton","logo","titleLink","iconButtons","AppBar","Toolbar","BarChart","barChartProps","boxProps","canvas","useRef","setChart","current","ctx","getContext","Chart","DashboardBarChart","money","maintainAspectRatio","scales","yAxes","ticks","beginAtZero","suggestedMax","titleWrapper","subtitle","AffiliateLanding","labels","datasets","summary","AffiliateLogin","AffiliateSignup","AffiliateDashboard","activeReferrals","affiliateInformation","earningsData","earningsByDate","activeUsersData","activeUsersByDate","PageContainer","Top","AffiliateRoutes","CoreApp","RootRoutes","configData","REACT_APP_AFFILIATE","createMuiTheme","App","Wrap","HistoryWrapper","Router","HashRouter","fetcher","arg1","args","utils","DateFnsUtils","ThemeProvider","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.593ad434.chunk.js","sourcesContent":["\nexport const setToken = (token: string)=>{\n  localStorage.setItem('token', token);\n}\n\nexport const getToken = ()=>localStorage.getItem('token');\n","import jwt from 'jsonwebtoken';\nimport { getToken, setToken } from '../../auth';\n\nexport const DEFAULT_USER_TYPE = 'DEFAULT_USER_TYPE';\n\nconst getDefaultState = ()=>{\n  const token = getToken();\n  return token ? jwt.decode(token) : null\n}\n\nexport const reducer = (state: any, action: any)=>{\n  if(state === undefined){\n    state = getDefaultState();\n  }\n  if(action.type === DEFAULT_USER_TYPE){\n    setToken(action.payload);\n    if(!action.payload) return action.payload;\n    return jwt.decode(action.payload)\n  } \n  return state;\n}\n\nexport const createUserAction = (payload: any)=>{\n  return {\n    type: DEFAULT_USER_TYPE,\n    payload,\n  }\n}\n\n\n\nexport const userSelector = (state: any)=>state.user","import qs from 'query-string';\nimport { useEffect, useState } from 'react';\nimport { mergeWith, isArray } from 'lodash';\nimport { dispatch } from './redux';\nimport { getToken } from './auth';\nimport lscache from 'lscache';\nimport { createUserAction } from './redux/user';\n\nexport const SERVER_ADDRESS = process.env.REACT_APP_SERVER_ADDRESS || \"\";\nconst genDefaultHeaders = ()=>({\n  Authorization: getToken() ? `Bearer ${getToken()}` : '',\n  'Content-Type': 'application/json',\n});\n\n// lscache.flush();\nconst post = (url: string, options:any={headers: {}})=>fetch(url, {\n  method: 'POST',\n  headers: {\n    ...genDefaultHeaders(),\n    ...options.headers,\n  },\n  ...options,\n  body: JSON.stringify(options.body),\n}).then(handleErrors);\n\nconst put = (url: string, options: any={headers: {}})=>fetch(url, {\n  method: 'PUT',\n  headers: {\n    ...genDefaultHeaders(),\n    ...options.headers,\n  },\n  ...options,\n  body: JSON.stringify(options.body),\n}).then(handleErrors);\n\nconst del = (url: string, options: any={headers: {}})=>fetch(url, {\n  method: 'DELETE',\n  headers: {\n    ...genDefaultHeaders(),\n    ...options.headers,\n  },\n  ...options,\n}).then(handleErrors);\n\nconst get = (url: string, options: any={headers: {}})=>{\n  const {headers, ...otherOptions} = options;\n  return fetch(url, {\n    method: 'GET',\n    headers: {\n      ...genDefaultHeaders(),\n      ...headers,\n    },\n    ...otherOptions,\n  }).then(handleErrors);\n}\n\nconst handleErrors = (res: any)=>{\n  if(res.status === 401){\n    dispatch(createUserAction(null));\n  }\n  if(res.status >= 400){\n    throw res\n  }\n  return res.json();\n}\n\nconst customMerge = function (objValue: any, srcValue: any) {\n  if (isArray(objValue)){\n    return objValue;\n  }\n  if(objValue !== undefined){\n    return objValue\n  }\n}\n\nconst useCustomSwr = (apiKey: string, options:any={})=>{\n  const [ page, setPage ] = useState(0);\n  const [ data, setData ] = useState<any>(options.defaultValue || null);\n  const [ noMoreContent, setNoMoreContent ] = useState(false);\n  const incrementPage = ()=>setPage(page+1);\n  const resetPage = ()=>setPage(0);\n  \n  useEffect(()=>{\n    if(!options.doNotFire){\n      let suffix='';\n      if(options.query){\n        suffix=qs.stringify({\n          ...options.query,\n          ...(options.page ? {\n            page\n          } : {}),\n        }, {arrayFormat: 'bracket'})\n      }\n      const url = apiKey+(suffix ? '?' + suffix : suffix);\n      let dataRequest\n      if(options.cache && lscache.get(url) && false){\n        dataRequest = Promise.resolve(JSON.parse(lscache.get(url)));\n      } else {\n        dataRequest = get(url, options.requestOptions)\n        .then((json)=>{\n          if(options.cache){\n            lscache.set(url, JSON.stringify(json), 10);\n          }\n          return json;\n        });\n      }\n      dataRequest.then((res)=>{\n        if(page){\n          if(!res.length){\n            setNoMoreContent(true)\n          }\n          return setData(data.concat(res))\n        }\n        return setData(res);\n      }).then(()=>{\n        return options.callback && options.callback();\n      })\n    }\n  }, (options.deps || []).concat([page]));\n  const mutate = (nextData: any)=>{\n    const mergeResults = mergeWith({...nextData}, data, customMerge);\n    setData(mergeResults);\n  }\n  return { data, mutate, incrementPage, resetPage, page, noMoreContent }\n}\n\nexport {\n  get,\n  post,\n  put,\n  del,\n  useCustomSwr,\n}","import {v4} from 'uuid';\nimport { SERVER_ADDRESS, put } from '../../remote';\nexport const DEFAULT_CONFIG_TYPE = 'DEFAULT_CONFIG_TYPE';\n\ninterface $state {\n    addedActivities: {[id: string]: {\n      inSchedule?: Boolean,\n      ordinal: number,\n    }},\n    wontDoActivities: {[id: string]: Boolean},\n    completedActivities: {[id: string]: Boolean},\n    materials: {[id: string]: Boolean},\n    materialTypes: {[id: string]: Boolean},\n    dashboardTabs: {\n      name?: string,\n      ages: string[],\n      subjects: string[],\n      ordinal: number,\n      touched: Boolean,\n      uuid: string,\n    }[],\n    onboarding: {\n      listActivities: {\n        completed: Boolean,\n        step: number,\n      },\n      bookmarks: {\n        completed: Boolean,\n        step: number,\n      }\n    }\n}\nconst getDefaultState = ()=>{\n  const rawAddedActivities = localStorage.getItem('addedActivities');\n  const rawWontDoActivities = localStorage.getItem('wontDoActivities');\n  const rawCompletedActivities = localStorage.getItem('completedActivities');\n  const rawMaterials = localStorage.getItem('materials');\n  const rawMaterialTypes = localStorage.getItem('materialTypes');\n  const dashboardTabs = localStorage.getItem('dashboardTabs');\n  const onboarding = localStorage.getItem('onboarding');\n\n  const defaultState : $state = {\n    addedActivities: rawAddedActivities ? JSON.parse(rawAddedActivities) : {},\n    wontDoActivities: rawWontDoActivities ? JSON.parse(rawWontDoActivities) : {},\n    completedActivities: rawCompletedActivities ? JSON.parse(rawCompletedActivities) : {},\n    materials: rawMaterials ? JSON.parse(rawMaterials) : {},\n    materialTypes: rawMaterialTypes ? JSON.parse(rawMaterialTypes) : {},\n    dashboardTabs: dashboardTabs ? JSON.parse(dashboardTabs) : [\n      {\n        ages: [],\n        subjects: [],\n        ordinal: 0,\n        touched: false,\n        uuid: v4()\n      }\n    ],\n    onboarding: onboarding ? JSON.parse(onboarding) : {\n      listActivities: {\n        completed: false,\n        step: 0\n      },\n      bookmarks: {\n        completed: false,\n        step: 0\n      },\n    }\n  };\n  return defaultState;\n}\n\nexport const reducer = (state: $state, action: any)=>{\n  if(state === undefined){\n    state = getDefaultState()\n  }\n  if(action.type === DEFAULT_CONFIG_TYPE){\n    if(action.payload.flush){\n      return action.payload.data\n    }\n    const nextState = Object.keys(action.payload).reduce((acc: any, curr: string)=>{\n      acc[curr] = action.payload[curr];\n      localStorage.setItem(curr, JSON.stringify(action.payload[curr]))\n      return acc;\n    }, {...state});\n    put(SERVER_ADDRESS+'/users/config', {\n      body: action.payload\n    });\n    return nextState;\n  }\n  return state;\n}\n\nexport const createConfigAction = (payload: any)=>{\n  return {\n    type: DEFAULT_CONFIG_TYPE,\n    payload,\n  }\n}\n\ninterface $globalState {\n  config: $state\n}\n\n\ntype $onboardingTypes = 'listActivities' | 'bookmarks';\n\nexport const configSelector = (state: $globalState)=>state.config\nexport const dashboardTabsSelector = (state: $globalState)=>state.config.dashboardTabs;\nexport const materialsSelector = (state: $globalState)=>state.config.materials;\nexport const materialTypesSelector = (state: $globalState)=>state.config.materialTypes;\nexport const addedActivitiesSelector = (state: $globalState)=>state.config.addedActivities;\nexport const wontDoActivitiesSelector = (state: $globalState)=>state.config.wontDoActivities;\nexport const completedActivitiesSelector = (state: $globalState)=>state.config.completedActivities;\nexport const addedActivitySelector = (id: string)=>(state: $globalState)=>state.config.addedActivities[id];\nexport const wontDoActivitySelector = (id: string)=>(state: $globalState)=>state.config.wontDoActivities[id];\nexport const completedActivitySelector = (id: string)=>(state: $globalState)=>state.config.completedActivities[id];\nexport const onboardingSelector = (type: $onboardingTypes)=>(state: $globalState)=>state.config.onboarding[type];\n","export const DEFAULT_GLOBAL_TYPE = 'DEFAULT_GLOBAL_TYPE';\n\nconst defaultState = {\n  snackbar: {\n    message: '',\n    id: ''\n  },\n};\n\nexport const reducer = (state=defaultState, action: any)=>{\n    if(action.type === DEFAULT_GLOBAL_TYPE){\n      return Object.keys(action.payload).reduce((acc: any, key)=>{\n        acc[key]=action.payload[key];\n        return acc\n      }, {...state})\n    }\n    return state;\n}\n\nexport const createGlobalAction = (payload: any)=>{\n  return {\n    type: DEFAULT_GLOBAL_TYPE,\n    payload,\n  }\n}\n\n\n\nexport const globalSelector = (state: any)=>state.global","export const DEFAULT_UI_TYPE = 'DEFAULT_UI_TYPE';\n\nconst getDefaultState = ()=>{\n  const ui = localStorage.getItem('ui');\n\n  const defaultObj = {\n    dashboard: {\n      tab: 0,\n      isEditing: true\n    },\n    addedActivities: {\n      tab: 0,\n    },\n    credits: {\n      count: 0,\n      hasNew: false\n    }\n  };\n  return ui ? {\n    ...defaultObj,\n    ...JSON.parse(ui)\n  } : defaultObj;\n}\n\n\n\n\nexport const reducer = (state: any, action: any)=>{\n  if(state === undefined){\n    state = getDefaultState();\n  }\n  if(action.type === DEFAULT_UI_TYPE){\n    const nextState = Object.keys(action.payload).reduce((acc: any, key)=>{\n      acc[key]=action.payload[key];\n      return acc\n    }, {...state})\n    localStorage.setItem('ui', JSON.stringify(nextState))\n    return nextState\n  }\n  return state;\n}\n\nexport const createUIAction = (payload: any)=>{\n  return {\n    type: DEFAULT_UI_TYPE,\n    payload,\n  }\n}\n\nexport const uiSelector = (state: any)=>state.ui\nexport const uiCreditsSelector = (state: any)=>state.ui.credits","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk';\nimport { reducer as config } from './config';\nimport { reducer as user } from './user';\nimport { reducer as global } from './global';\nimport { reducer as ui } from './ui';\n\nconst composeEnhancers =\n  typeof window === 'object' &&\n  (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?   \n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n      // Specify extensions options like name, actionsBlacklist, actionsCreators, serialize...\n    }) : compose;\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(thunk),\n);\n\nconst reducerDic : any = {\n  config,\n  user,\n  global,\n  ui\n};\n\nconst reducer = (state: any = {}, action: any)=>{\n  return Object.keys(reducerDic).reduce((acc, key)=>{\n    acc[key] = reducerDic[key](state[key], action);\n    return acc;\n  }, state)\n}\n\nexport const storeGenerator = ()=>createStore((state, action)=>{\n  if(action.type === 'RESET'){\n    localStorage.clear();\n    return reducer(undefined, action);\n  }\n  return reducer(state, action);\n}, enhancer);\n\nexport const store = storeGenerator()\n\nexport const dispatch = store.dispatch","import React from 'react';\nimport { Grid, Container } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    padding: '2rem'\n  },\n  ul: {\n    listStyleType: 'none'\n  }\n})\n\nexport default function Footer(){\n  const classes = useStyles();\n  return <Container className={classes.root} maxWidth=\"sm\">\n    <Grid container>\n      <Grid item>\n        <ul className={classes.ul}>\n          <li><Link to=\"/contact\">Contact Us</Link></li>\n          <li><Link to=\"/termsofuse\">Terms of Use</Link></li>\n          <li><Link to=\"/privacy\">Privacy</Link></li>\n        </ul>\n      </Grid>\n    </Grid>\n  </Container>\n}","export const getMaterialId = (id: string, req: any)=>id+req.raw\n\nexport const materialTypeNotMaterial = (materials: any, materialTypes: any)=>(id: string, req: any)=>{\n  return !materials[getMaterialId(id, req)] && materialTypeMatch(materialTypes)(req.types)\n}\n\nexport const materialTypeMatch = (materialTypes: any)=>(types: any)=>types.reduce((acc: any, curr: any)=>{\n  if(acc) return acc;\n  return materialTypes[curr];\n}, false);","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getMaterialId, materialTypeNotMaterial, materialTypeMatch } from '../utils';\nimport { createConfigAction, materialsSelector, materialTypesSelector } from '../../../utils/redux/config';\nimport { FormControlLabel, makeStyles } from '@material-ui/core';\nimport { FormGroup } from '@material-ui/core';\nimport { Checkbox } from '@material-ui/core';\n\nconst useStyle = makeStyles({\n  typeMatch: {\n    color: '#e0e0e0 !important',\n  }\n})\n\n\n\nexport default function MaterialsList({activity}: {activity: any}){\n  const classes = useStyle();\n  const materials = useSelector(materialsSelector);\n  const materialTypes = useSelector(materialTypesSelector);\n\n\n  const dispatch = useDispatch();\n  \n  const handleChange = (id: string, req: any)=>(event: any)=>{\n    const checked = event.target.checked || materialTypeNotMaterial(materials, materialTypes)(id, req);\n    const nextMaterials = {\n      ...materials,\n      [getMaterialId(id, req)]: checked\n    }\n    const nextMaterialTypes = req.types.reduce((acc: any, curr: string)=>{\n      acc[curr] = checked;\n      return acc\n    }, {...materialTypes});\n    dispatch(createConfigAction({\n      materials: nextMaterials,\n      materialTypes: nextMaterialTypes,\n    }));\n  }\n  const a = activity;\n  return  <FormGroup>\n  {\n    (a?.properties?.metaRequirements || []).map((req: any) => {\n      return <FormControlLabel\n        key={a.id+req.raw}\n        control={\n          <Checkbox\n            classes={{\n              checked: materialTypeNotMaterial(materials, materialTypes)(a.id, req) && classes.typeMatch\n            }}\n            checked={\n              !!(materials[\n                getMaterialId(a.id, req)\n              ]) || \n              materialTypeMatch(materialTypes)(req.types) || \n              false\n            }\n            onChange={handleChange(a.id, req)} \n            name={req.raw} />\n          }\n        label={\n          req.types.join(' or ')\n          // req.raw\n        }\n      />\n    })\n  }\n</FormGroup>\n}\n","import React from 'react';\nimport { makeStyles, FormControl, FormLabel } from '@material-ui/core';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\n\nimport MaterialsList from '../List';\n\n\nimport { ExpandMore as ExpandMoreIcon } from '@material-ui/icons';\n\n\nconst useStyles = makeStyles(theme=>({\n  root: {\n    margin: theme.spacing(3),\n  },\n  formLabel: {\n    paddingTop: '0.5rem'\n  }\n}))\n\nconst useAccordionStyles = makeStyles({\n  root: {\n    minHeight: '30px !important'\n  },\n  content: {\n    margin: '0 !important'\n  },\n})\n\n\nexport default function Accordions({data}: {data: any[]}){\n  const classes = useStyles();\n  const accordionClasses = useAccordionStyles();\n  return <FormControl component=\"fieldset\" className={classes.root}> \n  {\n    data.map(a=>{\n      return <Accordion defaultExpanded>\n        <AccordionSummary\n          classes={accordionClasses}\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n        <FormLabel className={classes.formLabel} component=\"legend\">{a.name}</FormLabel>\n        </AccordionSummary>\n        <AccordionDetails>\n          <MaterialsList activity={a} />\n        </AccordionDetails>\n      </Accordion>\n    })\n  }\n</FormControl>\n}","import React from 'react'\nimport classnames from 'classnames'\n\ntype $props = {outline?: Boolean, light?: Boolean, raw?: string, className?: string, size?: string|number, type?: string, style?: Object}\n\nexport default function FAIcon(props: $props){\n  const type = getType(props);\n  const name = getName(props);\n  const size = props.size\n  return <i style={props.style || {}} className={classnames(props.className, type, name, size && 'la-'+size)} />\n}\n\nfunction getType(props: $props){\n  if(props.outline) return 'lar';\n  if(props.light) return 'lal';\n  if(props.raw) return props.raw.split(' ')[0];\n  return 'las';\n}\n\nfunction getName(props: $props){\n  if(props.raw) return props.raw.split(' ')[1];\n  return `la-${props.type}`\n}","import blacklist from 'blacklist';\nimport { Function0 } from 'lodash';\nimport { createConfigAction, configSelector } from '../../../../utils/redux/config';\n\n\n// const updateLocalAddedActivities = (addedActivities)=>{\n//   localStorage.setItem('addedActivities', JSON.stringify(addedActivities))\n// }\n\nexport const removeActivity = (activity: any)=>(dispatch: Function, getState: Function)=>{\n  const nextAddedActivities = blacklist(configSelector(getState()).addedActivities, activity.id);\n  // updateLocalAddedActivities(nextAddedActivities);\n\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities,\n  }))\n}\n\nexport const addActivity = (activity: any)=>(dispatch: any, getState: any)=>{\n  const nextAddedActivities = {\n    ...configSelector(getState()).addedActivities,\n    [activity.id]: {\n      \n    }\n  };\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }))\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const purgeActivities = (activities: any)=>(dispatch: Function, getState: Function)=>{\n  const { addedActivities } = configSelector(getState());\n  const nextAddedActivities = activities.reduce((acc: any, curr: any)=>{\n    acc[curr.id] = addedActivities[curr.id]\n    return acc;\n  }, {});\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }))\n  // updateLocalAddedActivities(nextAddedActivities);  \n}\n\nexport const updateActivities = (activityRelationships: any)=>(dispatch: Function, getState: Function)=>{\n  const nextAddedActivities = activityRelationships.reduce((acc: any, curr: any)=>{\n    acc[curr.id].ordinal=curr.ordinal\n    return acc;\n  }, {...configSelector(getState()).addedActivities});\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }));\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const addActivityToSchedule = (activity: any)=>(dispatch: Function, getState: Function)=>{\n  const { addedActivities } = configSelector(getState());\n  const highestOrdinal = Object.values(addedActivities).reduce((acc: number, curr: any)=>{\n    if(curr.inSchedule && curr.ordinal > acc){\n      return curr.ordinal\n    }\n    return acc\n  }, 0)\n  const nextAddedActivities = {\n    ...addedActivities,\n    [activity.id]: {\n      ...(addedActivities[activity.id] || {}),\n      inSchedule: true,\n      ordinal: highestOrdinal+1,\n    }\n  };\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }));\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const removeActivityFromSchedule = (activity: any)=>(dispatch: Function, getState: Function)=>{\n  const { addedActivities } = configSelector(getState());\n  const nextAddedActivities = {\n    ...addedActivities,\n    [activity.id]: {\n      ...addedActivities[activity.id],\n      inSchedule: false,\n    }\n  };\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities\n  }));\n  // updateLocalAddedActivities(nextAddedActivities);\n}\n\nexport const addCompletedActivity = (activity: any)=>(dispatch: Function, getState: Function)=>{\n  const completedActivities = {\n    ...configSelector(getState()).completedActivities,\n    [activity.id]: {\n      \n    }\n  };\n  const nextAddedActivities = blacklist(configSelector(getState()).addedActivities, activity.id);\n\n  // updateLocalAddedActivities(nextAddedActivities);\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities,\n    completedActivities\n  }));\n\n  // localStorage.setItem('completedActivities', JSON.stringify(completedActivities));\n}\n\nexport const addDroppedActivity = (activity: any)=>(dispatch: Function, getState: Function)=>{\n\n  const wontDoActivities = {\n    ...configSelector(getState()).wontDoActivities,\n    [activity.id]: {\n      \n    }\n  };\n  const nextAddedActivities = blacklist(configSelector(getState()).addedActivities, activity.id);\n  // updateLocalAddedActivities(nextAddedActivities);\n\n  dispatch(createConfigAction({\n    addedActivities: nextAddedActivities,\n    wontDoActivities\n  }))\n  // localStorage.setItem('wontDoActivities', JSON.stringify(wontDoActivities));\n}","const ga = ()=>(window as any).ga;\nexport default ga\nexport const sendEvent = (gaProps: $sendEventProps)=>{\n  ga()('send', 'event', gaProps.category, gaProps.action, gaProps.label, gaProps.value)\n};\nexport const sendPageView = (location: string)=>{\n  ga()('send', 'pageview', location);\n}\n\nexport type $sendEventProps = {\n  category: string,\n  action: string,\n  label: string,\n  value?: number\n}","import React from 'react';\nimport {\n    // addActivity,\n    removeActivity,\n    // removeActivityFromSchedule,\n    addActivityToSchedule\n} from '../utils';\nimport FAIcon from '../../../../components/general/FAIcon';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addedActivitySelector } from '../../../../../utils/redux/config';\nimport { IconButton } from '@material-ui/core';\nimport { sendEvent } from '../../../../../utils/ga';\n\ntype $props = any;\n\nexport default function AddActivityButtons({activity, classes, directToSchedule, disabled, spanRef}: $props){\n  const dispatch = useDispatch();\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  function render(){\n    return addedActivity ? <IconButton classes={classes} onClick={()=>{\n      if(!disabled){\n        sendEvent({category: 'schedule', action: 'click', label: 'remove'});\n        dispatch(removeActivity(activity));\n      }\n    }} color=\"secondary\">\n      <FAIcon type=\"bookmark\" />\n    </IconButton> : \n    <IconButton classes={classes} onClick={()=>{\n      if(!disabled){\n        sendEvent({category: 'schedule', action: 'click', label: 'add'});\n        dispatch(addActivityToSchedule(activity));\n      }\n    }} color=\"primary\"><FAIcon type=\"bookmark\" /></IconButton>\n  }\n  // function render(){\n  //   if(directToSchedule){\n  //     return addedActivity?.inSchedule ? <span className=\"add-to-calendar\"><IconButton classes={classes} onClick={()=>{\n  //       if(!disabled){\n  //         sendEvent({category: 'schedule', action: 'click', label: 'remove'});\n  //         dispatch(removeActivityFromSchedule(activity));\n  //       }\n  //     }} color=\"secondary\">\n  //       <FAIcon type=\"bookmark\" />\n  //     </IconButton></span> : \n  //     <span className=\"add-to-calendar\"><IconButton classes={classes} onClick={()=>{\n  //       if(!disabled){\n  //         sendEvent({category: 'schedule', action: 'click', label: 'add'});\n  //         dispatch(addActivityToSchedule(activity));\n  //       }\n  //     }} color=\"primary\"><FAIcon type=\"bookmark\" /></IconButton></span>\n  //   }\n  //   return addedActivity ? <span className=\"add-to-bookmarks\"><IconButton classes={classes} onClick={()=>{\n  //     if(!disabled) {\n  //       sendEvent({category: 'bookmarks', action: 'click', label: 'remove'});\n  //       dispatch(removeActivity(activity))\n  //     }\n  //   }} color=\"secondary\">\n  //     <FAIcon type=\"bookmark\" />\n  //   </IconButton></span> : \n  //   <span className=\"add-to-bookmarks\"><IconButton classes={classes} onClick={()=>{\n  //     if(!disabled){\n  //       sendEvent({category: 'bookmarks', action: 'click', label: 'add'}); \n  //       dispatch(addActivity(activity))\n  //     }\n  //   }} color=\"primary\"><FAIcon type=\"bookmark\" /></IconButton></span>\n  // }\n  return <span style={{display: 'inline-block'}} className=\"add-to-bookmarks\" ref={spanRef}>\n    {render()}\n  </span>\n}","import React from 'react';\nimport { Popover } from '@material-ui/core';\nimport { debounce, uniqueId } from 'lodash';\nimport { $sendEventProps, sendEvent } from '../../../../utils/ga';\n\ntype $props = {\n  disableHover?: Boolean,\n  disablePopup?: Boolean,\n  className?: string,\n  renderHoverableContent: Function,\n  renderOnHoverContent: Function,\n  popoverProps?: any,\n  popoverClasses?: Object,\n  ga?: $sendEventProps,\n  debounced?: number,\n}\n\nexport default function MyPopover({ga, disablePopup, disableHover, className, popoverClasses, renderHoverableContent, renderOnHoverContent, popoverProps={}, debounced=500} : $props){\n  const [mouseStopped, setMouseStopped] = React.useState<string|null>(null);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [candidateAnchorEl, setCandidateAnchorEl] = React.useState(null);\n  const debouncedSetMouseStopped = debounce((id: string)=>setMouseStopped(id), debounced);\n  const [currentId, setCurrentId] = React.useState<string|null>(null);\n  React.useEffect(()=>{\n    if(candidateAnchorEl && mouseStopped && mouseStopped === currentId){\n      if(ga){\n        sendEvent({\n          ...ga,\n          action: ga.action+':hover'\n        });\n      }\n      setAnchorEl(candidateAnchorEl);\n    }\n  }, [candidateAnchorEl, mouseStopped])\n  \n  const handleHide = ()=>{\n    setCandidateAnchorEl(null);\n    setAnchorEl(null);\n    setMouseStopped(null)\n  }\n  const hoverableContentProps = {\n    onClick(event: any){\n      if(ga){\n        sendEvent(ga);\n      }\n      setAnchorEl(event.currentTarget)\n    },\n    onMouseEnter(event: any){\n      if(!disableHover) {\n        const nextCurrentId = uniqueId()\n        setCurrentId(nextCurrentId)\n        setCandidateAnchorEl(event.currentTarget)\n        debouncedSetMouseStopped(nextCurrentId)\n      }\n    },\n    onMouseLeave(event: any){\n      if(!disableHover) {\n        setCandidateAnchorEl(null)\n      }\n    },\n  }\n  const onClose = ()=>{\n    handleHide()\n    if(popoverProps.onClose) popoverProps.onClose();\n  }\n  if(disablePopup)\n    return <div className={className}>{renderHoverableContent()}</div>\n  return <><div className={className}\n        // onMouseLeave={handleHide}\n        {...hoverableContentProps}\n    >\n      {\n        renderHoverableContent()\n      }\n    </div>\n    <Popover\n      classes={popoverClasses}\n      open={Boolean(anchorEl)}\n      anchorEl={anchorEl}\n      {...popoverProps}\n      onClose={onClose}\n      disableRestoreFocus\n    >\n      <div\n      // onMouseLeave={handleHide}\n      >\n        {\n          renderOnHoverContent({onClose})\n        }\n      </div>\n    </Popover>\n  </>\n}\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport classNames from 'classnames';\nimport { useSelector } from 'react-redux';\n\nimport { materialTypeMatch, getMaterialId } from '../utils';\nimport MaterialsList from '../List';\nimport FAIcon from '../../components/general/FAIcon';\n\nimport MyPopover from '../../components/general/Popover';\nimport { materialsSelector, materialTypesSelector } from '../../../utils/redux/config';\n\nconst useStyles = makeStyles(theme => ({\n  tagContent: {\n    width: 'fit-content',\n    margin: '0 auto',\n    marginTop: '7px',\n  },\n  perfectScore: {\n    color: theme.palette.secondary.main,\n  },\n  closeScore: {\n    color: theme.palette.primary.main,\n  }\n}));\n\n\nconst usePopoverStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(2),\n    width: '160px',\n    maxHeight: '200px',\n    overflowY: 'scroll',\n  },\n}))\nexport default function MaterialsTag({activity, className}: {activity: any, className: string}){\n  const materials = useSelector(materialsSelector);\n  const materialTypes = useSelector(materialTypesSelector);\n\n  const score = activity?.properties?.metaRequirements.reduce((acc: number, req: any)=>{\n    return acc + Number(!(materials[getMaterialId(activity.id, req)] || materialTypeMatch(materialTypes)(req.types) || false));\n  }, 0);\n  \n  \n  const classes = useStyles();\n  const popoverClasses = usePopoverStyles()\n  \n  return <MyPopover\n    ga={{\n      category: 'materials',\n      action: 'clickOrHover',\n      label: 'materials'\n    }}\n    className={className}\n    popoverClasses={popoverClasses}\n    renderHoverableContent={()=><div\n      className={classNames(classes.tagContent, 'materials-tag')}\n      >\n      <FAIcon className={classNames({\n        [classes.perfectScore]: !score,\n        [classes.closeScore]: score > 0 && score < 4\n      })} size=\"2x\" raw={classNames({\n        'las la-list-alt': !score,\n        'las la-list': score > 3,\n        'las la-tasks': score > 0 && score < 4\n      })} /></div>}\n    renderOnHoverContent={()=><MaterialsList activity={activity} />}\n    popoverProps={\n      {\n        anchorOrigin: {\n          vertical: 'bottom',\n          horizontal: 'left',\n        },\n        transformOrigin: {\n          vertical: 'bottom',\n          horizontal: 'left',\n        }\n      }\n    }\n  />\n}\n\n","import React from 'react';\nimport { v4 } from 'uuid';\nimport { MoreVert } from '@material-ui/icons';\nimport { Menu } from '@material-ui/core';\nimport { IconButton } from '@material-ui/core';\nimport { $sendEventProps, sendEvent } from '../../../../utils/ga';\n\ntype $props = {\n  renderIcon?: any,\n  renderMenuItems: (arg: Function)=>any,\n  buttonComp?: any,\n  buttonProps?: any,\n  id?: string,\n  ga?: $sendEventProps,\n}\n\nexport default function IconMenu(props: $props) {\n  const [anchorEl, setAnchorEl] = React.useState<HTMLElement|null>(null);\n  const [id] = React.useState(v4())\n\n  const handleClick = (event: any) => {\n    if(props.ga){\n      sendEvent(props.ga)\n    }\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const Button = props.buttonComp || IconButton;\n  return (\n    <div>\n      <Button aria-controls=\"menu\" aria-haspopup=\"true\" onClick={handleClick} {...(props.buttonProps || {})}>\n        {props.renderIcon || <MoreVert/> }\n      </Button>\n      <Menu\n        id={props.id || id}\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n      {\n        props.renderMenuItems(handleClose)\n      }\n      </Menu>\n    </div>\n  );\n}","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Check } from '@material-ui/icons';\nimport { Clear } from '@material-ui/icons';\nimport { ListItemText } from '@material-ui/core';\nimport { ListItemIcon } from '@material-ui/core';\nimport { MenuItem } from '@material-ui/core';\nimport { EventAvailableRounded } from '@material-ui/icons';\n\n\nimport IconMenu from '../../../../components/general/IconMenu';\nimport {\n    addCompletedActivity,\n    addDroppedActivity,\n    addActivityToSchedule,\n    removeActivityFromSchedule\n} from '../utils';\nimport { addedActivitiesSelector } from '../../../../../utils/redux/config';\nimport { sendEvent } from '../../../../../utils/ga';\n\n\nexport default function AddActivityOptions({activity, disabled}: {activity: any, disabled?: Boolean}){\n  const addedActivities = useSelector(addedActivitiesSelector);\n  const dispatch = useDispatch();\n  return <IconMenu\n    renderMenuItems={(handleClose)=>{\n      return [\n        addedActivities[activity.id]?.inSchedule ? <MenuItem onClick={()=>{\n          if(!disabled){\n            sendEvent({category: 'scheduleOptions', action: 'click', label: 'remove'});\n            dispatch(removeActivityFromSchedule(activity))\n          }\n          handleClose()\n        }}>\n        <ListItemIcon>\n          <EventAvailableRounded color=\"secondary\" fontSize=\"small\" />\n        </ListItemIcon>\n      <ListItemText primary=\"Remove From Lineup\" />\n    </MenuItem> : <MenuItem onClick={()=>{\n          if(!disabled){\n            sendEvent({category: 'scheduleOptions', action: 'click', label: 'add'});\n            dispatch(addActivityToSchedule(activity))\n          }\n          handleClose()\n        }}>\n        <ListItemIcon>\n          <EventAvailableRounded color=\"primary\" fontSize=\"small\" />\n        </ListItemIcon>\n      <ListItemText primary=\"Add To Lineup\" />\n    </MenuItem>,\n    <MenuItem onClick={()=>{\n      if(!disabled){\n        sendEvent({category: 'scheduleOptions', action: 'click', label: 'finishedActivity'});\n        dispatch(addCompletedActivity(activity))\n      }\n      handleClose()\n    }}>\n        <ListItemIcon>\n          <Check color=\"primary\" fontSize=\"small\" />\n        </ListItemIcon>\n      <ListItemText primary=\"Done\" />\n      </MenuItem>,\n        <MenuItem onClick={()=>{\n          if(!disabled){\n            dispatch(addDroppedActivity(activity))\n            sendEvent({category: 'scheduleOptions', action: 'click', label: 'dropActivity'});\n          }\n          handleClose() \n        }}><ListItemIcon>\n            <Clear color=\"secondary\" fontSize=\"small\" />\n            </ListItemIcon>\n          <ListItemText primary=\"Remove\" />\n        </MenuItem>\n      ]\n    }}\n  />\n}","import React from 'react';\nimport { Fade } from 'react-slideshow-image';\nimport 'react-slideshow-image/dist/styles.css'\n\nconst hidden = <div style={{display: 'none'}}/>\n\ntype $props = {\n  images: any[]\n}\n\nexport default function Slideshow({images}: $props){\n    return (\n      <Fade \n      prevArrow={hidden}\n      nextArrow={hidden}\n      autoplay\n      duration={500}\n      pauseOnHover={false}\n      infinite\n      easing=\"ease\"\n      >\n      {\n        images//.map((img, i) => <div className=\"each-slide\" key={i}>{img}</div>)\n      }\n      </Fade>\n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport Slideshow from '../../../../components/general/Slideshow';\n\nconst noop = ()=>{}\nconst useStyles = makeStyles(theme => ({\n  img: {\n    width: '100%',\n    height: '19rem',\n    backgroundSize: 'cover !important',\n    position: 'relative'\n    // overflowY: 'hidden',\n  },\n  close: {\n    position: 'absolute',\n    zIndex: 2,\n    right: 0,\n    top: 0,\n    cursor: 'pointer',\n    fontSize: '1.5rem',\n    padding: '0.5rem',\n  }\n}));\n\nexport default function ActivitiesPreviewImages({activity, className, onClose}: {onClose?: any, activity: any, className?: string}){\n  const classes = useStyles();\n  return <span onMouseLeave={onClose || noop}>\n      <Slideshow images={activity.properties.imgLinks.map((img: any) => <div className={classes.img} style={{'background': `url(${img.src}) no-repeat center center`}}>\n      {\n        !onClose ? null : <span onClick={onClose} className={classes.close}>X</span>\n      }\n    </div>)}/>\n  </span>\n}\n\n","import React from 'react';\nimport ReactJoyride, { CallBackProps, STATUS, ACTIONS, EVENTS } from 'react-joyride';\n\ninterface $props {\n  onEnd?: Function;\n  onChange?: Function;\n  joyrideProps: any;\n  step?: number;\n}\n\nexport default function Tour({onChange, onEnd, joyrideProps, step}: $props){\n  const [lastCheck, setLastCheck] = React.useState(()=>new Date().getTime());\n  const [stepIndex, setStepIndex] = React.useState(()=>(step || 0));\n  console.log('stepIndex', stepIndex);\n  const handleCallback = (data: CallBackProps)=>{\n    console.log('data', data);\n    const { action, /*index,*/ type, status } = data;\n    let nextStepIndex = 0;\n    if(([EVENTS.STEP_AFTER, EVENTS.TARGET_NOT_FOUND] as string[]).includes(type)){\n      nextStepIndex = (action === ACTIONS.PREV ? -1 : 1) + stepIndex;\n      const currentTime = new Date().getTime();\n      if(currentTime - lastCheck > 400){\n        onChange && onChange(nextStepIndex);\n        setStepIndex(nextStepIndex);\n        setLastCheck(currentTime);\n      } else {\n        setStepIndex(stepIndex);\n      }\n    }\n    if (([STATUS.FINISHED, STATUS.SKIPPED] as string[]).includes(status)) {\n      nextStepIndex = joyrideProps.steps.length;\n      onEnd && onEnd(nextStepIndex);\n      setStepIndex(nextStepIndex);\n    }\n  }\n  return <ReactJoyride\n    {...joyrideProps}\n    stepIndex={stepIndex}\n    callback={handleCallback}\n  />\n}","import React from 'react';\nimport classNames from 'classnames';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    animation: '$pulse 1.75s ease-in-out infinite',\n    backgroundColor: 'rgba(255, 27, 14, 0.6)',\n    borderRadius: '50%',\n    display: 'inline-block',\n    height: '1rem',\n    width: '1rem',\n  },\n  \"@keyframes pulse\": {\n    \"0%\": {\n      opacity: 0,\n      // transform: \"translateY(-200%)\"\n    },\n    \"50%\": {\n      opacity: 1\n    },\n    \"100%\": {\n      opacity: 0,\n      // transform: \"translateY(0)\"\n    }\n  },\n})\n\n\n\nexport default function Beacon({style}: {style: any}){\n  const classes = useStyles();\n  return <span style={style} className={classNames(classes.root, 'beacon')} />\n}","import React from 'react';\nimport Tour from '../../../Tour';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    onboardingSelector,\n    createConfigAction,\n    addedActivitiesSelector\n} from '../../../../../../utils/redux/config';\nimport { Typography } from '@material-ui/core';\nimport Beacon from '../../../Tour/Beacon';\nimport { Popper } from '@material-ui/core';\n\n// const usePopoverStyles = makeStyles({\n//   paper: {\n//     background: 'none',\n//     boxShadow: 'none'\n//   },\n// })\n\nexport default function SlotTour(props: any){\n  const dispatch = useDispatch ();\n  const [bookmarkNav, setBookmarkNav] = React.useState<null|Element>(null);\n  const [bookmarkSpan, setBookmarkSpan] = React.useState<null|Element>(null);\n  // const popoverClasses = usePopoverStyles();\n  const { completed, step} = useSelector(onboardingSelector('listActivities'));\n  const addedActivities= useSelector(addedActivitiesSelector);\n  React.useEffect(()=>{\n    if(step === steps.length && Object.keys(addedActivities).length && !completed){\n      dispatch(createConfigAction({\n        onboarding: {\n          listActivities: {\n            completed: false,\n            step: step + 1,\n          }\n        }\n      }))\n    }\n  }, [addedActivities])\n  /**\n   * To be removed\n   */\n  // React.useEffect(()=>{\n  //   dispatch(createConfigAction({\n  //     onboarding: {\n  //       listActivities: {\n  //         completed: false,\n  //         step: 8,\n  //       }\n  //     }\n  //   }))\n  // }, [])\n  /**\n   * \n   */\n  React.useEffect(()=>{\n    setBookmarkNav(document.getElementsByClassName('go-to-bookmarks')[0]);\n    setBookmarkSpan(document.querySelectorAll('.activity-card .add-to-bookmarks')[0]);\n  }, [])\n  \n  return <>\n    {\n      (step >= steps.length || completed) ? null : <Tour\n      step={step}\n      joyrideProps={\n        {\n          continuous: true,\n          run: true,\n          scrollToFirstStep: true,\n          showProgress: true,\n          showSkipButton: false,\n          // disableOverlayClose: true\n          // disableCloseOnEsc: true,\n          styles: {\n            options: {\n              zIndex: 10000,\n            }\n          },\n          steps,\n        }\n      }\n      onChange={(nextStep: number)=>{\n        dispatch(createConfigAction({\n          onboarding: {\n            listActivities: {\n              completed: false,\n              step: nextStep,\n            }\n          }\n        }))\n      }}\n      onEnd={(nextStep: number)=>{\n        dispatch(\n          createConfigAction({\n            onboarding: {\n              listActivities: {\n                completed: false,\n                step: nextStep,\n              }\n            }\n          }))\n        }\n      }\n      />\n    }\n    {\n      // (completed || step < 6) ? null : <Tour\n      // step={step}\n      // joyrideProps={\n      //   {\n      //     continuous: true,\n      //     run: true,\n      //     scrollToFirstStep: true,\n      //     showProgress: false,\n      //     showSkipButton: false,\n      //     // disableOverlayClose: true\n      //     // disableCloseOnEsc: true,\n      //     styles: {\n      //       options: {\n      //         zIndex: 10000,\n      //       }\n      //     },\n      //     steps: bookmarkSteps,\n      //   }\n      // }\n      // onChange={(nextStep: number)=>{\n      //   dispatch(createConfigAction({\n      //     onboarding: {\n      //       listActivities: {\n      //         completed: false,\n      //         step: nextStep,\n      //       }\n      //     }\n      //   }))\n      // }}\n      // onEnd={(nextStep: number)=>{\n      //   dispatch(\n      //     createConfigAction({\n      //       onboarding: {\n      //         listActivities: {\n      //           completed: true,\n      //           step: nextStep,\n      //         }\n      //       }\n      //     }))\n      //   }\n      // }\n      // />\n    }\n    <Popper\n      open={Boolean(bookmarkSpan) && step === steps.length && !completed}\n      anchorEl={bookmarkSpan}\n      style={{ zIndex: 3, pointerEvents: 'none', marginTop: '-20px' }}\n    >\n      <Beacon style={{}} />\n    </Popper>\n    <Popper\n      open={Boolean(bookmarkNav) && step === (steps.length + 1) && !completed}\n      anchorEl={bookmarkNav}\n      style={{ zIndex: 10000, pointerEvents: 'none', marginLeft: '10px', marginTop: '-15px' }}\n    >\n      <Beacon style={{}} />\n    </Popper>\n  </>\n}\n\nexport const steps = [\n  {\n    title: 'Welcome to the activities dashboard',\n    content: 'This is a short walkthrough of the site',\n    placement: 'center',\n    target: 'body',\n  },\n  {\n    title: 'This is an activity',\n    content: 'This activity card represents an activity',\n    target: '.activity-card',\n  },\n  {\n    title: 'The age icon',\n    content: <Typography variant=\"body2\">Age range of the activity</Typography>,\n    spotlightPadding: 10,\n    target: '.activity-card .age-tag',\n  },\n  {\n    title: 'Materials checklist',\n    content: <Typography variant=\"body2\">Click this icon to see a list of materials for the activity</Typography>,\n    spotlightPadding: 10,\n    target: '.activity-card .materials-tag',\n  },\n  {\n    title: 'Activity category',\n    content: <Typography variant=\"body2\">These icons show the different categories the activity can fall into, ie, sensory, active, etc. Click on the icons to see their description</Typography>,\n    spotlightPadding: 10,\n    target: '.activity-card .subject-tag',\n  },\n  {\n    title: 'Preview the activity',\n    content: <Typography variant=\"body2\">Some of the activities are previewable. Click on the image to see a preview</Typography>,\n    spotlightPadding: 10,\n    target: '.activity-card .image-tag',\n  },\n  {\n    title: 'Bookmark for later',\n    content: <Typography variant=\"body2\">Click the bookmark icon to bookmark this activity.</Typography>,\n    spotlightPadding: 10,\n    offset: 10,\n    target: '.activity-card .add-to-bookmarks',\n    // spotlightClicks: true,\n    // disableOverlay: true,\n    // showProgress: false,\n    // locale: {next: 'Close'},\n    // run: false,\n    // continuous: false,\n  },\n  {\n    title: 'Access your bookmarks',\n    content: <Typography variant=\"body2\">Click here to see your bookmarks and your activity lineup.</Typography>,\n    // spotlightPadding: 10,\n    target: '.go-to-bookmarks',\n  },\n];\n\n","import React from 'react';\nimport {Typography, Tooltip, Card, CardHeader, makeStyles } from '@material-ui/core';\nimport _ from 'lodash';\nimport { Link } from 'react-router-dom';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport StarRatings from 'react-star-ratings';\nimport { useSelector } from 'react-redux';\nimport LinesEllipsis from 'react-lines-ellipsis'\nimport blue from '@material-ui/core/colors/blue';\nimport { amber } from '@material-ui/core/colors';\nimport { CardContent } from '@material-ui/core';\n\nimport FAIcon from '../../FAIcon';\nimport AddActivityButtons from '../../../../shedules/activities/added/Button';\nimport MaterialsTag from '../../../../materials/Tag';\nimport AddActivityOptions from '../../../../shedules/activities/added/Options';\nimport MyPopover from '../../Popover';\nimport ActivitiesPreviewImages from '../../../../shedules/activities/preview/Images';\nimport {\n    addedActivitySelector,\n    wontDoActivitySelector,\n    completedActivitySelector,\n} from '../../../../../utils/redux/config';\nimport classNames from 'classnames';\nimport Tour from '../../Tour';\nimport SlotTour from './Tour';\n\nconst useActivityButtonStyles = makeStyles({\n  root: {\n    display: 'block',\n    padding: '5px',\n  }\n})\n\nconst useStyles = makeStyles((theme)=>({\n  activityRoot: {\n    display: \"inline-block\",\n    width: \"280px\",\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n    // '&:hover $addActivity': {\n    //   height: '50px'\n    // } \n\n  },\n  tagRoot: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '280px',\n    height: '150px',\n    flexWrap: 'wrap',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    alignContent: 'flex-start',\n    padding: 0,\n    paddingBottom: '0 !important',\n    \n    overflow: 'hidden',\n  },\n  tag: {\n    display: 'inline-block',\n    width: '78px',\n    height: '48px',\n    marginRight: '2px',\n    marginBottom: '2px',\n    cursor: 'pointer',\n  },\n  imageTag: {\n    position: 'relative',\n    overflow: 'hidden',\n    width: '120px',\n    height: '150px',\n    cursor: 'pointer',\n  },\n  activityTitle: {\n    whiteSpace: 'normal',\n    textDecoration: 'none',\n    height: '3rem',\n    // overflow: 'hidden',\n  },\n  sheduleTitle: {\n    fontSize: '1rem',\n    color: theme.palette.primary.main,\n    textDecoration: 'none',\n    fontWeight: 500,\n  },\n  sideContent: {\n    display: 'inline-block',\n    verticalAlign: 'super',\n  },\n  starSideContent: {\n    display: 'block',\n    textAlign: 'center',\n  },\n\n  tagContent: {\n    width: 'fit-content',\n    margin: '0 auto',\n    marginTop: '7px',\n  },\n  activityImage: {\n    top: '50%',\n    width: '100%',\n    position: 'relative',\n    transform: 'translateY(-50%)',\n  },\n  headerRoot: {\n    borderBottom: '#b4b0b0 solid 1px',\n  },\n\n}));\n\nconst usePopoverStyles = makeStyles(theme => ({\n  paper: {\n    width: '350px',\n    height: '300px',\n  }\n}));\n\ntype $props = any\n\nconst SheduleSlot = React.memo(function SheduleSlot(props: $props){\n  const activityButtonClasses = useActivityButtonStyles()\n  const activity = props.shedule;\n  // const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n  const bookmarkActivity = React.createRef();\n  const classes = useStyles();\n  const popoverClasses = usePopoverStyles();\n  if(completedActivity || wontDoActivity) return null;\n  // if(!props.addedActivityPage && addedActivity) return null;\n  const uniqueTags: any[] = _.uniqBy(activity.tags, 'id')\n  const tags: any[] = uniqueTags.filter((tag: any)=>(tag.name.indexOf('age') === -1));\n  const [minAge, maxAge] = uniqueTags.filter((tag: any)=>(tag.name.indexOf('age') > -1)).reduce((acc: any, curr: any)=>{\n    const age = Number(curr.name.split('-')[1]);\n    if(!acc[0]){\n      acc[0] = age;\n    } \n    if(acc[0] > age){\n      acc[0] = age;\n    }\n    if(!acc[1]){\n      acc[1] = age;\n    } \n    if(acc[1] < age){\n      acc[1] = age;\n    }\n    return acc;\n  }, [undefined, undefined])\n\n  const activityLinkTo = \"/shedules/activities/\"+activity.id;\n\n  return <>\n    {\n      (props.firstRow && !props.index) ? <SlotTour refs={{bookmarkActivity}} /> : null\n    }\n    <Card key={activity.id} className={classNames(props.className, classes.activityRoot, {\n      'activity-card': (activity?.properties?.metaRequirements || []).length\n    })}>\n        <CardHeader\n          classes={\n            {\n              root: classes.headerRoot\n            }\n          }\n          title={\n            <Tooltip title={activity.name}><div className={classes.activityTitle}>\n              <Link className={classes.sheduleTitle} to={props.preview ? '/overview' : activityLinkTo}>\n                <Typography component=\"h3\" className={classes.sheduleTitle}>\n                  <LinesEllipsis\n                  text={activity.name}\n                  maxLine='2'\n                  ellipsis='...'\n                  basedOn='letters'\n                  />\n                </Typography>\n              </Link>\n            </div>\n            </Tooltip>\n          }\n          action={props.addedActivityPage ? <AddActivityOptions disabled={props.preview} activity={activity} />\n          : <AddActivityButtons disabled={props.preview} spanRef={bookmarkActivity} classes={activityButtonClasses} activity={activity} /> \n          }\n        />\n        \n\n        <CardContent className={classes.tagRoot}>\n          {\n            activity.rating ? <div style={{color: blue[700] }}  className={classes.tag}>\n              \n            {\n\n              // <Tooltip title={`This activity has been shared on facebook twitter and pinterest a combined ${activity.rating} times`}>\n              <Tooltip title={`This activity has a rating of ${activity.rating/10} out of 5`}>\n                <div className={classes.tagContent}>\n                  {\n                    // <FAIcon size=\"2x\" outline type=\"star\" />\n                    <span><StarRatings\n                      rating={activity.rating/10}\n                      starDimension=\"10px\"\n                      starSpacing=\"2px\"\n                      starRatedColor={amber[700]}\n                    />\n                    </span>\n                  }\n                  {\n                    // <Typography className={classes.sideContent}>{numab(activity.rating, 1)}</Typography>\n                  }\n                  <Typography className={classes.starSideContent}>{activity.rating/10}</Typography>\n                </div>\n              </Tooltip>\n            }\n            </div> : null\n          }\n            {\n              maxAge === undefined ? null : <div className={classNames(classes.tag, 'age-tag')}>\n                <Tooltip title={`For kids ${minAge} to ${maxAge} years old`}>\n                  <div className={classes.tagContent}\n                  >\n                    <FAIcon size=\"2x\" outline type=\"grin\" />\n                    <Typography className={classes.sideContent}>{`${minAge}${minAge === maxAge ? '' : `:${maxAge}Y`}`}</Typography>\n                  </div>\n                </Tooltip>\n              </div>\n            }\n            {\n              (!activity.properties.metaRequirements || !activity.properties.metaRequirements.length) ? null : <MaterialsTag className={classes.tag} activity={activity}/>\n            }\n          {\n            tags.slice(0, 2 + (maxAge === undefined ? 0 : 1)).map((tag: any, i: number) => {      \n              return <div\n              //  style={{backgroundColor: tag.color}}\n                className={classNames(classes.tag, 'subject-tag')} key={tag.id + i}>\n              <Tooltip title={`#${tag.name}: ${tag.description}`}>\n                <div className={classes.tagContent}>\n                  <FAIcon raw={tag.icon} size=\"2x\" />\n                  {\n                    tag.sideContent && <Typography className={classes.sideContent}>{tag.sideContent}</Typography>\n                  }\n                </div>\n            </Tooltip>\n                \n              </div>\n            })    \n          }\n          <MyPopover\n            ga={{\n              category: 'slot',\n              action: 'clickOrHover',\n              label: 'previewImages'\n            }}\n            debounced={800}\n            disablePopup={activity.properties.imgLinks.length < 2}\n            popoverClasses={popoverClasses}\n            popoverProps={{\n              anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right',\n              },\n              transformOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right',\n              }\n            }}\n            renderOnHoverContent={\n              ({onClose}: any)=><ActivitiesPreviewImages onClose={onClose} activity={activity} />\n            }\n            renderHoverableContent={\n              ()=><div className={classNames(classes.imageTag, 'image-tag')} style={{\n                cursor: activity.properties.imgLinks.length < 2 ? 'default' : 'pointer'\n              }}>\n                <LazyLoadImage \n                height={150}\n                src={activity.image}\n                alt={activity.name}\n                className={classes.activityImage}\n                style={{\n                  display: 'block',\n                  marginLeft: 'auto',\n                  marginRight: 'auto',\n\n                }}\n              />\n            </div>\n            }\n          />\n      </CardContent>    \n    </Card>\n  </>\n});\n\n\nexport default SheduleSlot","import React from 'react';\nimport {Typography, Tooltip, makeStyles } from '@material-ui/core';\nimport _ from 'lodash';\nimport StarRatings from 'react-star-ratings';\n\nimport blue from '@material-ui/core/colors/blue';\nimport { amber } from '@material-ui/core/colors';\nimport { CardContent } from '@material-ui/core';\n\nimport FAIcon from '../../FAIcon';\nimport MaterialsTag from '../../../../materials/Tag';\n\ntype $props = {\n  activity: any\n} & $styleProps;\n\ntype $styleProps = {\n  direction?: any,\n  width?: string,\n  height?: string,\n}\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: (props: $styleProps)=>props.direction || 'column',\n    width: (props: $styleProps)=>props.width || '280px' ,\n    height: (props: $styleProps)=>props.height || '150px',\n    flexWrap: 'wrap',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    alignContent: 'flex-start',\n    padding: 0,\n    paddingBottom: '0 !important',\n    overflow: 'hidden',\n  },\n  tag: {\n    display: 'inline-block',\n    width: '78px',\n    height: '48px',\n    marginRight: '2px',\n    marginBottom: '2px',\n    cursor: 'pointer',\n  },\n  sideContent: {\n    display: 'inline-block',\n    verticalAlign: 'super',\n  },\n  starSideContent: {\n    display: 'block',\n    textAlign: 'center',\n  },\n  tagContent: {\n    width: 'fit-content',\n    margin: '0 auto',\n    marginTop: '7px',\n  },\n});\n\nconst Tags = React.memo(function Tags({activity, ...styleProps}: $props){\n  const classes = useStyles(styleProps);\n  const uniqueTags : any[] = _.uniqBy(activity.tags, 'id')\n  const tags: any[] = uniqueTags.filter((tag: any)=>(tag.name.indexOf('age') === -1));\n  const [minAge, maxAge] = uniqueTags.filter(tag=>(tag.name.indexOf('age') > -1)).reduce((acc, curr)=>{\n    const age = curr.name.split('-')[1];\n    if(!acc[0]){\n      acc[0] = age;\n    } \n    if(acc[0] > age){\n      acc[0] = age;\n    }\n    if(!acc[1]){\n      acc[1] = age;\n    } \n    if(acc[1] < age){\n      acc[1] = age;\n    }\n    return acc;\n  }, [undefined, undefined])\n  return <CardContent className={classes.root}>\n    {\n      activity.rating ? <Tag style={{color: blue[700] }}  tooltip={`This activity has a rating of ${activity.rating/10} out of 5`}>\n        {\n          // <FAIcon size=\"2x\" outline type=\"star\" />\n          <span><StarRatings\n            rating={activity.rating/10}\n            starDimension=\"10px\"\n            starSpacing=\"2px\"\n            starRatedColor={amber[700]}\n          />\n          </span>\n        }\n        {\n          // <Typography className={classes.sideContent}>{numab(activity.rating, 1)}</Typography>\n        }\n        <Typography className={classes.starSideContent}>{activity.rating/10}</Typography>\n      </Tag>\n      : null\n    }\n    {\n      maxAge === undefined ? null : <Tag tooltip={`For kids ${minAge} to ${maxAge} years old`} iconProps={{outline: true, type: 'grin'}} sideContent={`${minAge}${minAge === maxAge ? '' : `:${maxAge}Y`}`} />\n    }\n    {\n      (!activity.properties.metaRequirements || !activity.properties.metaRequirements.length) ? null : <MaterialsTag className={classes.tag} activity={activity}/>\n    }\n    {\n      tags.slice(0, 2 + (maxAge === undefined ? 0 : 1)).map((tag, i) => {\n        return <Tag key={i} tooltip={`#${tag.name}: ${tag.description}`} iconProps={{raw: tag.icon}} sideContent={tag.sideContent} />\n      })    \n    }\n  </CardContent>  \n});\n\n\nexport default Tags\n\n\ntype $tagProps = {\n  style?: Object,\n  iconProps?: Object,\n  tooltip: string,\n  children?: any,\n  sideContent?: string\n}\n\nfunction Tag({style, tooltip, children, iconProps, sideContent}: $tagProps){\n  const classes = useStyles();\n  return <Tooltip title={tooltip}>\n    <div style={style} className={classes.tag}>\n      <div className={classes.tagContent}>\n      {\n        iconProps ? <FAIcon size=\"2x\" {...iconProps} /> : null\n      }\n      {\n        sideContent ? <Typography className={classes.sideContent}>{sideContent}</Typography> : null\n      }\n      {\n        children\n      }\n      </div>\n    </div>\n  </Tooltip>\n}","import React from 'react';\nimport { Card, makeStyles, CardMedia } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport Tags from '../Tags';\nimport {\n    addedActivitySelector,\n    wontDoActivitySelector,\n    completedActivitySelector\n} from '../../../../../utils/redux/config';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: \"inline-block\",\n    width: \"170px\",\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n  },\n  img: {\n    height: '350px'\n  }\n}));\n\ninterface $props {\n  shedule: any,\n  addedActivityPage?: Boolean,\n  className?: string,\n  preview?: Boolean,\n  firstRow?: Boolean,\n  index?: number,\n}\n\nconst PortraitSlot = React.memo(function PortraitSlot(props: $props){\n  const activity = props.shedule;\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n  \n  const classes = useStyles();\n  // const popoverClasses = usePopoverStyles();\n  if(completedActivity || wontDoActivity) return null;\n  if(!props.addedActivityPage && addedActivity) return null;\n  \n  const activityLinkTo = \"/shedules/activities/\"+activity.id;\n  return <Card key={activity.id} className={classNames(props.className, classes.root)}>\n    <Link to={activityLinkTo}>\n      <CardMedia title={activity.name} className={classes.img} image={activity.properties.imgLinks.find((img: any) => (img.height / 1.75) > img.width).src}/>\n    </Link>\n    <Tags activity={activity} />\n  </Card>     \n});\n\n\nexport default PortraitSlot","import React from 'react';\nimport { Card, makeStyles, CardMedia, Typography } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport Tags from '../Tags';\nimport {     addedActivitySelector,\n  wontDoActivitySelector,\n  completedActivitySelector } from '../../../../../utils/redux/config';\nimport classNames from 'classnames';\n\ninterface $props {\n  shedule: any,\n  addedActivityPage?: Boolean,\n  className?: string,\n  preview?: Boolean,\n  firstRow?: Boolean,\n  index?: number,\n}\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: \"inline-block\",\n    width: \"400px\",\n    maxWidth: '100vw',\n    verticalAlign: 'top',\n    marginRight: '1rem',\n    marginBottom: '1rem',\n  },\n  title: {\n    textDecoration: 'none',\n    color: theme.palette.primary.main\n  },\n  img: {\n    height: '400px'\n  }\n}));\n\nconst SquareSlot = React.memo(function SquareSlot(props: $props){\n  const activity = props.shedule;\n  const addedActivity = useSelector(addedActivitySelector(activity.id));\n  const wontDoActivity = useSelector(wontDoActivitySelector(activity.id));\n  const completedActivity = useSelector(completedActivitySelector(activity.id));\n\n  const classes = useStyles();\n  if(completedActivity || wontDoActivity) return null;\n  if(!props.addedActivityPage && addedActivity) return null;\n  \n\n  const isSquareImg = (img: any) => {\n    const quotient = img.height / img.width;\n    return 0.85 < quotient && quotient < 1.15 && !/amazon/.test(img.src);\n  }\n\n  const activityLinkTo = \"/shedules/activities/\"+activity.id;\n  return <Card key={activity.id} className={classNames(props.className, classes.root)}>\n    <Link to={activityLinkTo}>\n      <CardMedia title={activity.name} className={classes.img} image={activity.properties.imgLinks.find(isSquareImg).src}/>\n    </Link>\n    <Link className={classes.title} to={activityLinkTo}>\n      <Typography align=\"center\">{activity.name}</Typography>\n    </Link>\n    <Tags activity={activity} direction=\"row\" width=\"400px\" height=\"55px\"/>\n  </Card>\n});\n\n\nexport default SquareSlot","import React from 'react';\n\nexport default function Slides({children}: {children: JSX.Element[]}){\n  return <div className=\"swiper-wrapper\">{children}</div>\n}","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}","import React, { useEffect, useRef, useState } from 'react';\nimport {v4} from 'uuid';\nimport Swiper from 'swiper';\nimport 'swiper/swiper-bundle.css';\nimport \"./index.css\";\n\nimport Slides from './Slides';\nimport useWindowDimensions from '../../../../utils/window';\nimport classNames from 'classnames';\nimport { isMobile } from 'react-device-detect';\nimport { sendEvent } from '../../../../utils/ga';\n\ninterface $props {\n  renderSlides: ()=>JSX.Element[],\n  slideWidth?: number\n}\nconst letters = 'abcdefghijklmnop';\n\nconst getIncrementAmount = (width: number, slideWidth: number)=>Math.max(Math.floor(width/slideWidth),1)\n\nexport default function Scroll({renderSlides, slideWidth = 300}: $props){\n  const [swiper, setSwiper] = useState<any>(null);\n  const [onEnd, setOnEnd] = useState(false);\n  const [onStart, setOnStart] = useState(true);\n  const [id] = useState(v4().replace(/-/g, '0').replace(/(\\d)/g, (m, p)=>letters[Number(p)]));\n  const {width} = useWindowDimensions();\n  const renderedSlides = renderSlides();\n  const buttonStyle = isMobile ? {\n    opacity: 1\n  } :  {};\n  useEffect(()=>{\n    const sw = new Swiper('.'+id, {\n      slidesPerView: 'auto',\n      on: {\n        reachEnd: ()=>setOnEnd(true),\n        reachBeginning: ()=>setOnStart(true),\n      }\n    });\n    setSwiper(sw);\n  }, [id])\n  return <div className={classNames(\"swiper-container\", id)}>\n    <Slides>\n    {\n      renderSlides()//.map((slide, i) => <ScrollSlide key={i}>{}</ScrollSlide>)\n    }\n    </Slides>\n    {\n      onEnd ? null : \n      <div\n        style={buttonStyle}\n        onClick={()=>{\n          if(swiper && swiper.slideNext){\n            sendEvent({category: 'scroller', action: 'click', label: 'next', value: swiper.activeIndex});\n            if(width > 500){\n              const indexIncrementCount = getIncrementAmount(width, slideWidth);\n              const nextIndex = Math.min(swiper.activeIndex + indexIncrementCount, renderedSlides.length-1);\n              swiper.slideTo(nextIndex, 300)\n            } else {\n              swiper.slideNext(300);\n            }\n            setOnStart(false)\n          }\n          \n        }} className={classNames('swiper-button', \"swiper-button-next\")} />\n    }\n    {\n      onStart ? null : \n      <div\n      style={buttonStyle}\n      onClick={()=>{\n          if(swiper && swiper.slideNext){\n            sendEvent({category: 'scroller', action: 'click', label: 'prev', value: swiper.activeIndex});\n            if(width > 500){\n              const indexDecrementCount = Math.max(Math.floor(width/slideWidth),1);\n              const nextIndex = Math.max(swiper.activeIndex - indexDecrementCount, 0);\n              swiper.slideTo(nextIndex, 300)\n            } else {\n              swiper.slidePrev(300);\n            }\n            setOnEnd(false)\n          }\n      }} className={classNames('swiper-button', \"swiper-button-prev\")} />\n    }\n  </div>\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport SheduleSlot from './Slot';\nimport PortraitSlot from './PortraitSlot';\nimport SquareSlot from './SquareSlot';\nimport Scroll from '../Scroll';\n;\n\ntype $props = {\n  wrap?: Boolean,\n  addedActivityPage?: Boolean,\n  data: any[],\n  featuredPortrait?: Boolean,\n  featuredSquare?: Boolean,\n  preview?: Boolean,\n  renderSlots?: Function,\n  showSample?: Boolean,\n  first?: Boolean\n}\nconst useStyles = makeStyles({\n  root: (props: {wrap: Boolean}) => ({\n    marginTop: '1rem',\n    whiteSpace: props.wrap ? 'normal' : 'nowrap',\n    // whiteSpace: 'normal',\n    overflowX: 'scroll',\n  }),\n});\n\nfunction SheduleRow({ addedActivityPage, wrap, data, featuredPortrait, featuredSquare, preview, renderSlots, first }: $props){  \n  const classes = useStyles({wrap: !!(addedActivityPage || wrap)});\n  \n  const Slot = featuredPortrait ? PortraitSlot : featuredSquare ? SquareSlot : SheduleSlot\n  const slideWidth = featuredPortrait ? 170 : featuredSquare ? 400 : 280;\n  const slots = data.map((activity, i)=>{\n    return <Slot firstRow={first} index={i} key={activity.id} preview={preview} addedActivityPage={addedActivityPage}  shedule={activity} className=\"swiper-slide\" />\n  });\n  // const slots = [<div>Slide 1</div>, <div>Slide 2</div>]\n  if(renderSlots) return renderSlots(slots)\n  if(wrap || addedActivityPage) return <div className={classes.root}>\n    {\n      slots\n    }\n  </div>\n  return <Scroll slideWidth={slideWidth} renderSlides={()=>slots} />\n  }\n\nexport default SheduleRow","import React, { useState } from 'react';\nimport { colors, Button, Box } from '@material-ui/core';\nimport { Container, makeStyles, Typography, Grid } from '@material-ui/core';\nimport _ from 'lodash';\nimport Accordions from '../../materials/Accordions';\nimport { Link } from 'react-router-dom';\nimport SheduleRow from '../../components/general/SheduleRow';\nimport jsonActivities from './activities.json';\nimport FAIcon from '../../components/general/FAIcon';\nimport { useMediaQuery } from '@material-ui/core';\n\n\nconst useMastStyles = makeStyles({\n  root: {\n    backgroundImage: \"url('https://images.unsplash.com/photo-1513542789411-b6a5d4f31634?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1267&q=80')\",\n    width: '100%',\n    height: '100vh',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundAttachment: 'scroll',\n    backgroundSize: 'cover',\n    position: 'relative'\n  },\n  title: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  signup: {\n    backgroundColor: colors.teal['A100'],\n  },\n  signupWrapper: {\n    width: '200px',\n    margin: '2rem auto',\n  },\n  login: {\n    backgroundColor: colors.teal['A100'],\n    position: 'absolute',\n    top: 20,\n    right: 10,\n    width: '150px',\n  }\n})\n\nconst useSubjectStyles = makeStyles((theme)=>({\n  root: {\n    padding: '5rem',\n    // backgroundColor: colors.teal['A100']\n    backgroundColor: colors.grey[50]\n  },\n  title: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  boxes: {\n    color: '#FFF',\n    backgroundSize: 'cover',\n    height: '200px',\n    width: '180px',\n    display: 'inline-block',\n    margin: '1rem',\n    borderRadius: '0.5rem'\n  },\n}))\n\nconst useRequirementStyles = makeStyles((theme)=>({\n  root: {\n    padding: '5rem 0',\n    // backgroundColor: colors.teal['A100']\n    backgroundColor: colors.grey[50]\n  },\n  title: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  boxes: {\n    color: '#FFF',\n    backgroundSize: 'cover',\n    height: '200px',\n    width: '180px',\n    display: 'inline-block',\n    margin: '1rem',\n    borderRadius: '0.5rem'\n  },\n  icon: {\n    color: theme.palette.primary.main,\n    padding: '0 2rem',\n  }\n}))\n\nconst useAgeStyles = makeStyles({\n  root: {\n    // padding: '5rem',\n    // backgroundColor: colors.teal['A100']\n    backgroundImage: \"url('https://images.unsplash.com/photo-1541710399304-4564edc17038?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80')\",\n    backgroundPosition: 'center',\n    backgroundSize: 'cover',\n    height: '400px',\n    width: '100%',\n  },\n  // img: {\n    \n  //   width: '400px',\n  //   height: '200px',\n  // }\n})\n\nconst useMaterialStyles = makeStyles({\n  root: {\n    padding: '5rem',\n    backgroundColor: colors.teal['A100']\n    // height: '400px',\n    // width: '100%',\n  },\n  // img: {\n    \n  //   width: '400px',\n  //   height: '200px',\n  // }\n})\n\n\n\n/**\n * Find activities by subject\n * Use age restrictions\n * Add activities to your schedule\n * Get the materials in each activity\n */\n\n\n \nexport default function Overview(){\n  const isBiggerThanTiny = useMediaQuery('(min-width:600px)');\n  const [activities] = useState(_.sampleSize(jsonActivities, 2))\n  const Bx = ({url, tag}: {url: string, tag: string})=><Grid container justify=\"center\" alignItems=\"flex-end\" className={subjectClasses.boxes}\n    style={{\n      backgroundImage: `url('${url}')`,\n    }}>\n    <Grid item>\n      <Typography>#{tag}</Typography>\n    </Grid>\n  </Grid>\n  const mastClasses = useMastStyles();\n  const subjectClasses = useSubjectStyles();\n  const ageClasses = useAgeStyles();\n  const materialClasses = useMaterialStyles();\n  const requirementClasses = useRequirementStyles();\n  const requirementsText = <Grid item>\n    <Box p=\"1rem\">\n      <Typography align=\"center\" variant=\"h6\">\n        <FAIcon className={requirementClasses.icon} type=\"tasks\" size=\"2x\" />Know before you click what supplies you need\n      </Typography>\n    </Box>\n  </Grid>\n  const signupButton = <div className={mastClasses.signupWrapper}><Link to=\"/signup\"><Button fullWidth className={mastClasses.signup}>Try for free</Button></Link></div>\n  return <Container maxWidth={false} disableGutters>\n    <Grid className={mastClasses.root} container justify=\"center\" alignItems=\"center\">\n      <Grid item xs={12}>\n        <Typography align=\"center\" variant=\"h2\">Activities for kids</Typography>\n        {\n          signupButton\n        }\n      </Grid>\n      <Typography variant=\"h4\" component=\"h1\" className={mastClasses.title}>Goodplans</Typography>\n      <Link to=\"/login\"><Button className={mastClasses.login}>Login</Button></Link>\n    </Grid>\n    <Grid container className={subjectClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n        <Typography variant=\"h6\">Find Activities By Subject</Typography>\n      </Grid>\n      <Grid item>\n        <Grid container justify=\"center\">\n          <Grid item>\n            <Bx tag=\"stem\" url=\"https://images.unsplash.com/photo-1560961911-ba7ef651a56c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1334&q=60\" />\n          </Grid>\n          <Grid item>\n            <Bx tag=\"arts&crafts\" url=\"https://images.unsplash.com/photo-1596495718166-7ac739ca1bc4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </Grid>\n          <Grid item>\n            <Bx tag=\"active\" url=\"https://images.unsplash.com/photo-1489710437720-ebb67ec84dd2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </Grid>\n          <Grid>\n            <Bx tag=\"sensory\" url=\"https://images.unsplash.com/photo-1504484440176-4f89a392c862?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </Grid>\n        </Grid>\n        <Typography align=\"center\">And many more...</Typography>  \n      </Grid>\n    </Grid>\n    <Grid container className={ageClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n      <Typography variant=\"h6\">Find activities by age</Typography>\n      </Grid>\n    </Grid>\n    <Grid container className={requirementClasses.root} justify=\"center\" alignItems=\"center\">\n      {\n        isBiggerThanTiny ? null : requirementsText\n      }\n      <Grid item md={6} xs={12}>\n        <SheduleRow\n          preview wrap\n          renderSlots={(slots: any)=><Grid container justify=\"center\">\n            {slots.map((s: any, i: number) => <Grid style={{\n              marginBottom: '1rem',\n              height: '240px',\n            }} item key={i}>{s}</Grid> )}\n            </Grid>}\n          data={activities}\n        />\n      </Grid>\n      {\n        isBiggerThanTiny ? requirementsText : null\n      }\n\n    </Grid>\n    <Grid container className={materialClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n        <Accordions data={[\n          {\n            id: '1',\n            name: 'Extreme paper airplanes',\n            properties: {\n              metaRequirements: [\n                {\n                  raw: 'paper',\n                  types: ['paper'],\n                },\n                {\n                  raw: 'scissor',\n                  types: ['scissors'],\n                },\n                {\n                  raw: 'glue',\n                  types: ['glue'],\n                }\n              ]\n            }\n          },\n          {\n            id: '2',\n            name: 'Watercolor tissue flowers',\n            properties: {\n              metaRequirements: [\n                {\n                  raw: 'tissue',\n                  types: ['tissue'],\n                },\n                {\n                  raw: 'watercolor paint',\n                  types: ['watercolor paint'],\n                },\n                {\n                  raw: 'pipe cleaners',\n                  types: ['pipe cleaners'],\n                }\n              ]\n            }\n          }\n        ]} />\n      </Grid>\n      <Grid item>\n      <Typography variant=\"h6\">A materials checklist for all of your activities in one place</Typography>\n      </Grid>\n    </Grid>\n    <Grid container className={subjectClasses.root} justify=\"center\" alignItems=\"center\">\n        <Grid item>\n          <Typography variant=\"h3\" align='center'>Make activities work for you</Typography>\n          {\n            signupButton\n          }\n        </Grid>\n    </Grid>\n  </Container>\n}","import { loadStripe } from '@stripe/stripe-js';\nimport { get, SERVER_ADDRESS } from '../remote';\n\nconst stripePromise = loadStripe((process.env.REACT_APP_STRIPE_PUBLIC_KEY as string));\n\nexport async function setupIntents(){\n  // Call your backend to create the Checkout session.\n  const session = await get(SERVER_ADDRESS+'/users/payments/sessions');\n  // When the customer clicks on the button, redirect them to Checkout.\n  const stripe = await stripePromise;\n  if( stripe){\n    const { error } = await stripe.redirectToCheckout({\n      sessionId: session.id,\n    });\n  }\n}      \n      ","import React, { useEffect, useState } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { v4 } from 'uuid';\nimport * as yup from 'yup';\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers';\nimport { useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles';\nimport { Card, CardActions, CardContent, CardHeader, Divider } from '@material-ui/core';\nimport qs from 'query-string';\nimport { Box } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { SERVER_ADDRESS, post } from '../../../utils/remote';\nimport { setToken } from '../../../utils/auth';\n\nimport { createUserAction } from '../../../utils/redux/user';\n\nimport { setupIntents } from '../../../utils/stripe';\nimport { FormHelperText } from '@material-ui/core';\nimport { Checkbox } from '@material-ui/core';\nimport { FormControlLabel } from '@material-ui/core';\n\nexport const endpoint = SERVER_ADDRESS+'/privateUsers';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '300px',\n    margin: '0 auto',\n  },\n})\n\nexport default function UserCreate(){\n  const location = useLocation();\n  const parsed = qs.parse(location.search);\n  return <UserCreateCard \n    onSuccessCB={()=>setupIntents()}\n    referralCode={(parsed.referral_code as string) || ''}\n    api={endpoint}\n    additionalInformation={({validReferralCode}: {validReferralCode: string})=><CardContent>\n      {\n          <Typography variant=\"body1\"><Box fontWeight=\"fontWeightBold\" m=\"1\">{`${validReferralCode ? 'First two months are free' : 'First month is free'}`}</Box></Typography>\n      }\n      <Divider/>\n      <Typography variant=\"body2\">Monthly price is $2.00(USD)/month</Typography>\n      <Typography variant=\"body2\">Cancel at anytime</Typography>\n    </CardContent>}\n  />\n}\n\nexport function UserCreateCard(props: any) {\n  const classes = useStyles();\n  return (\n    <div>\n      <Card className={classes.root}>\n        <CardHeader title=\"Signup\"/>\n          <UserCreateForm\n            {...props}\n          />\n      </Card>\n    </div>\n  );\n}\n\nconst schema = yup.object().shape({\n  // username: yup.string().matches(/^[a-z0-9]+$/i, 'Only alphanumeric characters').required(),\n  termsofuse: yup.bool().oneOf([true], 'You must accept our Terms of Use').required(),\n  email: yup.string().email().required(),\n  password: yup.string().min(6).max(122).required(),\n  referralCode: yup.string().optional(),\n});\n\n\n\nconst UserCreateForm = ({referralCode, api, onSuccessCB, additionalInformation}: {additionalInformation?: (a: any)=>JSX.Element, referralCode?: string, api: string, onSuccessCB: Function})=>{\n  const { handleSubmit, register, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n  const [apiErrors, setApiErrors] = useState<string>(\"\");\n  const [referralCodeError, setReferralCodeError] = useState<string>(\"\");\n  const dispatch = useDispatch();\n  useEffect(()=>{\n    if(referralCode){\n      yup.string().uuid()\n      .isValid(referralCode).then((valid)=>{\n        if(!valid){\n          setReferralCodeError(\"Bad referral code. You may continue to signup, but the referral will not be counted towards possible credits\")\n        }\n      })\n    }\n  }, [])\n  const validReferralCode = referralCodeError ? \"\" : (referralCode || '');\n  const onSubmit = async (data: any) => {    \n    post(api, {\n      body:\n        {\n          id: v4(),\n          // username: data.username,\n          email: data.email,\n          password: data.password,\n          referralCode: data.referralCode\n        }\n    }).then(async (res)=>{\n      setToken(res.data);\n      dispatch(createUserAction(res.data));\n    }).then( async ()=>{\n      onSuccessCB()\n    })\n    .catch((error)=>{\n      error.json().then((err: any) => {\n        setApiErrors(err.message);\n      });\n    });\n  }\n  const errorExists = referralCodeError || apiErrors;\n  return <form\n      onSubmit={handleSubmit(onSubmit)}\n    >\n    <CardContent>\n      {\n        !errorExists ? null : <Typography variant=\"body2\" color=\"secondary\">{errorExists}</Typography>\n      }\n      <TextField\n        id=\"email\"\n        name=\"email\"\n        inputRef={register}\n        label=\"Email\"\n        fullWidth\n        error={!!errors.email}\n        helperText={errors.email?.message}\n      />\n      <TextField \n        fullWidth\n        inputRef={register}\n        id=\"password\"\n        name=\"password\"\n        label=\"Password\"\n        type=\"password\"\n        error={!!errors.password}\n        helperText={errors.password?.message}\n      />\n      <FormControlLabel\n        control={<Checkbox inputRef={register} name=\"termsofuse\" />}\n        label=\"Accept our Terms of Use\"\n      />\n      {\n        !errors.termsofuse ? null : <FormHelperText><Typography variant=\"body2\" color=\"secondary\">{errors.termsofuse?.message}</Typography></FormHelperText>\n      }\n      <FormHelperText><Link to=\"/termsofuse\">Terms of Use</Link></FormHelperText>\n      <input ref={register} name=\"referralCode\" hidden value={validReferralCode} />\n    </CardContent>\n    {\n      additionalInformation ? additionalInformation({validReferralCode}) : null\n    }\n    <CardActions>\n      <Button type=\"submit\">Signup</Button>\n    </CardActions>\n  </form>\n}","import React, { useState } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport * as yup from 'yup';\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/styles';\nimport { Card, CardContent } from '@material-ui/core';\n\nimport { SERVER_ADDRESS, post } from '../../../utils/remote';\nimport { setToken } from '../../../utils/auth';\nimport { dispatch } from '../../../utils/redux';\n\nimport { createUserAction } from '../../../utils/redux/user';\n\nconst schema = yup.object().shape({\n  email: yup.string().email().required(),\n  password: yup.string().max(122).required(),\n});\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '300px',\n    margin: '0 auto',\n  }\n})\n\nexport default function SessionCreate(){\n  const history = useHistory();\n  return <SessionCreateCard\n    onSuccessCB={()=>{\n      history.push('/');\n    }}\n    api={SERVER_ADDRESS+'/sessions'}\n    type=\"reg\"\n  />\n}\n\nexport function SessionCreateCard({type, api, onSuccessCB}: {type: string, api: string, onSuccessCB: Function}) {\n  const classes = useStyles();\n  const [apiErrors, setApiErrors] = useState<string|null>(null);\n  const { handleSubmit, register, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = (data: any) => {\n    post(api, {\n      body:\n        {\n          email: data.email,\n          password: data.password,\n          type\n        }\n    })\n    .then((res)=>{\n      setToken(res.data);\n      dispatch(createUserAction(res.data));\n    }).then(()=>onSuccessCB()).catch((error)=>{\n      setApiErrors('Incorrect email or password');\n    });\n  }\n  return (\n    <div>\n      <Card className={classes.root}>\n        <CardContent>\n        <Typography variant=\"h6\" component=\"h1\">Login</Typography>\n        {\n          !apiErrors ? null : <Typography variant=\"body2\" color=\"secondary\">{apiErrors}</Typography>\n        }\n        <form\n          onSubmit={handleSubmit(onSubmit)}\n        >\n          <div>\n            <TextField\n              name=\"email\"\n              inputRef={register}\n              label=\"Email\"\n              error={!!errors.email}\n              helperText={errors.email?.message}\n              fullWidth\n            />\n          </div>\n          <div>\n            <TextField \n              inputRef={register}\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              error={!!errors.password}\n              helperText={errors.password?.message}\n              fullWidth\n            />\n          </div>\n          <Button type=\"submit\">Login</Button>\n        </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { TextField } from '@material-ui/core';\nimport { debounce, partition } from 'lodash';\n\nimport _ from 'lodash';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport Autocomplete, {createFilterOptions} from '@material-ui/lab/Autocomplete';\n\ntype $props = {\n  popularTags: any[],\n  wrap?: Boolean,\n}\n\nexport default function SearchActivitiesRow(props: $props){\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  const [ reset, setReset ] = useState(1);\n  const [searchTags, setSearchTags] = useState(localStorage.getItem('searchTags') || '');\n  const [searchText, setSearchText] = useState(localStorage.getItem('searchText') || '');\n  const { data, page, resetPage } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue: [],\n    page: true,\n    query: {\n      tags: searchTags,\n      text: searchText,\n    }, \n    deps: [searchTags, searchText],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  }, [data])\n  const onSearchFunc = (nextVal: string)=>{\n    const clean = nextVal.toLowerCase().split(' ').filter(v=>v);\n    const [nextSeachTagsArr, nextSearchTextArr] = partition(clean, (name)=>name[0] === '#')\n    const nextSearchTags = nextSeachTagsArr.join(' ');\n    const nextSearchText = nextSearchTextArr.join(' ');\n    localStorage.setItem('searchTags', nextSearchTags);\n    localStorage.setItem('searchText', nextSearchText);\n    setSearchTags(nextSearchTags);\n    setSearchText(nextSearchText);\n    resetPage();\n  }\n  const onSearch = debounce(onSearchFunc, 400);\n  const filter = createFilterOptions();\n\n  return <div>\n    <Autocomplete\n      fullWidth\n      freeSolo\n      key={reset}\n      multiple\n      id=\"tags-standard\"\n      options={(props.popularTags || []).map(t => '#'+t)\n        // .concat(searchText.split(' '))\n      }\n      defaultValue={searchTags ? searchTags.split(' ') : []}\n      onChange={(event, value: any[])=>{\n        onSearch(value.join(' '))\n      }}\n      filterOptions={(options, params) => {\n        const filtered : any = filter(options, params);\n        if (params.inputValue !== '') {\n          filtered.push(`${params.inputValue}`);\n        }\n        return filtered;\n      }}\n      selectOnFocus\n      clearOnBlur\n      handleHomeEndKeys\n      renderInput={(params: any) => (\n        <TextField\n          {...params}\n          variant=\"standard\"\n          label=\"Search\"\n          placeholder=\"#stem\"\n        />\n      )}\n    />\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow data={data} wrap={props.wrap} />\n    }\n  </div>\n}\n\n\n","import React from 'react';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../utils/remote';\n\n\nimport SearchActivitiesRow from './Row';\n\n\nexport default function SearchActivities(){\n  const { data: popularTags } = useCustomSwr(SERVER_ADDRESS+'/tags/popular', {\n    cache: true\n  });\n  \n  \n  return <div>\n    {\n      <SearchActivitiesRow wrap popularTags={popularTags} />\n    }\n  </div>\n}","import React from 'react';\nimport { Box, Tooltip } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\nimport { debounce } from 'lodash';\n\ninterface $props {\n  values: string[];\n  onChange: Function;\n  color?: 'secondary'\n}\n\nconst useStyles = makeStyles({\n  root: {\n    width: 300,\n  },\n});\n\nfunction valuetext(value: number, tagValue=false) {\n  if(value < 4){\n    const numb = !value ? 1 : value * 3;\n    if(tagValue) return 'month-'+numb;\n    return `${numb} month old`\n  }\n  const numb = value-3;\n  if(tagValue) return 'age-'+numb;\n  return `${numb} year old`\n}\n\nconst marks = [\n  {\n    value: 0,\n    label: '1m',\n  },\n  {\n    value: 1,\n    label: '3m',\n  },\n  {\n    value: 2,\n    label: '6m',\n  },\n  {\n    value: 3,\n    label: '9m',\n  },\n  {\n    value: 4,\n    label: '1y',\n  },\n  {\n    value: 8,\n    label: '5y',\n  },\n  {\n    value: 13,\n    label: '10y',\n  },\n];\n\nfunction convertTagNameToValue(ages: string[]){\n  return ages.map((age)=>{\n    const [type, n] = age.split('-');\n    const numb = parseInt(n);\n    if(type === 'month'){\n      if(numb === 1) return 0\n      return numb / 3\n    }\n    return numb + 3\n  })\n}\n\nfunction ValueLabelComponent(props: {\n  children: React.ReactElement;\n  open: boolean;\n  value: number;\n}) {\n  const { children, open, value } = props;\n\n  return (\n    <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={valuetext(value)}>\n      {children}\n    </Tooltip>\n  );\n}\n\nconst defaultValue = [8, 9]\n\nexport default function DiscreteSlider({ onChange, values, color}: $props) {\n  const [stateValue, setStateValue] = React.useState<number[]>(values.length ? convertTagNameToValue(values) : defaultValue);\n  const [debouncedOnChange] = React.useState<Function>(()=>debounce(\n    (nextValue: number[])=>{\n      onChange(nextValue)\n    },\n    1000\n  ));\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Box mt={'1rem'}>\n        <Typography color={color} gutterBottom>\n          Select Your Child's Age Range\n        </Typography>\n      </Box>\n      <Slider\n        aria-label=\"Select your child's age range\"\n        value={stateValue}\n        step={1}\n        marks={marks}\n        min={0}\n        max={13}\n        ValueLabelComponent={ValueLabelComponent}\n        onChange={(event, nextValue)=>{\n          if(typeof nextValue === 'object'){\n            setStateValue(nextValue)\n            debouncedOnChange(nextValue.map((v)=>valuetext(v, true)))\n          }\n        }}\n      />\n      {\n        stateValue === defaultValue ? null : <Box mt={'1rem'}>\n          <Typography variant=\"body2\"><strong>Age Range: </strong>\n            {`${valuetext(stateValue[0])} to ${valuetext(stateValue[1])}`}\n          </Typography>\n        </Box>\n      }\n      \n    </div>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport { SERVER_ADDRESS, useCustomSwr } from '../../../../../utils/remote';\nimport { makeStyles } from '@material-ui/styles';\nimport { ListItemIcon, MenuItem, Typography } from '@material-ui/core';\nimport { Chip } from '@material-ui/core';\nimport { Input } from '@material-ui/core';\nimport { Select } from '@material-ui/core';\nimport { InputLabel } from '@material-ui/core';\nimport { FormControl } from '@material-ui/core';\nimport { Divider, TextField } from '@material-ui/core';\nimport FAIcon from '../../../../components/general/FAIcon';\nimport DiscreteSlider from './Slider';\n\n\nexport default function DashboardTabForm({ordinal, dashboardTab, debouncedOnChange, onChange}: any){\n  return <>\n    <TextField label=\"Tab Name\" placeholder={`Tab ${ordinal+1}`} defaultValue={dashboardTab.name} onChange={(event)=>{\n      debouncedOnChange(event.target.value)\n    }} />\n    <Divider variant=\"inset\"/>\n    <DiscreteSlider values={dashboardTab.ages} onChange={(nextAges: string[])=>onChange('ages', nextAges)} color={!dashboardTab.ages.length ? 'secondary' : undefined} />\n    {/* \n    <PickAges values={dashboardTab.ages} onSave={(nextAges: string[])=>onChange('ages', nextAges)} color={!dashboardTab.ages.length ? 'secondary' : undefined} />\n    <Divider variant=\"inset\"/>\n    <PickSubjects values={dashboardTab.subjects} onSave={(nextSubjects: string[])=>onChange('subjects', nextSubjects)} color={!dashboardTab.subjects.length ? 'secondary' : undefined} />\n    <Divider variant=\"inset\"/> */}\n  </>\n}\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    // margin: theme.spacing(1),\n    minWidth: 250,\n    maxWidth: 500,\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: 2,\n  },\n  noLabel: {\n    // marginTop: theme.spacing(3),\n  },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\n\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      minWidth: 250,\n    },\n  },\n};\n\nfunction PickAges(props: any){\n  const [orderedAgeTags, setOrderedAgeTags] = useState<any[]>([]);\n\n  const { data } = useCustomSwr(SERVER_ADDRESS+'/tags', {\n    deps: [],\n    defaultValue: [],\n    cache: true,\n  })\n  useEffect(()=>{\n    const ages = data.filter((t: any)=>t.type==='age');\n    const months = ages.filter((t:any)=>t.name.indexOf('month') > -1)\n    const years = ages.filter((t:any)=>t.name.indexOf('month') === -1)\n    setOrderedAgeTags(months.concat(years));\n  }, [data])\n  return <SelectOptions\n    title=\"Select Ages\"\n    {...props}\n    id=\"select-ages\"\n    tags={orderedAgeTags}\n  />\n}\n\nfunction PickSubjects(props: any){\n  \n\n  const { data } = useCustomSwr(SERVER_ADDRESS+'/tags', {\n    deps: [],\n    defaultValue: [],\n    cache: true,\n  })\n  \n  return <SelectOptions\n    title=\"Select Subjects\"\n    {...props}\n    id=\"select-subjects\"\n    tags={data.filter((t:any)=>t.type===\"subject\")}\n  />\n}\n\nfunction SelectOptions({values, onSave, color, tags, id, title}: any){\n  const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n    onSave(event.target.value)\n  };\n  const classes = useStyles();\n  return <FormControl className={classes.formControl}>\n    <InputLabel id={`${id}-label`}><Typography color={color}>{title}</Typography></InputLabel>\n    <Select\n      labelId={`${id}-label`}\n      id={id}\n      multiple\n      value={values}\n      onChange={handleChange}\n      input={<Input id={`input-${id}`} />}\n      renderValue={() => (\n        <div className={classes.chips}>\n          {values.map((name: any) => (\n            <Chip key={name} label={'#'+name} className={classes.chip} />\n          ))}\n        </div>\n      )}\n      MenuProps={MenuProps}\n    >\n      {tags.map((tag: any) => (\n        <MenuItem key={tag.name} value={tag.name} //style={getStyles(name, personName, theme)}\n        >\n          <ListItemIcon>\n            <span>\n              <FAIcon raw={tag.icon} />\n              <span>{tag.side_content}</span>\n            </span>\n          </ListItemIcon>\n          {\n            tag.description\n          }\n        </MenuItem>\n      ))}\n    </Select>\n  </FormControl>\n}","import React from 'react';\nimport _, { debounce } from 'lodash';\nimport { Button } from '@material-ui/core';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { v4 } from 'uuid';\nimport {\n    createConfigAction,\n    dashboardTabsSelector\n} from '../../../../utils/redux/config';\n\nimport { createUIAction, uiSelector } from '../../../../utils/redux/ui';\nimport DashboardTabForm from './DashboardTabForm';\nimport { Box } from '@material-ui/core';\nimport { sendEvent } from '../../../../utils/ga';\n\n\ninterface $props {\n  ordinal: number,\n};\n\nexport default function Config({ordinal}: $props){\n  const dashboardTabs = useSelector(dashboardTabsSelector);\n  const { dashboard } = useSelector(uiSelector);\n  const dispatch = useDispatch();\n  const dashboardTab = dashboardTabs.find(x=>x.ordinal===ordinal);\n  const onChange = (key: string, value: any)=>{\n    dispatch(createConfigAction({dashboardTabs: [\n      {\n        ...dashboardTab,\n        [key]: value,\n        touched: true,\n      },\n     ...dashboardTabs.filter(x=>x.ordinal !== ordinal),\n     ...(dashboardTab && !dashboardTab.touched ? [{\n       ordinal: dashboardTabs.length,\n       ages: [],\n       subjects: [],\n       uuid: v4(),\n     }] : []),\n    ]}))\n  }\n  const debouncedOnChange = debounce((value)=>{\n    onChange('name', value)\n  }, 500)\n\n  if(!dashboardTab) return null;\n  return <div>\n    <DashboardTabForm\n      key={dashboardTab.uuid}\n      onChange={onChange}\n      ordinal={ordinal}\n      dashboardTab={dashboardTab}\n      debouncedOnChange={debouncedOnChange}\n    />\n    <Box m=\"1rem\">\n    {\n      !dashboardTab.ages.length ? null : <Button size=\"large\" variant=\"contained\"\n      color=\"primary\" onClick={()=>{\n        sendEvent({category: 'dashboard', action: 'click', label: 'showActivities'});\n        dispatch(createUIAction({\n          dashboard: {\n            ...dashboard,\n            isEditing: false\n          }\n        }))\n      }}>Show Activities</Button>\n    }\n    {\n      dashboardTabs.length === 1 || !dashboardTab.touched ? null : <Button onClick={()=>{\n        sendEvent({category: 'dashboard', action: 'click', label: 'deleteTab'});\n        dispatch(createConfigAction({\n          dashboardTabs: [\n            ...dashboardTabs.filter(x=>x.ordinal !== ordinal).map(x=>({...x, ordinal: x.ordinal > ordinal ? x.ordinal-1 : x.ordinal}))\n          ]\n        }))\n        dispatch(createUIAction({\n          dashboard: {\n            ...dashboard,\n            isEditing: false\n          }\n        }))\n      }}\n      color=\"secondary\" size=\"small\">Delete</Button>\n    }\n    </Box>\n  </div>\n}\n","import React from 'react';\nimport { Tabs, Tab } from '@material-ui/core';\n\nfunction a11yProps(index: any) {\n  return {\n    id: `tab-${index}`,\n    'aria-controls': `tabpanel-${index}`,\n  };\n}\n\nexport function TabPanel(props: any) {\n  const { children, value, index, ...other } = props;\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-${index}`}\n      aria-labelledby={`tab-${index}`}\n      {...other}\n    >\n      {value === index && children}\n    </div>\n  );\n}\n\ninterface $tabProps {\n  label: JSX.Element | string\n}\n\ninterface $props {\n  value: number,\n  onChange: (a: number)=>void,\n  tabsProps?: any,\n  tabPropsArr: $tabProps[]\n}\n\nexport default function MyTabs({ value, onChange, tabsProps = {}, tabPropsArr = []} : $props){\n  return <Tabs \n    value={value}\n    onChange={(e, newValue)=>{\n      onChange(newValue)\n    }}\n    aria-label=\"Change dashboard view\"\n    indicatorColor=\"primary\"\n    textColor=\"primary\"\n    variant=\"fullWidth\"\n    {...tabsProps}\n  >\n  {\n    tabPropsArr.map((tabProps, i) => <Tab key={i} {...tabProps} {...a11yProps(i)} /> )\n  }\n  </Tabs>\n}\n","import React, { useState, useEffect } from 'react';\nimport { Typography, Divider, makeStyles } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { blue } from '@material-ui/core/colors';\nimport { useCustomSwr, SERVER_ADDRESS, get } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\n\nconst useStyles = makeStyles({\n  header: {\n    marginTop: '1rem',\n    color: blue[700]\n  }\n})\n\ninterface $props {\n  tag: string;\n  ages: string[];\n  portraitFeatured?: Boolean;\n  activitiesLoadedCallback?: Function;\n  first?: Boolean;\n}\n\nconst defaultValue: any[] = [];\n\nexport default function SearchActivitiesNonSearchRow({tag, ages, portraitFeatured = false, activitiesLoadedCallback, first}: $props){\n  const classes = useStyles();\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  const [ previousTags, setPreviousTags ] = useState(new Set());\n  const defaultTags =  ages;\n  \n  const tags = defaultTags.concat([tag]).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data, page } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue,\n    page: true,\n    query: {\n      tags,\n      portraitFeatured\n    }, \n    deps: [],\n    cache: true,\n    callback: activitiesLoadedCallback\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  }, [data]);\n  return <div>\n    <Typography align=\"center\" variant=\"h6\" component=\"h3\" className={classnames(classes.header, 'shedule-row-title')}>{'#'+tag}</Typography>\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow first={first} data={data} />\n    }\n    <Divider variant=\"inset\" />\n  </div>\n}","import React, { useState, useEffect } from 'react';\nimport { Typography, Divider, makeStyles } from '@material-ui/core';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport { blue } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles({\n  header: {\n    marginTop: '1rem',\n    color: blue[700]\n  }\n})\n\nexport default function SearchActivitiesNonSearchPortraitRow({tag, ages}: {tag: string, ages: string[]}){\n  const classes = useStyles();\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  \n  const defaultTags =  ages;\n  const tags = defaultTags.concat([tag]).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data, page } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue: [],\n    page: true,\n    query: {\n      tags,\n      featuredPortrait: true\n    }, \n    deps: [],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  }, [data]);\n  \n  return <div>\n    <Typography align=\"center\" variant=\"h6\" component=\"h3\" className={classes.header}>{'#'+tag}</Typography>\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow featuredPortrait data={data} />\n    }\n    <Divider variant=\"inset\" />\n  </div>\n}","import React, { useState, useEffect } from 'react';\nimport { Divider } from '@material-ui/core';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\n\n\nexport default function SearchActivitiesNonSearchSquareRow({tag, ages}: {tag: string, ages: string[]}){\n  const [ previousSizes, setPreviousSizes ] = useState({});\n  const defaultTags =  ages;\n  \n  const tags = defaultTags.concat([tag]).map((t: string)=>'#'+t).reverse().join(' ');\n  const { data, page } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue: [],\n    page: true,\n    query: {\n      tags,\n      featuredSquare: true\n    }, \n    deps: [],\n    cache: true\n  });\n  useEffect(()=>{\n    setPreviousSizes({\n      ...previousSizes,\n      [page]: data.length\n    });\n  }, [data]);\n  \n  return <div>\n    {\n      // <Typography align=\"center\" variant=\"h6\" component=\"h3\" className={classes.header}>{'#'+tag}</Typography>\n    }\n    {\n      !data.length ? <p>No Results</p> : <SheduleRow featuredSquare data={data}/>\n    }\n    <Divider variant=\"inset\" />\n  </div>\n}","import React, { useEffect, useState } from 'react';\nimport _ from 'lodash';\nimport LazyLoad from 'react-lazyload';\n\nimport SearchActivitiesNonSearchRow from '../NonSearchRow';\nimport SearchActivitiesNonSearchPortraitRow from '../NonSearchPortraitRow';\nimport SearchActivitiesNonSearchSquareRow from '../NonSearchSquareRow';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\n\n\nexport default function ListActivities({ages}: {subjects: string[], ages: string[]}){\n  const [tagOrder, setTagOrder] = useState<string[]>([]);\n  const { data: popularTags } : {data: string[]} = useCustomSwr(SERVER_ADDRESS+'/tags/popular', {\n    cache: true,\n    defaultValue: []\n  });\n  useEffect(()=>{\n    setTagOrder(\n      ([] as any).concat(_.shuffle(popularTags||[]).filter((tag: string)=>(tag.indexOf('age') === -1)))\n    );\n  }, [ages, popularTags])\n\n  const squareRender = (tag: string)=>{\n    return <div key={tag} style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={200} >\n      <SearchActivitiesNonSearchSquareRow tag={tag} ages={ages} />\n    </LazyLoad></div>;\n  }\n\n  const portraitRender = (tag: string)=>{\n    return <div key={tag} style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={200} >\n      <SearchActivitiesNonSearchPortraitRow tag={tag} ages={ages} />\n    </LazyLoad></div>;\n  }\n  \n  const render = (tag: string, index: number)=>{\n    return <div key={tag} style={{minHeight: '300px', minWidth: '100%'}}><LazyLoad height={300}>\n      <SearchActivitiesNonSearchRow first={index === 0} tag={tag} ages={ages} />\n    </LazyLoad></div>;\n  }\n  return <div>\n    {\n      tagOrder.map((tag: string, i: number)=>{\n        if(i === 1 || i === 8) return squareRender(tag);\n        if(i === 3 || i === 6 || i === 12) return portraitRender(tag)\n        return render(tag, i)\n      })\n    }\n  </div>\n}","import React from 'react';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { dashboardTabsSelector } from '../../../utils/redux/config';\nimport { uiSelector, createUIAction } from '../../../utils/redux/ui';\nimport Config from './Config';\nimport MyTabs, { TabPanel } from '../../components/general/Tabs';\nimport ListActivities from './ListActivities';\nimport FAIcon from '../../components/general/FAIcon';\n\nimport {IconButton } from '@material-ui/core';\nimport { sendEvent } from '../../../utils/ga';\n\n// const orderedDashboardTabs = createSelector(dashboardTabsSelector, (dashboardTabs)=>[...dashboardTabs].sort((a,b)=>a.ordinal-b.ordinal))\n\nexport default function Dashboard(){\n  const rawDashboardTabs = useSelector(dashboardTabsSelector);\n  const dashboardTabs = [...rawDashboardTabs].sort((a,b)=>a.ordinal-b.ordinal)\n  // const dashboardTabs = useSelector(orderedDashboardTabs);\n  const { dashboard } = useSelector(uiSelector);\n  const dispatch = useDispatch();\n  const onChange = (tab: number, isEditing?: Boolean)=>dispatch(createUIAction({\n    dashboard: {\n      tab,\n      isEditing: isEditing || false\n    }}))\n  return <div>\n    <MyTabs\n      tabsProps={{variant: \"standard\"}}\n      value={dashboard.tab}\n      onChange={(tab)=>onChange(tab)}\n      tabPropsArr={dashboardTabs.map(d=>({\n        label: <span>{d.name || d.ages.join(' & ') || `Tab ${d.ordinal+1}`}\n        <IconButton\n          onClick={(e)=>{\n            e.stopPropagation();\n            sendEvent({category: 'dashboard', action: 'click', label: 'ordinal', value: d.ordinal});\n            onChange(d.ordinal, true)\n          }}\n        >\n          <FAIcon type=\"pen\" size=\"1x\" />\n        </IconButton>\n      </span>\n      }))}\n    />\n    {\n      dashboardTabs.map((d, i)=><TabPanel key={d.ordinal} value={dashboard.tab} index={i}>\n        {\n          (!d.ages.length || dashboard.isEditing) ? <Config ordinal={d.ordinal} /> : <ListActivities ages={d.ages} subjects={d.subjects}/>\n        }\n        </TabPanel>)\n    }\n    \n\n  </div>\n}","import React from 'react';\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\n\nimport { useParams, Link } from 'react-router-dom';\nimport { Typography, makeStyles, Chip, Grid, Card, Box } from '@material-ui/core';\nimport ReactMarkdown from 'react-markdown';\n\nimport humanizeDuration from 'humanize-duration';\n\nimport AddActivityButtons from '../added/Button';\nimport ActivitiesPreviewImages from '../preview/Images';\nimport MaterialsList from '../../../materials/List';\n\nimport { FormLabel } from '@material-ui/core';\nimport { blue } from '@material-ui/core/colors';\n\n\nconst useStyle = makeStyles({\n  spacer: {\n    marginTop: '2rem',\n  },\n  // image: {\n  //   width: '100%',\n  //   display: 'block',\n  //   margin: '2rem auto'\n  // },\n  tags: {\n    margin: '1rem auto 0',\n    textAlign: 'center',\n  },\n  requirements: {\n    padding: '0 2rem',\n  },\n  card: {\n    minWidth: '20rem',\n    margin: 'auto'\n  },\n  cardTitle: {\n    color: blue[700],\n    textDecoration: 'none',\n  },\n  cardTitleWrapper: {\n    margin: '0 1rem'\n  },\n})\n\ninterface $shedulesParams {\n  sheduleId: string\n}\n\nexport default function ActivityShow(props: any){\n  const classes = useStyle();\n  const { sheduleId } = useParams<$shedulesParams>();\n  const { data } = useCustomSwr(SERVER_ADDRESS+'/shedules/activities/public/'+sheduleId);\n\n  \n  if(!data) return null;\n  const linkWrapper = (children: JSX.Element)=>data?.properties?.link ? <a className={classes.cardTitle} href={data.properties.link} rel=\"noopener noreferrer\" target=\"_blank\" children={children}/> : <React.Fragment children={children}/>\n  return <div>\n    <Typography align=\"center\" variant=\"caption\">Disclaimer: This website does not guarantee the quality or safety of the activity below, nor does it guarantee which ages the activity is appropriate for. Please use your own judegement.</Typography>\n    <Card className={classes.card}>\n      <Grid justify=\"flex-start\" container>\n        <Grid item xs={1}>\n          {\n            // <LikeShow sheduleId={sheduleId} />\n          }\n          <AddActivityButtons activity={data} />\n        </Grid>\n      </Grid>\n      <Grid container justify=\"center\">\n          <Grid item md={6} lg={6} xl={6}>\n            <div className={classes.cardTitleWrapper}>\n            {\n              linkWrapper(<Typography className={classes.cardTitle} align=\"center\" variant=\"h5\" component=\"h1\">{data.name}</Typography>)\n            }\n            </div>\n            <div className={classes.tags}>\n              {(data?.properties?.tags || '').split(' ').map((tag: string) => <Chip key={tag} label={tag}/>)}\n            </div>\n            <Box m=\"3rem auto\" maxWidth=\"30rem\">\n              <ActivitiesPreviewImages activity={data} />\n            </Box>\n            \n          </Grid>\n          <Grid item md={6} lg={6} xl={6}>\n          {\n            data?.properties?.duration && \n              <Typography align=\"center\"  variant=\"body1\">\n                {humanizeDuration(data.properties.duration)}\n              </Typography>\n          }\n          {\n            (data?.properties?.metaRequirements && data?.properties?.metaRequirements.length) ? <div className={classes.requirements}>\n              <FormLabel>Requirements</FormLabel>\n              <MaterialsList activity={data} />\n            </div> : null\n          }\n          </Grid>\n      </Grid>\n    </Card>\n    <ReactMarkdown\n      source={data.description}\n    />\n  </div>\n}","import React from 'react';\nimport { TimelineOppositeContent } from '@material-ui/lab';\nimport Timeline from '@material-ui/lab/Timeline';\nimport TimelineItem from '@material-ui/lab/TimelineItem';\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\nimport TimelineContent from '@material-ui/lab/TimelineContent';\nimport TimelineDot from '@material-ui/lab/TimelineDot';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport reorderOrdinals from 'reorder-ordinals';\nimport { Link } from 'react-router-dom';\nimport AddActivityOptions from '../Options';\n\nconst grid = 8;\n\nconst getListStyle = () => ({\n  // background: isDraggingOver ? \"lightblue\" : \"lightgrey\",\n  // padding: grid,\n  // width: 250\n});\n\n\nconst getItemStyle = (isDragging: any, draggableStyle: any) => ({\n  // some basic styles to make the items look a bit nicer\n  userSelect: \"none\",\n  padding: grid * 2,\n  margin: `0 0 ${grid}px 0`,\n\n  // change background colour if dragging\n  // background: isDragging ? \"lightgreen\" : \"grey\",\n\n  // styles we need to apply on draggables\n  ...draggableStyle\n});\n\n\nexport default function DayTimeline(props: any) {\n  const onDragEnd = (result: any) => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n    const nextData = reorderOrdinals()(props.data, result.source.index, result.destination.index)\n    props.mutate(\n      nextData\n    );\n  }\n  return (\n    <DragDropContext onDragEnd={onDragEnd}>\n      <Droppable droppableId=\"droppable\">\n      {\n        (provided, snapshot: any) => (\n        <div\n          {...provided.droppableProps}\n          ref={provided.innerRef}\n          style={getListStyle()}\n        >\n          <Timeline align=\"alternate\">\n            {\n              (props.data || []).sort((a: any, b: any)=>a.ordinal - b.ordinal).map((activityRel: any, index: number) => {\n\n                const activity = activityRel.activity;\n                return <Draggable key={activityRel.id} draggableId={activityRel.id} index={activityRel.ordinal}>\n                {\n                  (provided, snapshot) => (<span\n                    ref={provided.innerRef}\n                    {...provided.draggableProps}\n                    {...provided.dragHandleProps}\n                    style={getItemStyle(\n                      snapshot.isDragging,\n                      provided.draggableProps.style\n                    )}\n                  >\n                    <TimelineItem>\n                      <TimelineOppositeContent>\n                        <AddActivityOptions activity={activity} />\n                      </TimelineOppositeContent>\n                      <TimelineSeparator>\n                        <TimelineDot />\n                        {index === (props.data.length - 1) ? null : <TimelineConnector /> }\n                      </TimelineSeparator>\n                      <TimelineContent>\n                        <Link to={`/shedules/activities/${activity.id}`}>{activity.name}</Link>\n                      </TimelineContent>\n                    </TimelineItem>\n                  </span>)\n                }\n                </Draggable>\n              })\n            }\n          </Timeline>\n        </div>)\n      }\n      </Droppable>\n    </DragDropContext>\n  );\n}","import React, { useState } from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nimport { useCustomSwr, SERVER_ADDRESS } from '../../../../utils/remote';\nimport SheduleRow from '../../../components/general/SheduleRow';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport DayTimeline from './Timeline';\nimport { updateActivities, purgeActivities } from './utils';\nimport Accordions from '../../../materials/Accordions';\nimport {\n    addedActivitiesSelector,\n    createConfigAction,\n    onboardingSelector\n} from '../../../../utils/redux/config';\nimport { uiSelector, createUIAction } from '../../../../utils/redux/ui';\nimport { useMediaQuery } from '@material-ui/core';\nimport MyTabs, { TabPanel } from '../../../components/general/Tabs';\nimport { MoreVert } from '@material-ui/icons';\nimport FAIcon from '../../../components/general/FAIcon';\nimport { steps } from '../../../components/general/SheduleRow/Slot/Tour';\nimport Tour from '../../../components/general/Tour';\n\n\n\n\n\n\nexport default function ShedulesAddedActivitiesShowMany(props: any){\n  \n  const addedActivities = useSelector(addedActivitiesSelector);\n  const dispatch = useDispatch();\n  const ui = useSelector(uiSelector);\n  const { step, completed } = useSelector(onboardingSelector('listActivities'));\n  const [tab, setTab] = useState(ui.addedActivities.tab || 0);\n  const defaultValue : any = []\n  const { data } = useCustomSwr(SERVER_ADDRESS+`/shedules/activities/public`, { \n    defaultValue,\n    query: {\n      ids: Object.keys(addedActivities)\n    },\n    doNotFire:  !Object.keys(addedActivities).length,\n    deps: [],\n  });\n  React.useEffect(()=>{\n    if(data === defaultValue) return;\n    if(data.length !== Object.keys(addedActivities).length){\n      purgeActivities(data)\n    }\n  }, [data])\n  React.useEffect(()=>{\n    console.log('inEffect', step, steps.length)\n    if(step === steps.length + 1){\n      dispatch(createConfigAction({\n        onboarding: {\n          listActivities: {\n            completed: false,\n            step: step + 1,\n          }\n        }\n      }))\n    }\n  }, [])\n  const biggerThanSmall = useMediaQuery('(min-width:1000px)');\n  const noActivitiesText = <p>No activities in lineup. Add activities by clicking the <MoreVert /> icon in the activity cards</p>\n  const inScheduleActivities = data.filter((activity: any)=>addedActivities[activity.id]?.inSchedule);\n  const bookmarkedActivities = !data.length ? <p>You have no bookmarked activities. To bookmark an activity, click on the <FAIcon type=\"bookmark\"/> icon of an activity card on your <Link to=\"/\">home page</Link></p> : <SheduleRow addedActivityPage data={data} />\n  const schedule = !inScheduleActivities.length ? noActivitiesText : <DayTimeline mutate={updateActivities} data={inScheduleActivities.map((activity: any) => ({\n    id: activity.id,\n    activity,\n    ordinal: addedActivities[activity.id].ordinal\n  }))} />\n  const materials = !inScheduleActivities.length ? noActivitiesText : <Accordions data={[...inScheduleActivities].sort((a,b)=>addedActivities[a.id].ordinal-addedActivities[b.id].ordinal)} />\n  // const scheduleTitle = <Typography align=\"center\">Activity Lineup</Typography>\n  const tour = (step < steps.length || completed) ? null : <Tour\n      step={0}\n      joyrideProps={{\n          continuous: true,\n          run: true,\n          steps: bookmarkSteps,\n          showProgress: false,\n          showSkipButton: false,\n          // disableOverlayClose: true\n          // disableCloseOnEsc: true,\n          styles: {\n            options: {\n              zIndex: 10000,\n            }\n          },\n        }\n      }\n    onChange={(nextStep: number)=>{\n      dispatch(createConfigAction({\n        onboarding: {\n          listActivities: {\n            completed: true,\n            step: nextStep,\n          }\n        }\n      }))\n    }}\n    onEnd={(nextStep: number)=>{\n      dispatch(\n        createConfigAction({\n          onboarding: {\n            listActivities: {\n              completed: true,\n              step: nextStep,\n            }\n          }\n        }))\n      }\n    }\n  />\n  \n  return biggerThanSmall ?  <div>\n    {\n      tour\n    }\n    <Grid container>\n      <Grid xs={6} item>\n        <Typography align=\"center\" variant=\"h6\">\n          Bookmarked Activities\n        </Typography>\n        {\n          bookmarkedActivities\n        }\n      </Grid>\n      {\n        !data.length ? null : <Grid xs={6}>\n          <Typography align=\"center\" variant=\"h6\">\n            Activity Lineup\n          </Typography>\n          {\n            !inScheduleActivities.length ? <Typography>\n            {\n              noActivitiesText\n            }\n          </Typography> : <Grid container>\n            <Grid xs={6} item>\n                {\n                  schedule\n                }\n              </Grid>\n              <Grid xs={6}item>\n                {\n                  materials\n                }\n              </Grid>\n            </Grid>\n          }\n        </Grid>\n      }\n    </Grid>\n  </div> : <div>\n    {\n      tour\n    }\n          <div>\n        <MyTabs\n          tabsProps={{variant: \"standard\"}}\n          value={tab}\n          onChange={(newValue: number)=>{\n            setTab(newValue)\n            dispatch(createUIAction({\n              addedActivities: {\n                tab: newValue\n              }\n            }))\n          }}\n          tabPropsArr={\n            [\n              {\n                label: \"Bookmarks\"\n              },\n              {\n                label: \"Lineup\"\n              },\n              {\n                label: \"Materials\"\n              }\n            ]\n          } />\n      </div>\n      <TabPanel value={tab} index={0}>\n        <Grid container>\n          <Grid item sm={12} md={6}>\n            {\n              bookmarkedActivities\n            }\n          </Grid>  \n        </Grid>\n      </TabPanel>\n      <TabPanel value={tab} index={1}>\n        {\n          schedule\n        }\n      </TabPanel>\n      <TabPanel value={tab} index={2}>\n        <Grid container>\n          <Grid item sm={12} md={6}>\n            {\n              materials\n            }\n          </Grid>\n        </Grid>\n        </TabPanel>\n    </div>\n}\n\nconst bookmarkSteps = [\n  {\n    title: 'Back to the activity dashboard',\n    content: <Typography variant=\"body2\">Go back to the activity dashboard</Typography>,\n    spotlightPadding: 10,\n    target: '.go-to-dashboard',\n  },\n]","import React from 'react';\nimport { Typography, Card, CardContent, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: '700px',\n    margin: '0 auto',\n  }\n})\n\nexport default function Contact(){\n  const classes = useStyles();\n  return <div>\n    <div>\n      <Card className={classes.root}>\n        <CardContent>\n            <Typography variant=\"h6\" component=\"h1\">Contact Us</Typography>\n            <Typography variant=\"body2\">Fill out the contact form, or for more immediate responses, join us on <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://join.slack.com/t/acts-y6j6127/shared_invite/zt-gmnzx11u-8bMX9_T86YUh_fTXiU6nHg\">Slack</a></Typography>\n            <iframe title=\"contact\" src=\"https://docs.google.com/forms/d/e/1FAIpQLScxg0UfktZjdRulfXcTGcbtAl5DirwLqp8U1FPMDIVe9kQrhg/viewform?embedded=true\" min-width=\"300\" width=\"100%\" height=\"900\">Loading</iframe>\n        </CardContent>\n      </Card>\n    \n    </div>\n  </div>\n}","import { Button, Card, CardContent, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { userSelector } from '../../../../utils/redux/user';\nimport { useSelector } from 'react-redux';\nimport { setupIntents } from '../../../../utils/stripe';\nimport { sendEvent } from '../../../../utils/ga';\n\n\n\nexport default function UserCreateError(){\n  const user = useSelector(userSelector);\n  const handleVerifyPayment = ()=>{\n    sendEvent({category: 'payment', action: 'click', label: 'verify'});\n    setupIntents()\n  }\n  return <div>\n    <Card>\n      <CardContent>\n        <Typography>To complete the signup process, please provide payment information by clicking the button below</Typography>\n        <Button onClick={handleVerifyPayment}>Proceed to payment section</Button>\n      </CardContent>\n    </Card>\n  </div>\n}","import React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { SERVER_ADDRESS, useCustomSwr } from '../../../../utils/remote';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createUserAction, userSelector } from '../../../../utils/redux/user';\n\nexport default function CreateUserSuccess(){\n  const history = useHistory();\n  const { data } = useCustomSwr(SERVER_ADDRESS+'/users/payments/intents')\n  const user = useSelector(userSelector);\n  const dispatch = useDispatch()\n  useEffect(()=>{\n    if(data){\n      dispatch(createUserAction(data.data))\n    }\n  }, [data])\n  useEffect(()=>{\n    if(user.creditApproved){\n      history.push('/')\n    }\n  }, [user])\n  return null\n}","import React, { useState } from 'react';\nimport { Button, Dialog, DialogActions, DialogContent, Typography } from '@material-ui/core';\nimport { $sendEventProps, sendEvent } from '../../../../utils/ga';\n\n\n\nexport default function ButtonPrompt({ga, raw, children, buttonProps, message, onConfirm}: {ga?: $sendEventProps, raw?: Boolean, children: JSX.Element | string, buttonProps: Object, message: string | JSX.Element, onConfirm: Function}){\n  const [ isOpen, setIsOpen ] = useState(false);\n  return <>\n    <Button \n      {...(buttonProps || {})}\n      onClick={()=>{\n        setIsOpen(true)\n        if(ga){\n          sendEvent(ga)\n        }\n      }}\n      // onClose={()=>setIsOpen(false)}\n    >\n      {\n        children\n      }\n    </Button>\n    <Dialog open={isOpen}>\n      <DialogContent>\n        {\n          raw ? message : <Typography variant=\"body1\">{message}</Typography>\n        }\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"secondary\" onClick={()=>{\n          onConfirm()\n          setIsOpen(false);\n        }}>Confirm</Button>\n        <Button onClick={()=>setIsOpen(false)}>Cancel</Button>\n      </DialogActions>\n    </Dialog>\n    </>\n}","import React from 'react';\nimport ButtonPrompt from '../../components/general/ButtonPrompt';\nimport { post, SERVER_ADDRESS } from '../../../utils/remote';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createUserAction, userSelector } from '../../../utils/redux/user';\nimport { useHistory } from 'react-router-dom';\nimport { uiCreditsSelector } from '../../../utils/redux/ui';\nimport { makeStyles } from '@material-ui/styles';\nimport { Button, TableBody, Typography } from '@material-ui/core';\nimport { Card, CardContent, Table, TableCell, TableHead, TableRow } from '@material-ui/core';\nimport { format, parseISO, addMonths } from 'date-fns';\nimport { sendEvent } from '../../../utils/ga';\n\nexport const endpoint = SERVER_ADDRESS + '/users/subscriptions';\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: '300px',\n    margin: '0rem auto 1rem',\n  },\n})\n\nexport default function Subscriptions(){\n  const user = useSelector(userSelector);\n  const credits = useSelector(uiCreditsSelector);\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory()\n  return <div>\n    <Card className={classes.card}>\n      <CardContent>\n        <Typography align=\"center\" variant=\"h6\">\n          Subscription Details\n        </Typography>\n      </CardContent>\n    </Card>\n    <Card className={classes.card}>\n      <CardContent>\n        <Table>\n          <TableBody>\n            <TableRow>\n              <TableCell>\n                Current Monthly Fee\n              </TableCell>\n              <TableCell>\n                $2.00\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                Credits Remaining\n              </TableCell>\n              <TableCell>\n                {\n                  credits.count\n                }\n              </TableCell>\n\n            </TableRow>\n<TableRow>\n              <TableCell>\n                Next Payment Due\n              </TableCell>\n              <TableCell>\n                {\n                  format(addMonths(parseISO(user.createdAt), credits.count+1), 'MMMM dd, yyyy')\n                }\n              </TableCell>\n              \n            </TableRow>\n          </TableBody>\n        </Table>\n      </CardContent>\n    </Card>\n    <Card className={classes.card}>\n      <CardContent>\n        {\n          user.cancelled ? <Button\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={()=>{\n              sendEvent({category: 'subscriptions', action: 'click', label: 'activate'});\n              return post(endpoint, {\n                body: {\n                  cancelled: false\n                }\n              }).then(({data: token})=>{\n                dispatch(createUserAction(token));\n              })\n            }}\n            >\n            Renew Subscription\n            </Button> : <ButtonPrompt\n            ga={{\n              category: 'subscription',\n              action: 'click',\n              label: 'preconfirmCancel'\n            }}\n            raw\n            buttonProps={{\n              fullWidth: true,\n              color: 'secondary'\n            }}\n            message={\n              <>\n                <Typography variant=\"body1\">Are you sure you want to cancel your subscription?</Typography>\n                <Typography variant=\"body2\">You will lose access to the site at the end of your current billing cycle</Typography>\n              </>\n              \n            }\n            onConfirm={()=>{\n              sendEvent({category: 'subscriptions', action: 'click', label: 'cancel'});\n              return post(endpoint, {\n                body: {\n                  cancelled: true\n                }\n              }).then((res)=>{\n                dispatch(createUserAction(res.data))\n              })\n            }}\n          >\n            Cancel Subscription\n          </ButtonPrompt>\n        }\n      </CardContent>\n    </Card>\n  </div>\n}\n\n","import React from 'react';\n\nimport { post, SERVER_ADDRESS } from '../../../utils/remote';\nimport { useDispatch } from 'react-redux';\nimport { createUserAction } from '../../../utils/redux/user';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/styles';\nimport { Button, Card, CardContent, Typography } from '@material-ui/core';\n\nexport const endpoint = SERVER_ADDRESS + '/users/subscriptions';\n\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: '300px',\n    margin: '0 auto',\n  },\n  info: {\n    margin: '1rem 0',\n  },\n  button: {\n    margin: '1rem 0'\n  }\n})\n\nexport default function Reactivate(){\n  const dispatch = useDispatch();\n  const history = useHistory()\n  const classes = useStyles();\n  return <div>\n    <Card className={classes.card}>\n      <CardContent>\n        <Typography align=\"center\" variant=\"h6\">Account Information</Typography>\n        <Typography className={classes.info} variant=\"body2\">Your account has been deactivated.</Typography>\n        <Button\n          className={classes.button}\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={()=>{\n            return post(endpoint, {\n              body: {\n                cancelled: false\n              }\n            }).then(({data: token})=>{\n              dispatch(createUserAction(token));\n              history.push('/');\n            })\n          }}\n        >\n          Reactivate\n        </Button>\n      </CardContent>\n      \n    </Card>\n    \n    \n    \n  </div>\n}","import { Card, CardContent, Container } from '@material-ui/core';\nimport React from 'react';\nimport ReactMarkdown from 'react-markdown';\n\nconst text = `\n# ACTS Terms of Use\nACTS provides a personalized subscription service that allows our members to access activities (ACTS content) from certain Internet-connected TVs, computers and other devices (\"ACTS ready devices\").\n\nThese Terms of Use govern your use of our service. As used in these Terms of Use, \"ACTS service\", \"our service\" or \"the service\" means the personalized service provided by ACTS for discovering ACTS content, including all features and functionalities, recommendations and reviews, the website, and user interfaces, as well as all content and software associated with our service.\n\n## Membership\n\n1.1. Your ACTS membership will continue until terminated. To use the ACTS service you must have Internet access and an ACTS ready device, and provide us with one or more Payment Methods. Payment Method means a current, valid, accepted method of payment, as may be updated from time to time, and which may include payment through your account with a third party. Unless you cancel your membership before your billing date, you authorize us to charge the membership fee for the next billing cycle to your Payment Method (see \"Cancellation\" below).\n\n1.2. We may offer a number of membership plans, including special promotional plans or memberships offered by third parties in conjunction with the provision of their own products and services. We are not responsible for the products and services provided by such third parties. Some membership plans may have differing conditions and limitations, which will be disclosed at your sign-up or in other communications made available to you. You can find specific details regarding your ACTS membership by visiting our website and clicking on the \"Account\" icon and selecting the \"Subscriptions\" link.\n\n## Free Trials\n\n2.1. Your ACTS membership may start with a free trial. The duration of the free trial period of your membership will be specified during sign-up and is intended to allow new members and certain former members to try the service.\n\n2.2. Free trial eligibility is determined by ACTS at its sole discretion and we may limit eligibility or duration to prevent free trial abuse. We reserve the right to revoke the free trial and put your account on hold in the event that we determine that you are not eligible. Members of households with an existing or recent ACTS membership are not eligible. We may use information such as device ID, method of payment or an account email address used with an existing or recent ACTS membership to determine eligibility. For combinations with other offers, restrictions may apply.\n\n2.3. We will charge the membership fee for the next billing cycle to your Payment Method at the end of the free trial period unless you cancel your membership prior to the end of the free trial period. To view the membership price and end date of your free trial period, visit our website and click the \"Account\" icon and then the \"Subscriptions\" link.\n\n## Billing and Cancellation\n\n3.1. Billing Cycle. The membership fee for the ACTS service and any other charges you may incur in connection with your use of the service, such as taxes and possible transaction fees, will be charged to your Payment Method on the specific billing date indicated on your \"Subscriptions\" page. The length of your billing cycle will depend on the type of subscription that you choose when you sign-up for the service. In some cases your payment date may change, for example if your Payment Method has not successfully settled or if your paid membership began on a day not contained in a given month. Visit our website and click on the \"Account\" icon and then the \"Subscriptions\" link to see your next payment date. We may authorize your Payment Method in anticipation of membership or service-related charges through various methods, including authorizing it for up to approximately one month of service as soon as you register. In some instances, your available balance or credit limit may be reduced to reflect the authorization during your free trial period.\n\n3.2. Payment Methods. To use the ACTS service you must provide one or more Payment Methods. You authorize us to charge any Payment Method associated to your account in case your primary Payment Method is declined or no longer available to us for payment of your subscription fee. You remain responsible for any uncollected amounts. If a payment is not successfully settled, due to expiration, insufficient funds, or otherwise, and you do not cancel your account, we may suspend your access to the service until we have successfully charged a valid Payment Method. For some Payment Methods, the issuer may charge you certain fees, such as foreign transaction fees or other fees relating to the processing of your Payment Method. Local tax charges may vary depending on the Payment Method used. Check with your Payment Method service provider for details.\n\n3.3. Updating your Payment Methods. Starting January 2021, you will be able to update your Payment Methods by going clicking on the \"Account\" icon and then the \"Subscriptions\" link. We may also update your Payment Methods using information provided by the payment service providers. Following any update, you authorize us to continue to charge the applicable Payment Method(s).\n\n3.4. Cancellation. You can cancel your ACTS membership at any time, and you will continue to have access to the ACTS service through the end of your billing period. To the extent permitted by the applicable law, payments are non-refundable and we do not provide refunds or credits for any partial membership periods or unused ACTS content. To cancel, click on the \"Account\" icon and then the \"Subscriptions\" link, which directs you to the Subscriptions page. At the bottom of the page is a button to cancel your subscription. If you cancel your subscription, your account will automatically close at the end of your current billing period. To see when your account will close, click \"Billing details\" on the \"Account\" page. If you signed up for ACTS using your account with a third party as a Payment Method and wish to cancel your ACTS membership, you may need to do so through such third party, for example by visiting your account with the applicable third party and turning off auto-renew, or unsubscribing from the ACTS service through that third party. You may also find billing information about your ACTS membership by visiting your account with the applicable third party.\n\n3.5. Changes to the Price and Subscription Plans. We may change our subscription plans and the price of our service from time to time; however, any price changes or changes to your subscription plans will apply no earlier than 30 days following notice to you.\n\n## ACTS Service\n\n4.1. You must be 18 years of age, or the age of majority in your province, territory or country, to become a member of the ACTS service. Minors may only use the service under the supervision of an adult.\n\n4.2. The ACTS service and any content viewed through the service are for your personal and non-commercial use only and may not be shared with individuals beyond your household. During your ACTS membership we grant you a limited, non-exclusive, non-transferable right to access the ACTS service and view ACTS content. Except for the foregoing, no right, title or interest shall be transferred to you.\n\n4.3. You may view the ACTS content primarily within the country in which you have established your account and only in geographic locations where we offer our service. The content that may be available will vary by geographic location and will change from time to time. The number of devices on which you may simultaneously use depends on your chosen subscription plan and is specified on the \"Account\" page.\n\n4.4. You agree to use the ACTS service, including all features and functionalities associated therewith, in accordance with all applicable laws, rules and regulations, or other restrictions on use of the service or content therein. You agree not to archive, reproduce, distribute, modify, display, perform, publish, license, create derivative works from, offer for sale, or use (except as explicitly authorized in these Terms of Use) content and information contained on or obtained from or through the ACTS service. You also agree not to: circumvent, remove, alter, deactivate, degrade or thwart any of the content protections in the ACTS service; use any robot, spider, scraper or other automated means to access the ACTS service; decompile, reverse engineer or disassemble any software or other products or processes accessible through the ACTS service; insert any code or product or manipulate the content of the ACTS service in any way; or use any data mining, data gathering or extraction method. In addition, you agree not to upload, post, e-mail or otherwise send or transmit any material designed to interrupt, destroy or limit the functionality of any computer software or hardware or telecommunications equipment associated with the ACTS service, including any software viruses or any other computer code, files or programs. We may terminate or restrict your use of our service if you violate these Terms of Use or are engaged in illegal or fraudulent use of the service.\n\n4.5. ACTS software is developed by, or for, ACTS and is designed to enable viewing of ACTS content through ACTS ready devices. This software may vary by device and medium, and functionalities and features may also differ between devices. You acknowledge that the use of the service may require third party software that is subject to third party licenses. You agree that you may automatically receive updated versions of the ACTS and related third-party software.\n\n4.6. You may use the ACTS content so long as you use your best judgement about the activities that are posted on the ACTS website. ACTS does not guarantee the quality or safety of any activities listed on the ACTS website, and any auxiliary information ACTS provides about the activity, which may include which ages the activity is appropriate for, and what kind benefits can be derived from doing the activity, are simply estimations and not guaranteed to be accurate.\n\n## Passwords and Account Access.\n\nThe member who created the ACTS account and whose Payment Method is charged (the \"Account Owner\") has access and control over the ACTS account and the ACTS ready devices that are used to access our service and is responsible for any activity that occurs through the ACTS account. To maintain control over the account and to prevent anyone from accessing the account (which would include information on viewing history for the account), the Account Owner should maintain control over the ACTS ready devices that are used to access the service and not reveal the password or details of the Payment Method associated with the account to anyone. You are responsible for updating and maintaining the accuracy of the information you provide to us relating to your account. We can terminate your account or place your account on hold in order to protect you, ACTS or our partners from identity theft or other fraudulent activity.\nWarranties and Limitations on Liability. The ACTS service is provided \"as is\" and without warranty or condition. In particular, our service may not be uninterrupted or error-free. You waive all special, indirect and consequential damages against us. These terms will not limit any non-waivable warranties or consumer protection rights that you may be entitled to under the laws of your country of residence.\nClass Action Waiver. WHERE PERMITTED UNDER THE APPLICABLE LAW, YOU AND NETFLIX AGREE THAT EACH MAY BRING CLAIMS AGAINST THE OTHER ONLY IN YOUR OR ITS INDIVIDUAL CAPACITY, AND NOT AS A PLAINTIFF OR CLASS MEMBER IN ANY PURPORTED CLASS OR REPRESENTATIVE PROCEEDING. Further, where permitted under the applicable law, unless both you and ACTS agree otherwise, the court may not consolidate more than one person's claims with your claims, and may not otherwise preside over any form of a representative or class proceeding.\n\n## Miscellaneous\n\n8.1. Governing Law. These Terms of Use shall be governed by and construed in accordance with the laws of the Netherlands.\n\n8.2. Customer Support. To find more information about our service and its features or if you need assistance with your account, please visit the ACTS Help Center on our website. In certain instances, Customer Service may best be able to assist you by using a remote access support tool through which we have full access to your computer. If you do not want us to have this access, you should not consent to support through the remote access tool, and we will assist you through other means. In the event of any conflict between these Terms of Use and information provided by Customer Support or other portions of our website, these Terms of Use will control.\n\n8.3. Survival. If any provision or provisions of these Terms of Use shall be held to be invalid, illegal, or unenforceable, the validity, legality and enforceability of the remaining provisions shall remain in full force and effect.\n\n8.4. Changes to Terms of Use and Assignment. ACTS may, from time to time, change these Terms of Use. We will notify you at least 30 days before such changes apply to you. We may assign or transfer our agreement with you including our associated rights and obligations at any time and you agree to cooperate with us in connection with such an assignment or transfer.\n\n8.5. Electronic Communications. We will send you information relating to your account (e.g. payment authorizations, invoices, changes in password or Payment Method, confirmation messages, notices) in electronic form only, for example via emails to your email address provided during registration.\nLast Updated: Octover 20, 2020`\n\nexport default function TermsOfUse(){\n  return <Container>\n    <Card>\n      <CardContent>\n        <ReactMarkdown source={text} />\n      </CardContent>\n    </Card>\n  </Container>\n}\n\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\n\nexport default function Privacy(){\n  return <ReactMarkdown source={text} />\n}\n\nconst text = `\n# Privacy Statement\nThis Privacy Statement explains our practices, including your choices, regarding the collection, use, and disclosure of certain information, including your personal information, by the Actswebapp family of companies (\"Actswebapp\") in connection with the Actswebapp service.\n\n## Contacting Us\nIf you have general questions about your account or how to contact customer service for assistance, please visit our online help center at help.actswebapp.com. For questions specifically about this Privacy Statement, or our use of your personal information, cookies or similar technologies, please contact our Data Protection Officer/Privacy Office by email at privacy@actswebapp.com.\n\nThe data controller of your personal information is Actswebapp Inc. Please note that if you contact us to assist you, for your safety and ours we may need to authenticate your identity before fulfilling your request.\n\n## Collection of Information\nWe receive and store information about you such as:\n\n### Information you provide to us:\nWe collect information you provide to us which includes: your name, email address, address or postal code, payment method(s), and telephone number. In certain countries, we collect a government identification number for purposes such as billing and tax compliance. We collect this information in a number of ways, including when you enter it while using our service, interact with our customer service, or participate in surveys or marketing promotions;\ninformation when you choose to provide ratings, taste preferences, account settings (including preferences set in the \"Account\" section of our website), or otherwise provide information to us through our service or elsewhere.\n\n### Information we collect automatically: \nWe collect information about you and your use of our service, your interactions with us and our advertising, as well as information regarding your network, network devices, and your computer or other Actswebapp capable devices you might use to access our service (such as gaming systems, smart TVs, mobile devices, set top boxes, and other streaming media devices). This information includes:\nyour activity on the Actswebapp service, such as title selections, shows you have watched, and search queries;\nyour interactions with our emails and texts, and with our messages through push and online messaging channels;\ndetails of your interactions with our customer service, such as the date, time and reason for contacting us, transcripts of any chat conversations, and if you call us, your phone number and call recordings;\ndevice IDs or other unique identifiers, including for your network devices, and devices that are Actswebapp capable on your Wi-Fi network;\nresettable device identifiers (also known as advertising identifiers), such as those on mobile devices, tablets, and streaming media devices that include such identifiers (see the \"Cookies and Internet Advertising\" section below for more information);\ndevice and software characteristics (such as type and configuration), connection information including type (wifi, cellular), statistics on page views, referring source (for example, referral URLs), IP address (which may tell us your general location), browser and standard web server log information;\ninformation collected via the use of cookies, web beacons and other technologies, including ad data (such as information on the availability and delivery of ads, the site URL, as well as the date and time). (See our \"Cookies and Internet Advertising\" section for more details.)\n\n### Information from partners:\nWe collect information from other companies with whom you have a relationship (Partners). These Partners might include (depending on what services you use): your TV or internet service provider, or other streaming media device providers who make our service available on their device; mobile phone carriers or other companies who provide services to you and collect payment for the Actswebapp service for distribution to us or provide pre-paid promotions for the Actswebapp service; and voice assistant platform providers who enable interaction with our service through voice commands. The information Partners provide us varies depending on the nature of the Partner services, and may include:\nsearch queries and commands applicable to Actswebapp that you make through Partner devices or voice assistant platforms;\nservice activation information such as your email address or other contact information;\nIP addresses, device IDs or other unique identifiers, as well as associated pre-paid promotion, billing and user interface information, that support user authentication, the Actswebapp service registration experience, Partner payment processing, and the presentation of Actswebapp content to you through portions of the Partner user interface.\n\n### Information from other sources: We also obtain information from other sources. We protect this information according to the practices described in this Privacy Statement, plus any additional restrictions imposed by the source of the data. These sources vary over time, but could include:\nservice providers that help us determine a location based on your IP address in order to customize our service and for other uses consistent with this Privacy Statement;\nsecurity service providers who provide us with information to secure our systems, prevent fraud and help us protect the security of Actswebapp accounts;\npayment service providers who provide us with payment or balance information, or updates to that information, based on their relationship with you;\nonline and offline data providers, from which we obtain aggregated demographic, interest based and online advertising related data;\npublicly-available sources such as publicly available posts on social media platforms and information available through public databases associating IP addresses with internet service providers (ISPs).\n\n## Use of Information\nWe use information to provide, analyze, administer, enhance and personalize our services and marketing efforts, to manage member referrals, to process your registration, your orders and your payments, and to communicate with you on these and other topics. For example, we use such information to:\ndetermine your general geographic location, provide localized content, provide you with customized and personalized viewing recommendations for movies and TV shows we think will be of interest to you, determine your ISP to support network troubleshooting for you (we also use aggregated ISP information for operational and business purposes), and help us quickly and efficiently respond to inquiries and requests;\ncoordinate with Partners on making the Actswebapp service available to members and providing information to non members about the availability of the Actswebapp service, based on the specific relationship you have with the Partner;\nsecure our systems, prevent fraud and help us protect the security of Actswebapp accounts;\nprevent, detect and investigate potentially prohibited or illegal activities, including fraud, and to enforce our terms (such as determining whether and for which Actswebapp signup offers you are eligible and determining whether a particular device is permitted to use the account consistent with our Terms of Use);\nanalyze and understand our audience, improve our service (including our user interface experiences and service performance) and optimize content selection, recommendation algorithms and delivery;\ncommunicate with you concerning our service so that we can send you news about Actswebapp, details about new features and content available on Actswebapp, special offers, promotional announcements, consumer surveys, and to assist you with operational requests such as password reset requests. These communications may be by various methods, such as email, push notifications, text message, online messaging channels, and matched identifier communications (described below). Please see the \"Your Choices\" section of this Privacy Statement to learn how to set or change your communications preferences.\n\n## Disclosure of Information\nWe disclose your information for certain purposes and to third parties, as described below:\n\nThe Actswebapp family of companies: We share your information among the Actswebapp family of companies (help.actswebapp.com/legal/corpinfo) as needed for: data processing and storage; providing you with access to our services; providing customer support; making decisions about service improvements; content development; and for other purposes described in the Use of Information section of this Privacy Statement.\nService Providers: We use other companies, agents or contractors (\"Service Providers\") to perform services on our behalf or to assist us with the provision of services to you. For example, we engage Service Providers to provide marketing, advertising, communications, security, infrastructure and IT services, to customize, personalize and optimize our service, to provide bank account or balance information, to process credit card transactions or other payment methods, to provide customer service, to analyze and enhance data (including data about users' interactions with our service), and to process and administer consumer surveys. In the course of providing such services, these Service Providers may have access to your personal or other information. We do not authorize them to use or disclose your personal information except in connection with providing their services (which includes maintaining and improving their services).\nPartners: As described above, you may have a relationship with one or more of our Partners, in which case we may share certain information with them in order to coordinate with them on providing the Actswebapp service to members and providing information about the availability of the Actswebapp service. For example, depending on what Partner services you use, we may share information:\nin order to facilitate Partner pre-paid promotions or collection of payment for the Actswebapp service for distribution to us;\nwith Partners who operate voice assistant platforms that allow you to interact with our service using voice commands;\nso that content and features available in the Actswebapp service can be suggested to you in the Partners user interface. For members, these suggestions are part of the Actswebapp service and may include customized and personalized viewing recommendations.\nPromotional offers: We may offer joint promotions or programs that, in order for your participation, will require us to share your information with third parties. In fulfilling these types of promotions, we may share your name and other information in connection with fulfilling the incentive. Please note that these third parties are responsible for their own privacy practices.\nProtection of Actswebapp and others: Actswebapp and its Service Providers may disclose and otherwise use your personal and other information where we or they reasonably believe such disclosure is needed to (a) satisfy any applicable law, regulation, legal process, or governmental request, (b) enforce applicable terms of use, including investigation of potential violations thereof, (c) detect, prevent, or otherwise address illegal or suspected illegal activities (including payment fraud), security or technical issues, or (d) protect against harm to the rights, property or safety of Actswebapp, its users or the public, as required or permitted by law.\nBusiness transfers: In connection with any reorganization, restructuring, merger or sale, or other transfer of assets, we will transfer information, including personal information, provided that the receiving party agrees to respect your personal information in a manner that is consistent with our Privacy Statement.\nWhenever in the course of sharing information we transfer personal information to countries outside of the European Economic Area and other regions with comprehensive data protection laws, we will ensure that the information is transferred in accordance with this Privacy Statement and as permitted by the applicable laws on data protection.\n\nYou may also choose to disclose your information in the following ways:\n\ncertain portions of our service may contain a tool which gives you the option to share information by email, text message and social or other sharing applications, using the clients and applications on your smart device;\nsocial plugins and similar technologies allow you to share information.\nSocial plugins and social applications are operated by the social networks themselves, and are subject to their terms of use and privacy policies.\n\n## Access to Account and Profiles\nRemember me function: For ease of access to your account, you can use the \"Remember me on this device\" function when you log in to the website. This function uses technology that enables us to provide direct account access and to help administer the Actswebapp service without requiring reentry of any password or other user identification when your browser revisits the service. \nGiving others access to your account: If you share or otherwise allow others to have access to your account, they will be able to see shows you have watched, ratings, and account information (including your email address or other information in the \"Account\" area of our website). This remains true even if you use our profiles feature. You might have the option to use seamless account login through the Actswebapp mobile app, which enables login to the Actswebapp app on smart TVs, set top boxes, and other streaming media devices on the Wi-Fi network to which you are connected. If you use that feature, those devices will remain signed into your account unless you later log out of those devices. \nProfiles: Profiles allow users to have a distinct, personalized Actswebapp experience, built around the movies and shows of interest to them, as well as separate watch histories. Please note that profiles are available to everyone who uses your Actswebapp account, so that anyone with access to your Actswebapp account can navigate to and use, edit or delete profiles. You should explain this to others with access to your account, and if you do not wish them to use or change your profile, be sure to let them know. Profile users may be offered the opportunity to add an email address, phone number or other information to the profile and will be provided with notice of collection and use at the time such information is requested (the Profile Privacy Notice applies (help.actswebapp.com/legal/profileprivacy)). \nRemoving device access to your Actswebapp account: To remove access to your Actswebapp account from your devices: (a) visit the \"Account\" section of our website, choose \"Sign out of all devices,\" and follow the instructions to deactivate your devices (note, deactivation may not occur immediately) or (b) delete your Actswebapp settings from your device (steps vary by device and the option is not available on all devices). Where possible, users of public or shared devices should log out at the completion of each visit. If you sell or return a computer or Actswebapp ready device, you should log out and deactivate the device before doing so. If you do not maintain the security of your password or device, or fail to log out or deactivate your device, subsequent users may be able to access your account, including your personal information.\n\n## Your Choices\nEmail and Text Messages. If you no longer want to receive certain communications from us via email or text message, simply access the \"Communications Settings\" option in the \"Account\" section of our website and uncheck those items to unsubscribe. Alternatively, click the \"unsubscribe\" link in the email or reply STOP (or as otherwise instructed) to the text message. Please note that you cannot unsubscribe from service-related correspondence from us, such as messages relating to your account transactions.\n\nPush Notifications. You can choose to receive mobile push notifications from Actswebapp. On some device operating systems, you will be automatically enrolled in the notifications. If you subsequently decide you no longer wish to receive these notifications, you can use your mobile device's settings functionality to turn them off. We also offer push notifications on certain web browsers. If you agree to receive those notifications and subsequently decide you no longer wish to receive these notifications, you can use your browsers settings to turn them off.\n\nWhatsApp. If you have enabled WhatsApp messages in connection with your Actswebapp account or profile and no longer wish to receive them, you can use your WhatsApp app settings to block them.\n\nInterest-Based Ads. Interest-based ads are online ads that are tailored to your likely interests based on your use of various apps and websites across the Internet. If you are using a browser, then cookies and web beacons can be used to collect information to help determine your likely interests. If you are using a mobile device, tablet, or streaming media device that includes a resettable device identifier, then that identifier can be used to help determine your likely interests. For your choices about interest-based ads from Actswebapp, please see the \"Cookies and Internet Advertising\" section (below).\n\nMatched Identifier Communications. Some third party sites and apps allow us to reach our users with online promotions about our titles and services by sending a privacy protective identifier to the third party. A privacy protective identifier means we convert the original information (such as an email address or phone number) into a value to keep the original information from being revealed. The third party compares the privacy protective identifier to identifiers in its database and there will be a match only if you have used the same identifier (such as an email address) with Actswebapp and the third party. If there is a match, Actswebapp can then choose whether or not to send a given promotional communication to you on that third party site or app, and can optimize and better measure the effectiveness of online advertising. You can opt out in the Marketing Communications section of the Account section of our website.\n\n## Your Information and Rights\nYou can request access to your personal information, or correct or update out-of-date or inaccurate personal information we hold about you. You may also request that we delete personal information that we hold about you.\n`\n+\n\n// When you visit the \"Account\" portion of our website, you have the ability to access and update a broad range of information about your account, including your contact information, your Actswebapp payment information, and various related information about your account (such as the content you have viewed and rated). You must be signed in to access the \"Account\" section.\n\n// If you are the account owner, to download a copy of your personal information go to: www.actswebapp.com/account/getmyinfo (you must be signed in to access the \"Account\" section), and follow the instructions.\n\n`For other requests, or if you have a question regarding our privacy practices, please contact our Data Protection Officer/Privacy Office at privacy@actswebapp.com.\n\nWe may reject requests that are unreasonable or not required by law, including those that would be extremely impractical, could require disproportionate technical effort, or could expose us to operational risks such as free trial fraud. We may retain information as required or permitted by applicable laws and regulations, including to honor your choices, for our billing or records purposes and to fulfill the purposes described in this Privacy Statement. We take reasonable measures to destroy or de-identify personal information in a secure manner when it is no longer required.\n\n## Security\nWe use reasonable administrative, logical, physical and managerial measures to safeguard your personal information against loss, theft and unauthorized access, use and modification. These measures are designed to provide a level of security appropriate to the risks of processing your personal information.\n\n## Other Websites, Platforms and Applications\nThe Actswebapp service may be provided through and/or utilize features (such as voice controls) operated by third party platforms, or contain links to sites operated by third parties whose policies regarding the handling of information may differ from ours. For example, you may be able to access the Actswebapp service through platforms such as gaming systems, smart TVs, mobile devices, set top boxes and a number of other Internet connected devices. These websites and platforms have separate and independent privacy or data policies, privacy statements, notices and terms of use, which we recommend you read carefully. In addition, you may encounter third party applications that interact with the Actswebapp service.\n\n## Children\nYou must be 18 years of age or older to subscribe to the Actswebapp service. In certain jurisdictions, the age of majority may be older than 18, in which case, you must satisfy that age in order to become a member. While individuals under the age of 18 may utilize the service, they may do so only with the involvement, supervision, and approval of a parent or legal guardian.\n\n## Changes to This Privacy Statement\nWe will update this Privacy Statement from time to time in response to changing legal, regulatory or operational requirements. We will provide notice of any such changes (including when they will take effect) in accordance with law. Your continued use of the Actswebapp service after any such updates take effect will constitute acknowledgement and (as applicable) acceptance of those changes. If you do not wish to acknowledge or accept any updates to this Privacy Statement, you may cancel your use of the Actswebapp service. To see when this Privacy Statement was last updated, please see the \"Last Updated\" section below.\n\n## Cookies and Internet Advertising\nWe and our Service Providers use cookies and other technologies (such as web beacons), as well as resettable device identifiers, for various reasons. We want you to be informed about our use of these technologies, so this section explains the types of technologies we use, what they do, and your choices regarding their use. \n\nCookies and similar technologies, web beacons, and resettable device identifiers\n\nCookies are small data files that are commonly stored on your device when you browse and use websites and online services. We use other technologies such as browser storage and plugins (e.g., HTML5, IndexedDB, and WebSQL). Like cookies, these other technologies may store small amounts of data on your device. Web beacons (also known as clear gifs or pixel tags) often work in conjunction with cookies. In many cases, declining cookies will impair the effectiveness of web beacons associated with those cookies.\n\nIf you use the Actswebapp app on a mobile device, tablet, or streaming media device, we may collect a resettable device identifier from your device. Resettable device identifiers (also known as advertising identifiers) are similar to cookies and are found on many mobile devices and tablets (for example, the \"Identifier for Advertisers\" (or IDFA) on Apple iOS devices and the \"Google Advertising ID\" on Android devices), and certain streaming media devices. Like cookies, resettable device identifiers are used to make online advertising more relevant and for analytics and optimization purposes.   \n\n### Why does Actswebapp use these technologies?\n\nWe use these types of technologies for various reasons, like making it easy to access our services by remembering you when you return; to provide, analyze, understand and enhance the use of our services; to enforce our terms, prevent fraud; to improve site performance, monitor visitor traffic and actions on our site; and to deliver and tailor our marketing or advertising, and to understand interactions with our emails, marketing, and online ads on third party sites.  \n\nTo help you better understand how we use cookies and resettable device identifiers, please see the information below:\n\nEssential cookies: These cookies are strictly necessary to provide our website or online service. For example, we and our Service Providers may use these cookies to authenticate and identify our members when they use our websites and applications so we can provide our service to them. They also help us to enforce our Terms of Use, prevent fraud and maintain the security of our service. \nPerformance and functionality cookies: These cookies help us to customize and enhance your online experience with Actswebapp. For example, they help us to remember your preferences and prevent you from needing to re-enter information you previously provided (for example, during member sign up). We also use these cookies to collect information (such as popular pages, conversion rates, viewing patterns, click-through and other information) about our visitors' use of the Actswebapp service so that we can enhance and personalize our website and service and conduct market research. Deletion of these types of cookies may result in limited functionality of our service. \nAdvertising cookies and resettable device identifiers: These cookies and resettable device identifiers use information about your use of this and other websites and apps, your response to ads and emails, and to deliver ads that are more relevant to you and for analytics and optimization purposes. These types of ads are called \"interest-based advertising.\" The advertising cookies associated with our service belong to our Service Providers. \nIn connection with our use of these technologies, some of the websites and apps where we advertise, as well as advertising technology companies that we use to purchase, deliver, optimize, and/or measure our advertisements (collectively Advertising Partners), may receive limited information from us as part of our campaign targeting, measurement, and optimization (e.g., steps completed in sign-up and site visit or app open/install information).\n\nCommon uses of this type of information are to judge the effectiveness of and optimize ad campaigns, by allowing Advertising Partners to see when someone who saw an ad later signed up for our service.  Another common use is to make sure we do not serve ads trying to get individuals to sign up for the Actswebapp service if they are already a Actswebapp user.  \n\nActswebapp uses contractual and technical measures designed to prevent Advertising Partners from accessing information regarding specific title selections you make, URLs you land on, or shows you have watched on our service. We do not share information about title selections or your shows you have watched on our service.  \n\n### How can I exercise choice regarding these technologies? \n\n#### To exercise choice regarding cookies\n\nFor more information about cookies set through our website, as well as other types of online tracking (including the collection of information by third parties about your online activities over time and across third-party web sites or online services for online interest based advertising), and to exercise choices regarding them, click here. At this time, we do not respond to web browser \"do not track\" signals. \n\n#### To exercise choice regarding resettable device identifiers\n\nTo opt out of interest-based ads from Actswebapp in connection with a resettable device identifier on a mobile device, tablet, or streaming media devices, please configure the appropriate setting on your device (usually found under \"privacy\" or \"ads\" in your device's settings). You may still see Actswebapp ads on your device, but they will not be tailored to your likely interests. \n\n#### To exercise choice using self-regulatory program resources\n\nActswebapp supports the following self-regulatory programs, which provide additional privacy choices for interest-based advertising: \n\nIn the US: Digital Advertising Alliance (DAA) \nIn Europe: European Interactive Digital Advertising Alliance (EDAA) \nIn Canada: AdChoices: Digital Advertising Alliance of Canada (DAAC) / Choix de Pub: l'Alliance de la publicit numrique du Canada (DAAC)\nTo exercise choice regarding other technologies\n\nThere are a number of ways to exercise choice regarding technologies that are similar to cookies, such as browser storage and plugins (e.g., HTML5, IndexedDB, and WebSQL). For example, many popular browsers provide the ability to clear browser storage, commonly in the settings or preferences area; see your browser's help function or support area to learn more. Other technologies, such as Silverlight storage, may be cleared from within the application.\n\nUpdated: Oct 31, 2020`","import React, { cloneElement } from 'react';\r\nimport { Snackbar, IconButton, Typography } from '@material-ui/core';\r\nimport { Close as CloseIcon } from '@material-ui/icons';\r\n\r\nimport UserCreate from '../../../users/Create';\r\nimport { Switch, Route, useHistory, useLocation } from 'react-router-dom';\r\nimport SessionCreate from '../../../sessions/Create';\r\nimport SearchActivities from '../../../pages/Search';\r\nimport Dashboard from '../../../pages/Dashboard';\r\nimport ActivityShow from '../../../shedules/activities/Show';\r\n\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport ShedulesAddedActivitiesShowMany from '../../../shedules/activities/added/ShowMany';\r\nimport Contact from '../../../pages/Contact';\r\nimport { userSelector } from '../../../../utils/redux/user';\r\nimport { globalSelector } from '../../../../utils/redux/global';\r\nimport UserCreateError from '../../../users/Create/Error';\r\nimport UserCreateSuccess from '../../../users/Create/Success';\r\nimport Subscriptions from '../../../pages/Subscriptions';\r\nimport Reactivate from '../../../pages/Reactivate';\r\nimport TermsOfUse from '../../../pages/TermsOfUse';\r\nimport Privacy from '../../../pages/Privacy';\r\n\r\nconst SHEDULES = '/shedules';\r\n\r\nexport default function MainRoutes() {\r\n  const dispatch = useDispatch();\r\n  const {id, message} = useSelector(globalSelector).snackbar\r\n  const handleClose = ()=>dispatch({\r\n    snackbar: ''\r\n  });\r\n  return <>\r\n    <Snackbar\r\n      key={id}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      }}\r\n      open={!!id}\r\n      autoHideDuration={6000}\r\n      onClose={handleClose}\r\n      action={\r\n        <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\r\n          <CloseIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      }\r\n      message={message}\r\n    />\r\n  <Switch>\r\n    {\r\n      <Route exact path=\"/search\"><RouteWrapper mustBeLoggedIn><SearchActivities /></RouteWrapper></Route>\r\n    }\r\n    \r\n    <Route exact path=\"/contact\"><Contact/></Route>\r\n    <Route exact path=\"/\"><RouteWrapper mustBeLoggedIn><Dashboard /></RouteWrapper></Route>\r\n    {\r\n      // <Route exact path=\"/config\"><MustBeLoggedIn><UsersEdit /></MustBeLoggedIn></Route>\r\n    }\r\n    <Route exact path={`/activities/added`}><RouteWrapper mustBeLoggedIn><ShedulesAddedActivitiesShowMany /></RouteWrapper></Route>\r\n    <Route exact path={`/activities/added`}><RouteWrapper mustBeLoggedIn ><ShedulesAddedActivitiesShowMany /></RouteWrapper></Route>\r\n    <Route exact path={`/subscriptions`}><RouteWrapper mustBeLoggedIn ><Subscriptions /></RouteWrapper></Route>\r\n    <Route exact path={`${SHEDULES}/activities/:sheduleId`}><RouteWrapper mustBeLoggedIn><ActivityShow /></RouteWrapper></Route>\r\n    <Route exact path={`/signup`}><UserCreate/></Route>\r\n    <Route exact path={`/login`}><SessionCreate/></Route>\r\n    <Route exact path=\"/termsofuse\"><TermsOfUse /></Route>\r\n    <Route exact path=\"/privacy\"><Privacy /></Route>\r\n    <Route exact path={`/error`}><RouteWrapper mustBeLoggedIn><UserCreateError /></RouteWrapper></Route>\r\n    <Route exact path={`/success`}><RouteWrapper mustBeLoggedIn><UserCreateSuccess /></RouteWrapper></Route>\r\n    <Route exact path={`/reactivate`}><RouteWrapper mustBeLoggedIn><Reactivate /></RouteWrapper></Route>\r\n  </Switch>\r\n  </>\r\n};\r\n\r\n\r\nfunction RouteWrapper({children, mustBeLoggedIn, ...props}: {children: JSX.Element, mustBeLoggedIn?: Boolean}){\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const user = useSelector(userSelector);\r\n  React.useEffect(() => {\r\n    const unlisten = history.listen(() => {\r\n      window.scrollTo(0, 0);\r\n    });\r\n    return () => {\r\n      unlisten();\r\n    }\r\n  }, []);\r\n\r\n  if(mustBeLoggedIn){\r\n    if(!user){\r\n      history.push('/overview')\r\n      return null;\r\n    }\r\n    if(!user.creditApproved){\r\n      if(location.pathname !== '/error' && location.pathname !== '/success'){\r\n        history.push('/error')\r\n        return null\r\n      }\r\n    }\r\n    if(!user.active){\r\n      if(location.pathname !== '/reactivate'){\r\n        history.push('/reactivate')\r\n        return null\r\n      }\r\n    }\r\n  }\r\n  return <>    \r\n    {\r\n      cloneElement(children, props)\r\n    }\r\n  </>\r\n}","import React, {useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles';\nimport { Tooltip } from '@material-ui/core';\nimport { sendEvent } from '../../../../../utils/ga';\n\nconst useStyles = makeStyles({\n  link: {\n    textDecoration: 'none',\n    color: 'inherit'\n  }\n})\n\nexport default function Profile({className}: {className: string}){\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState<HTMLElement|null>(null);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const handleClose = ()=>{\n    setAnchorEl(null);\n  }\n  const handleClick = (event: any) => {\n    sendEvent({\n      category: 'account',\n      action: 'click',\n      label: 'none'\n    })\n    setAnchorEl(event.currentTarget);\n  };\n  return <>\n    <Tooltip enterDelay={0} title=\"Account\">\n      <IconButton className={className} color=\"inherit\" onClick={handleClick} aria-label=\"open profile menu\" component=\"span\">\n        <AccountCircle />\n      </IconButton>\n    </Tooltip>\n    <Menu\n      id=\"profile-menu\"\n      anchorEl={anchorEl}\n      keepMounted\n      open={Boolean(anchorEl)}\n      onClose={handleClose}\n    > \n      <MenuItem>\n        <Link className={classes.link} to=\"/subscriptions\">Subscriptions</Link>\n      </MenuItem>\n      <MenuItem onClick={()=>{\n        sendEvent({\n          category: 'account',\n          action: 'click',\n          label: 'logout'\n        })\n        handleClose()\n        dispatch({type: 'RESET'})\n        history.push('/')\n      }}>Logout</MenuItem>\n    </Menu>\n  </>\n}","import { Button, Divider, Grid, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Box } from '@material-ui/core';\nimport copy from 'copy-to-clipboard';\nimport { userSelector } from '../../../../../utils/redux/user';\nimport FAIcon from '../../../general/FAIcon';\nimport MyPopover from '../../../general/Popover';\nimport { Tooltip } from '@material-ui/core';\nimport { createUserAction } from '../../../../../utils/redux/user';\nimport { uiCreditsSelector, createUIAction } from '../../../../../utils/redux/ui';\nimport { makeStyles } from '@material-ui/styles';\nimport { sendEvent } from '../../../../../utils/ga';\n\nconst useStyles = makeStyles((theme: any)=>({\n  icon: {\n    cursor: 'pointer',\n    color: theme.palette.primary.main\n  }\n}))\n\ninterface $props {\n  affiliate?: Boolean\n}\n\nexport default function TopNavigationRefer({affiliate}: $props){\n  const [copied, setCopied] = React.useState(false);\n  const classes = useStyles();\n  const user = useSelector(userSelector);\n  const credits = useSelector(uiCreditsSelector);\n  const dispatch = useDispatch();\n  const code = process.env.REACT_APP_CLIENT_URL + `/#/signup?referral_code=${user.id}`;\n  return <MyPopover\n    ga={{\n      category: 'refer',\n      action: 'click',\n      label: affiliate ? '20percent' : '1FreeMonth'\n    }}\n    disableHover\n    popoverProps={{onClose: ()=>{\n      setCopied(false)\n      dispatch(createUIAction({\n        credits: {\n          ...credits,\n          hasNew: false\n        }\n      }))\n    }}}\n  renderHoverableContent={()=><Tooltip enterDelay={0} title=\"Referral Info\"><Button variant=\"contained\" color={credits.hasNew ? \"secondary\" : \"primary\"}>{affiliate ? 'Earn 20%' : '+1 Free Month'}</Button></Tooltip>}\n    renderOnHoverContent={()=><Box width=\"20rem\" whiteSpace=\"normal\" padding=\"1.5rem\">\n      {\n      affiliate ? <>\n        <Typography variant=\"body2\">Earn <strong>20%</strong> of revenue generated from users who sign up with this referral link.</Typography>\n        <Box m=\"1rem\"><Divider /></Box>\n        <Typography variant=\"body2\">Users who sign up with this link will start with <strong>two free months</strong>.</Typography>\n        <Box m=\"1rem\"><Divider /></Box>\n        <Typography variant=\"body2\">You can only earn revenue from a user for the first five years of their membership, and your total earnings through this program are capped at <strong>$2,000,000.00 (USD)</strong></Typography>\n      </>\n      : \n      <Typography variant=\"body2\">\n          Send this referral link to a friend and you both get an additional <strong>free</strong> month when they sign up\n      </Typography>\n      }\n      <Box m=\"1rem\"><Divider /></Box>\n      <Box>\n        <Grid container>\n          <Grid item xs={3}>\n            {\n              copied ? \"Link copied to clipboard!\" : <Tooltip title=\"copy to clipboard\">\n              <span className={classes.icon} onClick={()=>{\n                sendEvent({category: 'reffer', action: 'click', label: 'copy'});\n                copy(code)\n                setCopied(true)\n              }}>\n                <FAIcon \n                type=\"clipboard\" size=\"2x\" />\n                <Typography>Copy Link</Typography>\n              </span>\n            </Tooltip>\n            }\n          </Grid>\n          \n          <Grid item xs={9}>\n            <Typography variant=\"body2\">{code}</Typography>\n          </Grid>\n        </Grid>\n        {\n          credits.count === 0 ? null : <Box m=\"1rem 0\">\n            <Divider />\n          </Box>\n        }\n        {\n          credits.count === 0 ? null : <Grid container><Grid item>\n            <Typography variant=\"body2\"><strong>Congratulations</strong><>, you have</><strong>{credits.count}</strong><>{` free month credit${credits.count > 1 ? 's' : ''}`}</>\n            </Typography>\n          </Grid></Grid>\n        }\n      </Box>\n    </Box>\n    }\n  />\n}","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { IconButton, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport Profile from './Profile';\nimport FAIcon from '../../general/FAIcon';\nimport { userSelector } from '../../../../utils/redux/user';\nimport { addedActivitiesSelector } from '../../../../utils/redux/config';\nimport HomeIcon from '@material-ui/icons/Home';\nimport { blue } from '@material-ui/core/colors';\nimport IconMenu from '../../general/IconMenu';\nimport TopNavigationRefer from './Refer';\nimport classNames from 'classnames';\nimport { Tooltip } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    fontWeight: 300,\n    \n\n  },\n  logo: {\n    height: '3.5rem',\n  },\n  titleLink: {\n    flexGrow: 1,\n    textDecoration: 'none',\n    color: 'inherit',\n    // marginRight: '3.5rem'\n  },\n  iconButtons: {\n    // color: 'rgba(0,0,0,0.7)',\n    color: blue[700],\n    textDecoration: 'none'\n  }\n}));\n\nexport default (props: any)=>{\n  const classes = useStyles();\n  const user = useSelector(userSelector);\n  const addedActivities = useSelector(addedActivitiesSelector);\n\n  return <AppBar position=\"sticky\"\n    color=\"inherit\"\n  >\n    <Toolbar>\n      <Link className={classes.titleLink} to=\"/\">\n        <Typography variant=\"h6\" className={classes.title}>\n            {\n              props.logo || \"Goodplans\" || <img alt=\"Acts logo\" src=\"https://imgur.com/ltNSZaz.png\" className={classes.logo}/>\n            }\n        </Typography>\n      </Link>\n        {\n          !user ? <>\n          <Button color=\"inherit\"><Link to=\"/login\">Login</Link></Button>\n          <Button color=\"inherit\"><Link to=\"/signup\">Signup</Link></Button></>\n          :\n          <>\n          {\n            // <Create />\n          }\n          {\n            !user.creditApproved || props.affiliate ? null : <>\n              <Tooltip enterDelay={0} title=\"Activities\"><Link className={classNames(classes.iconButtons, 'go-to-dashboard')} to=\"/\"><IconButton className=\"main-search-icon\" color=\"inherit\"><FAIcon size=\"md\" type=\"running\" /></IconButton></Link></Tooltip>\n              <Tooltip enterDelay={0} title=\"Bookmarks\"><Link className={classNames(classes.iconButtons, 'go-to-bookmarks')} to=\"/activities/added\"><IconButton color=\"inherit\">{Object.keys(addedActivities).length ? Object.keys(addedActivities).length : null}<FAIcon size=\"md\" type=\"bookmark\"/></IconButton></Link></Tooltip>\n              <Tooltip enterDelay={0} title=\"Search\"><Link className={classes.iconButtons} to=\"/search\"><IconButton color=\"inherit\"><FAIcon size=\"md\" type=\"search\"/></IconButton></Link></Tooltip>\n            </>\n          }\n          <Profile className={classes.iconButtons} />\n          <TopNavigationRefer affiliate={props.affiliate} />\n          </>\n        }\n    </Toolbar>\n  </AppBar>\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport Chart from 'chart.js';\nimport { Box } from '@material-ui/core';\n\nexport default function BarChart({barChartProps, boxProps}: any){\n  const canvas = useRef(null);\n  const [chart, setChart] = useState<any>(null);\n  useEffect(()=>{\n    if(canvas && canvas.current){\n      const ctx = (canvas.current as any).getContext('2d');\n      setChart(new Chart(ctx, {\n        type: 'bar',\n        ...barChartProps\n      }));\n    }\n  }, [canvas])\n  return <Box {...boxProps}><canvas ref={canvas} width=\"400\" height=\"400\" /></Box>\n}","import React from 'react';\nimport BarChart from '../../../../components/general/BarChart';\n\nexport default function DashboardBarChart({data, money}: any){\n  return <BarChart barChartProps={{\n    data,\n    options: {\n      maintainAspectRatio: false,\n      scales: {\n        yAxes: [{\n            ticks: {\n                beginAtZero: true,\n                suggestedMax: 100,\n                ...(!money ? {} : {\n                    callback: function(value: number) {\n                    return '$' + value;\n                  }\n                })\n            }\n        }]\n      }\n    }\n  }} boxProps={{position: 'relative', m: '2rem auto', height: '300px', maxWidth: '600px'}}/>\n}","import React from 'react';\nimport { colors, Button } from '@material-ui/core';\nimport { Container, makeStyles, Typography, Grid } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport DashboardBarChart from '../Dashboard/BarChart';\nimport { Box } from '@material-ui/core';\nimport { AccordionDetails } from '@material-ui/core';\nimport { FormLabel } from '@material-ui/core';\nimport { ExpandMore } from '@material-ui/icons';\nimport { AccordionSummary } from '@material-ui/core';\nimport { Accordion } from '@material-ui/core';\n\nconst useMastStyles = makeStyles({\n  root: {\n    color: '#fff',\n    backgroundImage: \"url('https://images.unsplash.com/photo-1502086223501-7ea6ecd79368?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1323&q=80')\",\n    width: '100%',\n    height: '100vh',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundAttachment: 'scroll',\n    backgroundSize: 'cover',\n    position: 'relative'\n  },\n  titleWrapper: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  title: {\n    display: 'inline-block',\n  },\n  subtitle: {\n    display: \"inline-block\",\n  },\n  signup: {\n    backgroundColor: colors.teal['A100'],\n  },\n  signupWrapper: {\n    width: '200px',\n    margin: '2rem auto',\n  },\n  login: {\n    backgroundColor: colors.teal['A100'],\n    position: 'absolute',\n    top: 20,\n    right: 10,\n    width: '150px',\n  }\n})\n\nconst useSubjectStyles = makeStyles({\n  root: {\n    padding: '5rem',\n    // backgroundColor: colors.teal['A100']\n    backgroundColor: colors.grey[50]\n  },\n  title: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n  },\n  boxes: {\n    color: '#FFF',\n    backgroundSize: 'cover',\n    height: '200px',\n    width: '180px',\n    display: 'inline-block',\n    margin: '1rem',\n    borderRadius: '0.5rem'\n  }\n})\n\nconst useAgeStyles = makeStyles({\n  root: {\n    // padding: '5rem',\n    // backgroundColor: colors.teal['A100']\n    backgroundImage: \"url('https://images.unsplash.com/photo-1482235225574-c37692835cf3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1351&q=80')\",\n    backgroundPosition: 'center',\n    backgroundSize: 'cover',\n    height: '400px',\n    width: '100%',\n  },\n  // img: {\n    \n  //   width: '400px',\n  //   height: '200px',\n  // }\n})\n\nconst useMaterialStyles = makeStyles({\n  root: {\n    padding: '5rem',\n    backgroundColor: colors.teal['A100']\n    // height: '400px',\n    // width: '100%',\n  },\n  // img: {\n    \n  //   width: '400px',\n  //   height: '200px',\n  // }\n})\n\n\n\n/**\n * Find activities by subject\n * Use age restrictions\n * Add activities to your schedule\n * Get the materials in each activity\n */\n\n\n \nexport default function AffiliateLanding(){\n\n  const Bx = ({url, tag}: {url: string, tag: string})=><Grid container justify=\"center\" alignItems=\"flex-end\" className={subjectClasses.boxes}\n    style={{\n      backgroundImage: `url('${url}')`\n  }}>\n    <Grid item>\n      <Typography>#{tag}</Typography>\n    </Grid>\n  </Grid>\n  const mastClasses = useMastStyles();\n  const subjectClasses = useSubjectStyles();\n  const ageClasses = useAgeStyles();\n  const materialClasses = useMaterialStyles();\n  const signupButton = <div className={mastClasses.signupWrapper}><Link to=\"/signup\"><Button fullWidth className={mastClasses.signup}>Signup Now</Button></Link></div>\n  return <Container disableGutters>\n    <Grid className={mastClasses.root} container justify=\"center\" alignItems=\"center\">\n      <Grid item xs={12}>\n        <Typography align=\"center\" variant=\"h2\">Help parents make activities a breeze</Typography>\n        <Typography align=\"center\" variant=\"h4\">And earn recurring income in the process</Typography>\n\n        {\n          signupButton\n        }\n      </Grid>\n      <div className={mastClasses.titleWrapper}>\n        <Typography variant=\"h1\" className={mastClasses.title}>acts.</Typography>\n        <Typography variant=\"h5\" className={mastClasses.subtitle}>Affiliates Program</Typography>\n      </div>\n      <Link to=\"/login\"><Button className={mastClasses.login}>Login</Button></Link>\n    </Grid>\n    <Grid container className={subjectClasses.root} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n        <Typography variant=\"h6\">Parents can choose activities by subject and age</Typography>\n      </Grid>\n      <Grid item>\n        <div>\n          <div>\n            <Bx tag=\"stem\" url=\"https://images.unsplash.com/photo-1560961911-ba7ef651a56c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1334&q=60\" />\n            <Bx tag=\"arts&crafts\" url=\"https://images.unsplash.com/photo-1596495718166-7ac739ca1bc4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </div>\n          <div>\n            <Bx tag=\"active\" url=\"https://images.unsplash.com/photo-1489710437720-ebb67ec84dd2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n            <Bx tag=\"sensory\" url=\"https://images.unsplash.com/photo-1504484440176-4f89a392c862?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60\" />\n          </div>\n          <div>\n            <Typography align=\"center\">And many more...</Typography>\n          </div>\n        </div>\n      </Grid>\n    </Grid>\n    <Grid style={{\n      backgroundColor: colors.teal['A100']\n    }}container justify=\"center\" alignItems=\"center\">\n      <Grid className={ageClasses.root} xs={12} md={6} style={{\n        backgroundImage: \"url('https://images.unsplash.com/photo-1459257831348-f0cdd359235f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80')\"\n      }} item>\n        \n      </Grid>\n      <Grid className={materialClasses.root} xs={12} md={6}item>\n      <Typography variant=\"h6\">Earn 20% of all revenue generated from members you refer for 5 years</Typography>\n      <Typography align=\"center\" variant=\"body1\">(For a maximum earnings of {`(USD)$`}3,000,000.00)</Typography>\n      </Grid>\n    </Grid>\n    <Grid container className={ageClasses.root} justify=\"center\" alignItems=\"center\">\n    </Grid>\n    <Grid style={{\n      backgroundColor: colors.teal['A100']\n    }}container justify=\"center\" alignItems=\"center\">\n      <Grid style={{backgroundColor: colors.grey[50]}}  xs={12} md={6} item>\n        <DashboardBarChart money data={\n          {\n            labels: ['November 1', 'January 1', 'March 1'],\n            datasets: [{\n              label: 'Earnings (USD) during bi-monthly period',\n              data: [111.01, 67.55, 202.02]\n            }]\n          }\n        } />\n      </Grid>\n      <Grid className={materialClasses.root} xs={12} md={6}item>\n        <Typography align=\"center\" variant=\"h6\">We pay you bi-monthly</Typography>\n      </Grid>\n    </Grid>\n    <Grid container justify=\"center\">\n      <Grid item>\n        <Box p=\"3rem\" maxWidth=\"600px\">\n          <Typography align='center' variant=\"h6\">FAQ</Typography>\n            {\n              [\n                ['How is revenue calculated?','Anytime a member you referred makes a monthly payment, you earn 20% of that payment. So if a member pays $2.00, you earn $0.40 that month from that member.'],\n                ['How often are payments made?', 'Payments to affiliate members are paid on the first of every other month'],\n                ['What does a maximum of $3,000,000 mean?', 'If through this program your earnings reach $3,000,000, your earnings are capped, and you cannot earn anymore money with that account'], \n                ['What does over 5 years mean?', 'From the moment your account is created, you can earn money from that date to the same day of the same month, 5 years later.'],\n                ['Do you expect memberships to always be $2.00?', 'No, we expect the monthly fee to grow as the quality of the content improves'],\n              ].map(([summary, content], i)=><Accordion>\n                  <AccordionSummary\n                  // classes={accordionClasses}\n                  expandIcon={<ExpandMore />}\n                  aria-controls={\"panel\"+i+\"a-content\"}\n                  id={\"panel\"+i+\"a-header\"}\n                >\n                  <FormLabel component=\"legend\">{summary}</FormLabel>\n                </AccordionSummary>\n                <AccordionDetails>\n                  {content}\n                </AccordionDetails>\n              </Accordion>)\n            }\n        </Box>\n      </Grid>\n    </Grid>\n    <Grid className={ageClasses.root} style={{\n        backgroundImage: \"url('https://images.unsplash.com/photo-1517554558809-9b4971b38f39?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80')\"\n      }} item></Grid>\n            \n    <Grid container className={subjectClasses.root} justify=\"center\" alignItems=\"center\">\n        <Grid item>\n          <Typography variant=\"h3\" align='center'>Help change parents' lives</Typography>\n          {\n            signupButton\n          }\n        </Grid>\n    </Grid>\n  </Container>\n}","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { SERVER_ADDRESS } from '../../../../utils/remote';\nimport { SessionCreateCard } from '../../../sessions/Create';\n\nexport const endpoint = SERVER_ADDRESS + '/sessions';\n\n\nexport default function AffiliateLogin(){\n  const history = useHistory();\n  return <SessionCreateCard type=\"aff\" api={endpoint} onSuccessCB={()=>history.push('/')}/>;\n}","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {UserCreateCard} from '../../../users/Create';\nimport { SERVER_ADDRESS } from '../../../../utils/remote';\n\nexport const endpoint = SERVER_ADDRESS+'/users/affiliates';\n\nexport default function AffiliateSignup(){\n  const history = useHistory();\n  return <UserCreateCard\n    api={endpoint}\n    onSuccessCB={()=>{\n      history.push('/')\n    }}\n    type=\"aff\"\n  />\n}","import { Card, CardContent, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { SERVER_ADDRESS, useCustomSwr } from '../../../../utils/remote';\nimport { Box } from '@material-ui/core';\nimport DashboardBarChart from './BarChart';\n\nexport default function AffiliateDashboard(){\n  const { data: activeReferrals } = useCustomSwr(SERVER_ADDRESS+'/users/referrals')\n  const { data: affiliateInformation } = useCustomSwr(SERVER_ADDRESS+'/users/affiliates')\n  if(!affiliateInformation || !activeReferrals) return null\n  const earningsData = {\n    labels: Object.keys(affiliateInformation.history.earningsByDate),\n    datasets: [{\n      label: 'Earnings (USD) during bi-monthly period',\n      data: Object.values(affiliateInformation.history.earningsByDate).map((v: any) => (v*0.1)/100),\n    }]\n  }\n  const activeUsersData = {\n    labels: Object.keys(affiliateInformation.history.earningsByDate).concat(['Today']),\n    datasets: [{\n      label: 'Numbers of active users durning bi-monthly period',\n      data: Object.values(affiliateInformation.history.activeUsersByDate).concat([activeReferrals?.count]),\n    }]\n  }\n  return <div>\n    <Box m=\"1rem auto\" maxWidth=\"600px\">\n      <Card>\n        <CardContent>\n          <Typography variant=\"h6\" component=\"h2\">Number of active referred accounts: <strong>{activeReferrals?.count}</strong></Typography>\n        </CardContent>\n      </Card>\n    </Box>\n    <Box m=\"1rem auto\" maxWidth=\"600px\">\n      <Card>\n        <CardContent>\n          <DashboardBarChart data={earningsData} />\n        </CardContent>\n      </Card>\n    </Box>\n    <Box m=\"1rem auto\" maxWidth=\"600px\">\n      <Card>\n        <CardContent>\n          <DashboardBarChart data={activeUsersData} />\n        </CardContent>\n      </Card>\n    </Box>\n  </div>\n}","import React, { cloneElement } from 'react';\nimport { Route, useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { userSelector } from '../../../../utils/redux/user';\nimport AffiliateLanding from '../../../pages/affiliates/Landing';\nimport AffiliateLogin from '../../../pages/affiliates/Login';\nimport AffiliateSignup from '../../../pages/affiliates/Signup';\nimport AffiliateDashboard from '../../../pages/affiliates/Dashboard';\nimport AffiliateDisclaimer from '../../../pages/affiliates/Disclosure';\nimport { Box } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport { Container, Divider, Typography } from '@material-ui/core';\nimport Top from '../../navigation/Top';\n\nconst useStyle = makeStyles({\n  page: {\n    paddingTop: '1rem',\n    paddingBottom: '4rem',\n    backgroundColor: '#eaf5e6',//grey[100],\n    minHeight: '90vh',\n  }\n})\n\nfunction PageContainer(props: any){\n  const classes = useStyle();\n  return <>\n    <Top affiliate logo={'acts.Affiliates'}/>\n    <Container maxWidth={false} className={classes.page}>\n      {props.children}\n    </Container>\n  </>\n}\n\nexport default function AffiliateRoutes() {\n  return <>\n    <Route exact path=\"/login\"><PageContainer><AffiliateLogin /></PageContainer></Route>\n    <Route exact path=\"/signup\"><PageContainer><AffiliateSignup /></PageContainer></Route>\n    <Route exact path=\"/\"><RouteWrapper mustBeLoggedIn><PageContainer><AffiliateDashboard /></PageContainer></RouteWrapper></Route>\n    <Route exact path=\"/overview\"><AffiliateLanding /></Route>\n  </>\n};\n\n\n\nfunction RouteWrapper({children, mustBeLoggedIn, ...props}: {children: JSX.Element, mustBeLoggedIn?: Boolean}){\n  const history = useHistory();\n  const user = useSelector(userSelector);\n  if(mustBeLoggedIn){\n    if(!user || user.type !== 'aff'){\n      history.push('/overview')\n      return null;\n    }\n  }  \n  return <>    \n    {\n      cloneElement(children, props)\n    }\n  </>\n}","import React from 'react';\n\nimport { Switch, Route } from 'react-router-dom';\nimport { makeStyles, Container } from '@material-ui/core';\nimport Footer from '../../navigation/Footer';\nimport Overview from '../../../pages/Overview';\nimport MainRoutes from '../Main';\nimport TopNavigation from '../../navigation/Top';\nimport { SERVER_ADDRESS, get } from '../../../../utils/remote';\nimport { createConfigAction, configSelector } from '../../../../utils/redux/config';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userSelector } from '../../../../utils/redux/user';\nimport { createUIAction, uiCreditsSelector } from '../../../../utils/redux/ui';\nimport AffiliateRoutes from '../Affiliate';\n\nconst useStyle = makeStyles({\n  page: {\n    paddingTop: '1rem',\n    paddingBottom: '4rem',\n    backgroundColor: '#eaf5e6',//grey[100],\n    minHeight: '90vh',\n  }\n})\n\nconst CoreApp = ()=>{\n  const classes = useStyle()\n  return <>\n    <TopNavigation />\n    <Container className={classes.page} maxWidth={false}>\n      <MainRoutes />\n    </Container>\n  </>\n}\n\nexport default function RootRoutes() {\n  const dispatch = useDispatch();\n  const config = useSelector(configSelector);\n  const user = useSelector(userSelector);\n  const credits = useSelector(uiCreditsSelector);\n  React.useEffect(()=>{\n    (async ()=>{\n      if(user && user.creditApproved){\n        const {data: count} = await get(SERVER_ADDRESS+'/credits/count');\n        const configData = await get(SERVER_ADDRESS+'/users/config');\n        dispatch(createConfigAction({\n          flush: true,\n          data: {\n            ...config,\n            ...configData\n          }\n        }))\n        dispatch(createUIAction({\n          credits: {\n            count: count || 0,\n            hasNew: credits.count < count,\n          }\n        }))\n      }\n    })();\n\n  },[user])\n\n  return <>\n      {\n        process.env.REACT_APP_AFFILIATE ?  <Switch><AffiliateRoutes /></Switch> : <Switch>\n          <Route exact path=\"/overview\"><Overview/></Route>\n          <Route path=\"*\"><CoreApp /></Route>\n          </Switch>\n      }\n    <Footer />\n  </>\n};\n\n\n","import 'fontsource-roboto';\n\nimport React, { useEffect } from 'react';\n// import { BrowserRouter } from 'react-router-dom';\nimport { HashRouter, useHistory } from 'react-router-dom';\nimport { SWRConfig } from 'swr';\nimport { Provider } from 'react-redux';\n\nimport { store } from './utils/redux';\nimport { get } from './utils/remote';\nimport RootRoutes from './features/components/routes/Root';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\n\nimport DateFnsUtils from '@date-io/date-fns';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { blue } from '@material-ui/core/colors';\nimport { sendPageView } from './utils/ga';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: blue[700],\n    },\n  },\n});\nfunction App() {\n  return <Wrap store={store}><HistoryWrapper/><RootRoutes /></Wrap>;\n}\n\nexport default App;\n\nconst Router = HashRouter;\n\nfunction HistoryWrapper(){\n  const history = useHistory();\n  useEffect(()=>{\n    history.listen(({pathname/*, search, hash, state*/}: any) => {\n      sendPageView(pathname)\n      \n    });\n  }, [history])\n  return null\n}\n\nexport function Wrap({children, store}: { children: JSX.Element|JSX.Element[], store: any}){\n  return (<SWRConfig\n    value={{\n      // refreshInterval: 3000,\n      fetcher: (arg1, ...args)=>{\n        return get(arg1, ...args)\n      },\n    }}\n    >\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <ThemeProvider theme={theme}>\n        <Provider store={store}>\n          <div>\n            <Router>\n              {\n                children\n              }\n            </Router>\n          </div>\n        </Provider>\n      </ThemeProvider>\n    </MuiPickersUtilsProvider>\n  </SWRConfig>);\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}